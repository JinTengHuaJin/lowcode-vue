import{c as Ln,g as Ry,v as sw,_ as Re,a as lw,d as Up,b as uw,e as yp,F as cw,r as hw,o as mp,f as wa,t as pw,h as Qo,w as dw,i as fw,j as gw,k as ry,l as vw,m as yw,n as oy}from"./index.6ad845c3.js";var mw={},No={exports:{}};(function(v,m){(function(l,E){E(m)})(Ln,function(l){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */var E=function(i,n){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(i,n)};function x(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=i}E(i,n),i.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var y=function(){return(y=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i}).apply(this,arguments)};function f(i,n){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&n.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(e=Object.getOwnPropertySymbols(i);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(i,e[r])&&(t[e[r]]=i[e[r]])}return t}function P(i,n,t,e){var r,o=arguments.length,a=o<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,n,t,e);else for(var s=i.length-1;s>=0;s--)(r=i[s])&&(a=(o<3?r(a):o>3?r(n,t,a):r(n,t))||a);return o>3&&a&&Object.defineProperty(n,t,a),a}function T(i,n,t){if(t||arguments.length===2)for(var e,r=0,o=n.length;r<o;r++)!e&&r in n||(e||(e=Array.prototype.slice.call(n,0,r)),e[r]=n[r]);return i.concat(e||Array.prototype.slice.call(n))}var N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ln<"u"?Ln:typeof self<"u"?self:{},j={exports:{}};/*!
     * jQuery JavaScript Library v3.6.0
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright OpenJS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2021-03-02T17:08Z
     */(function(i){(function(n,t){i.exports=n.document?t(n,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}})(typeof window<"u"?window:N,function(n,t){var e=[],r=Object.getPrototypeOf,o=e.slice,a=function(p){return e.concat.apply([],p)},s=e.push,u=e.indexOf,c={},h=c.toString,d=c.hasOwnProperty,g=d.toString,C=g.call(Object),A={},D=function(p){return typeof p=="function"&&typeof p.nodeType!="number"&&typeof p.item!="function"},k=function(p){return p!=null&&p===p.window},O=n.document,F={type:!0,src:!0,nonce:!0,noModule:!0};function B(p,b,S){var M,L,R=(S=S||O).createElement("script");if(R.text=p,b)for(M in F)(L=b[M]||b.getAttribute&&b.getAttribute(M))&&R.setAttribute(M,L);S.head.appendChild(R).parentNode.removeChild(R)}function z(p){return p==null?p+"":typeof p=="object"||typeof p=="function"?c[h.call(p)]||"object":typeof p}var Y="3.6.0",w=function(p,b){return new w.fn.init(p,b)};function Q(p){var b=!!p&&"length"in p&&p.length,S=z(p);return!D(p)&&!k(p)&&(S==="array"||b===0||typeof b=="number"&&b>0&&b-1 in p)}w.fn=w.prototype={jquery:Y,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(p){return p==null?o.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var b=w.merge(this.constructor(),p);return b.prevObject=this,b},each:function(p){return w.each(this,p)},map:function(p){return this.pushStack(w.map(this,function(b,S){return p.call(b,S,b)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(p,b){return(b+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(p,b){return b%2}))},eq:function(p){var b=this.length,S=+p+(p<0?b:0);return this.pushStack(S>=0&&S<b?[this[S]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:e.sort,splice:e.splice},w.extend=w.fn.extend=function(){var p,b,S,M,L,R,V=arguments[0]||{},K=1,Z=arguments.length,et=!1;for(typeof V=="boolean"&&(et=V,V=arguments[K]||{},K++),typeof V=="object"||D(V)||(V={}),K===Z&&(V=this,K--);K<Z;K++)if((p=arguments[K])!=null)for(b in p)M=p[b],b!=="__proto__"&&V!==M&&(et&&M&&(w.isPlainObject(M)||(L=Array.isArray(M)))?(S=V[b],R=L&&!Array.isArray(S)?[]:L||w.isPlainObject(S)?S:{},L=!1,V[b]=w.extend(et,R,M)):M!==void 0&&(V[b]=M));return V},w.extend({expando:"jQuery"+(Y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var b,S;return!(!p||h.call(p)!=="[object Object]")&&(!(b=r(p))||typeof(S=d.call(b,"constructor")&&b.constructor)=="function"&&g.call(S)===C)},isEmptyObject:function(p){var b;for(b in p)return!1;return!0},globalEval:function(p,b,S){B(p,{nonce:b&&b.nonce},S)},each:function(p,b){var S,M=0;if(Q(p))for(S=p.length;M<S&&b.call(p[M],M,p[M])!==!1;M++);else for(M in p)if(b.call(p[M],M,p[M])===!1)break;return p},makeArray:function(p,b){var S=b||[];return p!=null&&(Q(Object(p))?w.merge(S,typeof p=="string"?[p]:p):s.call(S,p)),S},inArray:function(p,b,S){return b==null?-1:u.call(b,p,S)},merge:function(p,b){for(var S=+b.length,M=0,L=p.length;M<S;M++)p[L++]=b[M];return p.length=L,p},grep:function(p,b,S){for(var M=[],L=0,R=p.length,V=!S;L<R;L++)!b(p[L],L)!==V&&M.push(p[L]);return M},map:function(p,b,S){var M,L,R=0,V=[];if(Q(p))for(M=p.length;R<M;R++)(L=b(p[R],R,S))!=null&&V.push(L);else for(R in p)(L=b(p[R],R,S))!=null&&V.push(L);return a(V)},guid:1,support:A}),typeof Symbol=="function"&&(w.fn[Symbol.iterator]=e[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,b){c["[object "+b+"]"]=b.toLowerCase()});var J=function(p){var b,S,M,L,R,V,K,Z,et,pt,vt,st,ct,$t,te,Wt,un,In,br,He="sizzle"+1*new Date,le=p.document,pr=0,Me=0,cn=Du(),Es=Du(),Au=Du(),Cr=Du(),Di=function(G,W){return G===W&&(vt=!0),0},ba={}.hasOwnProperty,dr=[],Ca=dr.pop,Rr=dr.push,hn=dr.push,xr=dr.slice,wr=function(G,W){for(var _=0,gt=G.length;_<gt;_++)if(G[_]===W)return _;return-1},lo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Dn="[\\x20\\t\\r\\n\\f]",Fe="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",jn="\\[[\\x20\\t\\r\\n\\f]*("+Fe+")(?:"+Dn+"*([*^$|!~]?=)"+Dn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Fe+"))|)"+Dn+"*\\]",Er=":("+Fe+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+jn+")*)|.*)\\)|)",On=new RegExp(Dn+"+","g"),Sr=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),xa=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),Mu=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),Zx=new RegExp(Dn+"|>"),qx=new RegExp(Er),Qx=new RegExp("^"+Fe+"$"),Tu={ID:new RegExp("^#("+Fe+")"),CLASS:new RegExp("^\\.("+Fe+")"),TAG:new RegExp("^("+Fe+"|[*])"),ATTR:new RegExp("^"+jn),PSEUDO:new RegExp("^"+Er),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+lo+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},_x=/HTML$/i,tw=/^(?:input|select|textarea|button)$/i,ew=/^h\d$/i,Ss=/^[^{]+\{\s*\[native \w/,nw=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hp=/[+~]/,Ao=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Mo=function(G,W){var _="0x"+G.slice(1)-65536;return W||(_<0?String.fromCharCode(_+65536):String.fromCharCode(_>>10|55296,1023&_|56320))},J0=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Z0=function(G,W){return W?G==="\0"?"\uFFFD":G.slice(0,-1)+"\\"+G.charCodeAt(G.length-1).toString(16)+" ":"\\"+G},q0=function(){st()},rw=Nu(function(G){return G.disabled===!0&&G.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{hn.apply(dr=xr.call(le.childNodes),le.childNodes),dr[le.childNodes.length].nodeType}catch{hn={apply:dr.length?function(W,_){Rr.apply(W,xr.call(_))}:function(W,_){for(var gt=W.length,tt=0;W[gt++]=_[tt++];);W.length=gt-1}}}function $e(G,W,_,gt){var tt,wt,Tt,Nt,zt,ae,se,oe=W&&W.ownerDocument,Pe=W?W.nodeType:9;if(_=_||[],typeof G!="string"||!G||Pe!==1&&Pe!==9&&Pe!==11)return _;if(!gt&&(st(W),W=W||ct,te)){if(Pe!==11&&(zt=nw.exec(G)))if(tt=zt[1]){if(Pe===9){if(!(Tt=W.getElementById(tt)))return _;if(Tt.id===tt)return _.push(Tt),_}else if(oe&&(Tt=oe.getElementById(tt))&&br(W,Tt)&&Tt.id===tt)return _.push(Tt),_}else{if(zt[2])return hn.apply(_,W.getElementsByTagName(G)),_;if((tt=zt[3])&&S.getElementsByClassName&&W.getElementsByClassName)return hn.apply(_,W.getElementsByClassName(tt)),_}if(S.qsa&&!Cr[G+" "]&&(!Wt||!Wt.test(G))&&(Pe!==1||W.nodeName.toLowerCase()!=="object")){if(se=G,oe=W,Pe===1&&(Zx.test(G)||Mu.test(G))){for((oe=hp.test(G)&&dp(W.parentNode)||W)===W&&S.scope||((Nt=W.getAttribute("id"))?Nt=Nt.replace(J0,Z0):W.setAttribute("id",Nt=He)),wt=(ae=V(G)).length;wt--;)ae[wt]=(Nt?"#"+Nt:":scope")+" "+Ou(ae[wt]);se=ae.join(",")}try{return hn.apply(_,oe.querySelectorAll(se)),_}catch{Cr(G,!0)}finally{Nt===He&&W.removeAttribute("id")}}}return Z(G.replace(Sr,"$1"),W,_,gt)}function Du(){var G=[];return function W(_,gt){return G.push(_+" ")>M.cacheLength&&delete W[G.shift()],W[_+" "]=gt}}function Kr(G){return G[He]=!0,G}function Jr(G){var W=ct.createElement("fieldset");try{return!!G(W)}catch{return!1}finally{W.parentNode&&W.parentNode.removeChild(W),W=null}}function pp(G,W){for(var _=G.split("|"),gt=_.length;gt--;)M.attrHandle[_[gt]]=W}function Q0(G,W){var _=W&&G,gt=_&&G.nodeType===1&&W.nodeType===1&&G.sourceIndex-W.sourceIndex;if(gt)return gt;if(_){for(;_=_.nextSibling;)if(_===W)return-1}return G?1:-1}function ow(G){return function(W){return W.nodeName.toLowerCase()==="input"&&W.type===G}}function iw(G){return function(W){var _=W.nodeName.toLowerCase();return(_==="input"||_==="button")&&W.type===G}}function _0(G){return function(W){return"form"in W?W.parentNode&&W.disabled===!1?"label"in W?"label"in W.parentNode?W.parentNode.disabled===G:W.disabled===G:W.isDisabled===G||W.isDisabled!==!G&&rw(W)===G:W.disabled===G:"label"in W&&W.disabled===G}}function Oi(G){return Kr(function(W){return W=+W,Kr(function(_,gt){for(var tt,wt=G([],_.length,W),Tt=wt.length;Tt--;)_[tt=wt[Tt]]&&(_[tt]=!(gt[tt]=_[tt]))})})}function dp(G){return G&&G.getElementsByTagName!==void 0&&G}for(b in S=$e.support={},R=$e.isXML=function(G){var W=G&&G.namespaceURI,_=G&&(G.ownerDocument||G).documentElement;return!_x.test(W||_&&_.nodeName||"HTML")},st=$e.setDocument=function(G){var W,_,gt=G?G.ownerDocument||G:le;return gt!=ct&&gt.nodeType===9&&gt.documentElement&&($t=(ct=gt).documentElement,te=!R(ct),le!=ct&&(_=ct.defaultView)&&_.top!==_&&(_.addEventListener?_.addEventListener("unload",q0,!1):_.attachEvent&&_.attachEvent("onunload",q0)),S.scope=Jr(function(tt){return $t.appendChild(tt).appendChild(ct.createElement("div")),tt.querySelectorAll!==void 0&&!tt.querySelectorAll(":scope fieldset div").length}),S.attributes=Jr(function(tt){return tt.className="i",!tt.getAttribute("className")}),S.getElementsByTagName=Jr(function(tt){return tt.appendChild(ct.createComment("")),!tt.getElementsByTagName("*").length}),S.getElementsByClassName=Ss.test(ct.getElementsByClassName),S.getById=Jr(function(tt){return $t.appendChild(tt).id=He,!ct.getElementsByName||!ct.getElementsByName(He).length}),S.getById?(M.filter.ID=function(tt){var wt=tt.replace(Ao,Mo);return function(Tt){return Tt.getAttribute("id")===wt}},M.find.ID=function(tt,wt){if(wt.getElementById!==void 0&&te){var Tt=wt.getElementById(tt);return Tt?[Tt]:[]}}):(M.filter.ID=function(tt){var wt=tt.replace(Ao,Mo);return function(Tt){var Nt=Tt.getAttributeNode!==void 0&&Tt.getAttributeNode("id");return Nt&&Nt.value===wt}},M.find.ID=function(tt,wt){if(wt.getElementById!==void 0&&te){var Tt,Nt,zt,ae=wt.getElementById(tt);if(ae){if((Tt=ae.getAttributeNode("id"))&&Tt.value===tt)return[ae];for(zt=wt.getElementsByName(tt),Nt=0;ae=zt[Nt++];)if((Tt=ae.getAttributeNode("id"))&&Tt.value===tt)return[ae]}return[]}}),M.find.TAG=S.getElementsByTagName?function(tt,wt){return wt.getElementsByTagName!==void 0?wt.getElementsByTagName(tt):S.qsa?wt.querySelectorAll(tt):void 0}:function(tt,wt){var Tt,Nt=[],zt=0,ae=wt.getElementsByTagName(tt);if(tt==="*"){for(;Tt=ae[zt++];)Tt.nodeType===1&&Nt.push(Tt);return Nt}return ae},M.find.CLASS=S.getElementsByClassName&&function(tt,wt){if(wt.getElementsByClassName!==void 0&&te)return wt.getElementsByClassName(tt)},un=[],Wt=[],(S.qsa=Ss.test(ct.querySelectorAll))&&(Jr(function(tt){var wt;$t.appendChild(tt).innerHTML="<a id='"+He+"'></a><select id='"+He+"-\r\\' msallowcapture=''><option selected=''></option></select>",tt.querySelectorAll("[msallowcapture^='']").length&&Wt.push(`[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|"")`),tt.querySelectorAll("[selected]").length||Wt.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+lo+")"),tt.querySelectorAll("[id~="+He+"-]").length||Wt.push("~="),(wt=ct.createElement("input")).setAttribute("name",""),tt.appendChild(wt),tt.querySelectorAll("[name='']").length||Wt.push(`\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|"")`),tt.querySelectorAll(":checked").length||Wt.push(":checked"),tt.querySelectorAll("a#"+He+"+*").length||Wt.push(".#.+[+~]"),tt.querySelectorAll("\\\f"),Wt.push("[\\r\\n\\f]")}),Jr(function(tt){tt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var wt=ct.createElement("input");wt.setAttribute("type","hidden"),tt.appendChild(wt).setAttribute("name","D"),tt.querySelectorAll("[name=d]").length&&Wt.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),tt.querySelectorAll(":enabled").length!==2&&Wt.push(":enabled",":disabled"),$t.appendChild(tt).disabled=!0,tt.querySelectorAll(":disabled").length!==2&&Wt.push(":enabled",":disabled"),tt.querySelectorAll("*,:x"),Wt.push(",.*:")})),(S.matchesSelector=Ss.test(In=$t.matches||$t.webkitMatchesSelector||$t.mozMatchesSelector||$t.oMatchesSelector||$t.msMatchesSelector))&&Jr(function(tt){S.disconnectedMatch=In.call(tt,"*"),In.call(tt,"[s!='']:x"),un.push("!=",Er)}),Wt=Wt.length&&new RegExp(Wt.join("|")),un=un.length&&new RegExp(un.join("|")),W=Ss.test($t.compareDocumentPosition),br=W||Ss.test($t.contains)?function(tt,wt){var Tt=tt.nodeType===9?tt.documentElement:tt,Nt=wt&&wt.parentNode;return tt===Nt||!(!Nt||Nt.nodeType!==1||!(Tt.contains?Tt.contains(Nt):tt.compareDocumentPosition&&16&tt.compareDocumentPosition(Nt)))}:function(tt,wt){if(wt){for(;wt=wt.parentNode;)if(wt===tt)return!0}return!1},Di=W?function(tt,wt){if(tt===wt)return vt=!0,0;var Tt=!tt.compareDocumentPosition-!wt.compareDocumentPosition;return Tt||(1&(Tt=(tt.ownerDocument||tt)==(wt.ownerDocument||wt)?tt.compareDocumentPosition(wt):1)||!S.sortDetached&&wt.compareDocumentPosition(tt)===Tt?tt==ct||tt.ownerDocument==le&&br(le,tt)?-1:wt==ct||wt.ownerDocument==le&&br(le,wt)?1:pt?wr(pt,tt)-wr(pt,wt):0:4&Tt?-1:1)}:function(tt,wt){if(tt===wt)return vt=!0,0;var Tt,Nt=0,zt=tt.parentNode,ae=wt.parentNode,se=[tt],oe=[wt];if(!zt||!ae)return tt==ct?-1:wt==ct?1:zt?-1:ae?1:pt?wr(pt,tt)-wr(pt,wt):0;if(zt===ae)return Q0(tt,wt);for(Tt=tt;Tt=Tt.parentNode;)se.unshift(Tt);for(Tt=wt;Tt=Tt.parentNode;)oe.unshift(Tt);for(;se[Nt]===oe[Nt];)Nt++;return Nt?Q0(se[Nt],oe[Nt]):se[Nt]==le?-1:oe[Nt]==le?1:0}),ct},$e.matches=function(G,W){return $e(G,null,null,W)},$e.matchesSelector=function(G,W){if(st(G),S.matchesSelector&&te&&!Cr[W+" "]&&(!un||!un.test(W))&&(!Wt||!Wt.test(W)))try{var _=In.call(G,W);if(_||S.disconnectedMatch||G.document&&G.document.nodeType!==11)return _}catch{Cr(W,!0)}return $e(W,ct,null,[G]).length>0},$e.contains=function(G,W){return(G.ownerDocument||G)!=ct&&st(G),br(G,W)},$e.attr=function(G,W){(G.ownerDocument||G)!=ct&&st(G);var _=M.attrHandle[W.toLowerCase()],gt=_&&ba.call(M.attrHandle,W.toLowerCase())?_(G,W,!te):void 0;return gt!==void 0?gt:S.attributes||!te?G.getAttribute(W):(gt=G.getAttributeNode(W))&&gt.specified?gt.value:null},$e.escape=function(G){return(G+"").replace(J0,Z0)},$e.error=function(G){throw new Error("Syntax error, unrecognized expression: "+G)},$e.uniqueSort=function(G){var W,_=[],gt=0,tt=0;if(vt=!S.detectDuplicates,pt=!S.sortStable&&G.slice(0),G.sort(Di),vt){for(;W=G[tt++];)W===G[tt]&&(gt=_.push(tt));for(;gt--;)G.splice(_[gt],1)}return pt=null,G},L=$e.getText=function(G){var W,_="",gt=0,tt=G.nodeType;if(tt){if(tt===1||tt===9||tt===11){if(typeof G.textContent=="string")return G.textContent;for(G=G.firstChild;G;G=G.nextSibling)_+=L(G)}else if(tt===3||tt===4)return G.nodeValue}else for(;W=G[gt++];)_+=L(W);return _},(M=$e.selectors={cacheLength:50,createPseudo:Kr,match:Tu,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(G){return G[1]=G[1].replace(Ao,Mo),G[3]=(G[3]||G[4]||G[5]||"").replace(Ao,Mo),G[2]==="~="&&(G[3]=" "+G[3]+" "),G.slice(0,4)},CHILD:function(G){return G[1]=G[1].toLowerCase(),G[1].slice(0,3)==="nth"?(G[3]||$e.error(G[0]),G[4]=+(G[4]?G[5]+(G[6]||1):2*(G[3]==="even"||G[3]==="odd")),G[5]=+(G[7]+G[8]||G[3]==="odd")):G[3]&&$e.error(G[0]),G},PSEUDO:function(G){var W,_=!G[6]&&G[2];return Tu.CHILD.test(G[0])?null:(G[3]?G[2]=G[4]||G[5]||"":_&&qx.test(_)&&(W=V(_,!0))&&(W=_.indexOf(")",_.length-W)-_.length)&&(G[0]=G[0].slice(0,W),G[2]=_.slice(0,W)),G.slice(0,3))}},filter:{TAG:function(G){var W=G.replace(Ao,Mo).toLowerCase();return G==="*"?function(){return!0}:function(_){return _.nodeName&&_.nodeName.toLowerCase()===W}},CLASS:function(G){var W=cn[G+" "];return W||(W=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+G+"("+Dn+"|$)"))&&cn(G,function(_){return W.test(typeof _.className=="string"&&_.className||_.getAttribute!==void 0&&_.getAttribute("class")||"")})},ATTR:function(G,W,_){return function(gt){var tt=$e.attr(gt,G);return tt==null?W==="!=":!W||(tt+="",W==="="?tt===_:W==="!="?tt!==_:W==="^="?_&&tt.indexOf(_)===0:W==="*="?_&&tt.indexOf(_)>-1:W==="$="?_&&tt.slice(-_.length)===_:W==="~="?(" "+tt.replace(On," ")+" ").indexOf(_)>-1:W==="|="&&(tt===_||tt.slice(0,_.length+1)===_+"-"))}},CHILD:function(G,W,_,gt,tt){var wt=G.slice(0,3)!=="nth",Tt=G.slice(-4)!=="last",Nt=W==="of-type";return gt===1&&tt===0?function(zt){return!!zt.parentNode}:function(zt,ae,se){var oe,Pe,bn,ue,Bn,Un,nr=wt!==Tt?"nextSibling":"previousSibling",We=zt.parentNode,uo=Nt&&zt.nodeName.toLowerCase(),Zn=!se&&!Nt,Nn=!1;if(We){if(wt){for(;nr;){for(ue=zt;ue=ue[nr];)if(Nt?ue.nodeName.toLowerCase()===uo:ue.nodeType===1)return!1;Un=nr=G==="only"&&!Un&&"nextSibling"}return!0}if(Un=[Tt?We.firstChild:We.lastChild],Tt&&Zn){for(Nn=(Bn=(oe=(Pe=(bn=(ue=We)[He]||(ue[He]={}))[ue.uniqueID]||(bn[ue.uniqueID]={}))[G]||[])[0]===pr&&oe[1])&&oe[2],ue=Bn&&We.childNodes[Bn];ue=++Bn&&ue&&ue[nr]||(Nn=Bn=0)||Un.pop();)if(ue.nodeType===1&&++Nn&&ue===zt){Pe[G]=[pr,Bn,Nn];break}}else if(Zn&&(Nn=Bn=(oe=(Pe=(bn=(ue=zt)[He]||(ue[He]={}))[ue.uniqueID]||(bn[ue.uniqueID]={}))[G]||[])[0]===pr&&oe[1]),Nn===!1)for(;(ue=++Bn&&ue&&ue[nr]||(Nn=Bn=0)||Un.pop())&&((Nt?ue.nodeName.toLowerCase()!==uo:ue.nodeType!==1)||!++Nn||(Zn&&((Pe=(bn=ue[He]||(ue[He]={}))[ue.uniqueID]||(bn[ue.uniqueID]={}))[G]=[pr,Nn]),ue!==zt)););return(Nn-=tt)===gt||Nn%gt==0&&Nn/gt>=0}}},PSEUDO:function(G,W){var _,gt=M.pseudos[G]||M.setFilters[G.toLowerCase()]||$e.error("unsupported pseudo: "+G);return gt[He]?gt(W):gt.length>1?(_=[G,G,"",W],M.setFilters.hasOwnProperty(G.toLowerCase())?Kr(function(tt,wt){for(var Tt,Nt=gt(tt,W),zt=Nt.length;zt--;)tt[Tt=wr(tt,Nt[zt])]=!(wt[Tt]=Nt[zt])}):function(tt){return gt(tt,0,_)}):gt}},pseudos:{not:Kr(function(G){var W=[],_=[],gt=K(G.replace(Sr,"$1"));return gt[He]?Kr(function(tt,wt,Tt,Nt){for(var zt,ae=gt(tt,null,Nt,[]),se=tt.length;se--;)(zt=ae[se])&&(tt[se]=!(wt[se]=zt))}):function(tt,wt,Tt){return W[0]=tt,gt(W,null,Tt,_),W[0]=null,!_.pop()}}),has:Kr(function(G){return function(W){return $e(G,W).length>0}}),contains:Kr(function(G){return G=G.replace(Ao,Mo),function(W){return(W.textContent||L(W)).indexOf(G)>-1}}),lang:Kr(function(G){return Qx.test(G||"")||$e.error("unsupported lang: "+G),G=G.replace(Ao,Mo).toLowerCase(),function(W){var _;do if(_=te?W.lang:W.getAttribute("xml:lang")||W.getAttribute("lang"))return(_=_.toLowerCase())===G||_.indexOf(G+"-")===0;while((W=W.parentNode)&&W.nodeType===1);return!1}}),target:function(G){var W=p.location&&p.location.hash;return W&&W.slice(1)===G.id},root:function(G){return G===$t},focus:function(G){return G===ct.activeElement&&(!ct.hasFocus||ct.hasFocus())&&!!(G.type||G.href||~G.tabIndex)},enabled:_0(!1),disabled:_0(!0),checked:function(G){var W=G.nodeName.toLowerCase();return W==="input"&&!!G.checked||W==="option"&&!!G.selected},selected:function(G){return G.parentNode&&G.parentNode.selectedIndex,G.selected===!0},empty:function(G){for(G=G.firstChild;G;G=G.nextSibling)if(G.nodeType<6)return!1;return!0},parent:function(G){return!M.pseudos.empty(G)},header:function(G){return ew.test(G.nodeName)},input:function(G){return tw.test(G.nodeName)},button:function(G){var W=G.nodeName.toLowerCase();return W==="input"&&G.type==="button"||W==="button"},text:function(G){var W;return G.nodeName.toLowerCase()==="input"&&G.type==="text"&&((W=G.getAttribute("type"))==null||W.toLowerCase()==="text")},first:Oi(function(){return[0]}),last:Oi(function(G,W){return[W-1]}),eq:Oi(function(G,W,_){return[_<0?_+W:_]}),even:Oi(function(G,W){for(var _=0;_<W;_+=2)G.push(_);return G}),odd:Oi(function(G,W){for(var _=1;_<W;_+=2)G.push(_);return G}),lt:Oi(function(G,W,_){for(var gt=_<0?_+W:_>W?W:_;--gt>=0;)G.push(gt);return G}),gt:Oi(function(G,W,_){for(var gt=_<0?_+W:_;++gt<W;)G.push(gt);return G})}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=ow(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=iw(b);function ty(){}function Ou(G){for(var W=0,_=G.length,gt="";W<_;W++)gt+=G[W].value;return gt}function Nu(G,W,_){var gt=W.dir,tt=W.next,wt=tt||gt,Tt=_&&wt==="parentNode",Nt=Me++;return W.first?function(zt,ae,se){for(;zt=zt[gt];)if(zt.nodeType===1||Tt)return G(zt,ae,se);return!1}:function(zt,ae,se){var oe,Pe,bn,ue=[pr,Nt];if(se){for(;zt=zt[gt];)if((zt.nodeType===1||Tt)&&G(zt,ae,se))return!0}else for(;zt=zt[gt];)if(zt.nodeType===1||Tt)if(Pe=(bn=zt[He]||(zt[He]={}))[zt.uniqueID]||(bn[zt.uniqueID]={}),tt&&tt===zt.nodeName.toLowerCase())zt=zt[gt]||zt;else{if((oe=Pe[wt])&&oe[0]===pr&&oe[1]===Nt)return ue[2]=oe[2];if(Pe[wt]=ue,ue[2]=G(zt,ae,se))return!0}return!1}}function fp(G){return G.length>1?function(W,_,gt){for(var tt=G.length;tt--;)if(!G[tt](W,_,gt))return!1;return!0}:G[0]}function ku(G,W,_,gt,tt){for(var wt,Tt=[],Nt=0,zt=G.length,ae=W!=null;Nt<zt;Nt++)(wt=G[Nt])&&(_&&!_(wt,gt,tt)||(Tt.push(wt),ae&&W.push(Nt)));return Tt}function gp(G,W,_,gt,tt,wt){return gt&&!gt[He]&&(gt=gp(gt)),tt&&!tt[He]&&(tt=gp(tt,wt)),Kr(function(Tt,Nt,zt,ae){var se,oe,Pe,bn=[],ue=[],Bn=Nt.length,Un=Tt||function(uo,Zn,Nn){for(var Zr=0,Lu=Zn.length;Zr<Lu;Zr++)$e(uo,Zn[Zr],Nn);return Nn}(W||"*",zt.nodeType?[zt]:zt,[]),nr=!G||!Tt&&W?Un:ku(Un,bn,G,zt,ae),We=_?tt||(Tt?G:Bn||gt)?[]:Nt:nr;if(_&&_(nr,We,zt,ae),gt)for(se=ku(We,ue),gt(se,[],zt,ae),oe=se.length;oe--;)(Pe=se[oe])&&(We[ue[oe]]=!(nr[ue[oe]]=Pe));if(Tt){if(tt||G){if(tt){for(se=[],oe=We.length;oe--;)(Pe=We[oe])&&se.push(nr[oe]=Pe);tt(null,We=[],se,ae)}for(oe=We.length;oe--;)(Pe=We[oe])&&(se=tt?wr(Tt,Pe):bn[oe])>-1&&(Tt[se]=!(Nt[se]=Pe))}}else We=ku(We===Nt?We.splice(Bn,We.length):We),tt?tt(null,Nt,We,ae):hn.apply(Nt,We)})}function vp(G){for(var W,_,gt,tt=G.length,wt=M.relative[G[0].type],Tt=wt||M.relative[" "],Nt=wt?1:0,zt=Nu(function(oe){return oe===W},Tt,!0),ae=Nu(function(oe){return wr(W,oe)>-1},Tt,!0),se=[function(oe,Pe,bn){var ue=!wt&&(bn||Pe!==et)||((W=Pe).nodeType?zt(oe,Pe,bn):ae(oe,Pe,bn));return W=null,ue}];Nt<tt;Nt++)if(_=M.relative[G[Nt].type])se=[Nu(fp(se),_)];else{if((_=M.filter[G[Nt].type].apply(null,G[Nt].matches))[He]){for(gt=++Nt;gt<tt&&!M.relative[G[gt].type];gt++);return gp(Nt>1&&fp(se),Nt>1&&Ou(G.slice(0,Nt-1).concat({value:G[Nt-2].type===" "?"*":""})).replace(Sr,"$1"),_,Nt<gt&&vp(G.slice(Nt,gt)),gt<tt&&vp(G=G.slice(gt)),gt<tt&&Ou(G))}se.push(_)}return fp(se)}return ty.prototype=M.filters=M.pseudos,M.setFilters=new ty,V=$e.tokenize=function(G,W){var _,gt,tt,wt,Tt,Nt,zt,ae=Es[G+" "];if(ae)return W?0:ae.slice(0);for(Tt=G,Nt=[],zt=M.preFilter;Tt;){for(wt in _&&!(gt=xa.exec(Tt))||(gt&&(Tt=Tt.slice(gt[0].length)||Tt),Nt.push(tt=[])),_=!1,(gt=Mu.exec(Tt))&&(_=gt.shift(),tt.push({value:_,type:gt[0].replace(Sr," ")}),Tt=Tt.slice(_.length)),M.filter)!(gt=Tu[wt].exec(Tt))||zt[wt]&&!(gt=zt[wt](gt))||(_=gt.shift(),tt.push({value:_,type:wt,matches:gt}),Tt=Tt.slice(_.length));if(!_)break}return W?Tt.length:Tt?$e.error(G):Es(G,Nt).slice(0)},K=$e.compile=function(G,W){var _,gt=[],tt=[],wt=Au[G+" "];if(!wt){for(W||(W=V(G)),_=W.length;_--;)(wt=vp(W[_]))[He]?gt.push(wt):tt.push(wt);(wt=Au(G,function(Tt,Nt){var zt=Nt.length>0,ae=Tt.length>0,se=function(oe,Pe,bn,ue,Bn){var Un,nr,We,uo=0,Zn="0",Nn=oe&&[],Zr=[],Lu=et,ey=oe||ae&&M.find.TAG("*",Bn),ny=pr+=Lu==null?1:Math.random()||.1,aw=ey.length;for(Bn&&(et=Pe==ct||Pe||Bn);Zn!==aw&&(Un=ey[Zn])!=null;Zn++){if(ae&&Un){for(nr=0,Pe||Un.ownerDocument==ct||(st(Un),bn=!te);We=Tt[nr++];)if(We(Un,Pe||ct,bn)){ue.push(Un);break}Bn&&(pr=ny)}zt&&((Un=!We&&Un)&&uo--,oe&&Nn.push(Un))}if(uo+=Zn,zt&&Zn!==uo){for(nr=0;We=Nt[nr++];)We(Nn,Zr,Pe,bn);if(oe){if(uo>0)for(;Zn--;)Nn[Zn]||Zr[Zn]||(Zr[Zn]=Ca.call(ue));Zr=ku(Zr)}hn.apply(ue,Zr),Bn&&!oe&&Zr.length>0&&uo+Nt.length>1&&$e.uniqueSort(ue)}return Bn&&(pr=ny,et=Lu),Nn};return zt?Kr(se):se}(tt,gt))).selector=G}return wt},Z=$e.select=function(G,W,_,gt){var tt,wt,Tt,Nt,zt,ae=typeof G=="function"&&G,se=!gt&&V(G=ae.selector||G);if(_=_||[],se.length===1){if((wt=se[0]=se[0].slice(0)).length>2&&(Tt=wt[0]).type==="ID"&&W.nodeType===9&&te&&M.relative[wt[1].type]){if(!(W=(M.find.ID(Tt.matches[0].replace(Ao,Mo),W)||[])[0]))return _;ae&&(W=W.parentNode),G=G.slice(wt.shift().value.length)}for(tt=Tu.needsContext.test(G)?0:wt.length;tt--&&(Tt=wt[tt],!M.relative[Nt=Tt.type]);)if((zt=M.find[Nt])&&(gt=zt(Tt.matches[0].replace(Ao,Mo),hp.test(wt[0].type)&&dp(W.parentNode)||W))){if(wt.splice(tt,1),!(G=gt.length&&Ou(wt)))return hn.apply(_,gt),_;break}}return(ae||K(G,se))(gt,W,!te,_,!W||hp.test(G)&&dp(W.parentNode)||W),_},S.sortStable=He.split("").sort(Di).join("")===He,S.detectDuplicates=!!vt,st(),S.sortDetached=Jr(function(G){return 1&G.compareDocumentPosition(ct.createElement("fieldset"))}),Jr(function(G){return G.innerHTML="<a href='#'></a>",G.firstChild.getAttribute("href")==="#"})||pp("type|href|height|width",function(G,W,_){if(!_)return G.getAttribute(W,W.toLowerCase()==="type"?1:2)}),S.attributes&&Jr(function(G){return G.innerHTML="<input/>",G.firstChild.setAttribute("value",""),G.firstChild.getAttribute("value")===""})||pp("value",function(G,W,_){if(!_&&G.nodeName.toLowerCase()==="input")return G.defaultValue}),Jr(function(G){return G.getAttribute("disabled")==null})||pp(lo,function(G,W,_){var gt;if(!_)return G[W]===!0?W.toLowerCase():(gt=G.getAttributeNode(W))&&gt.specified?gt.value:null}),$e}(n);w.find=J,w.expr=J.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=J.uniqueSort,w.text=J.getText,w.isXMLDoc=J.isXML,w.contains=J.contains,w.escapeSelector=J.escape;var nt=function(p,b,S){for(var M=[],L=S!==void 0;(p=p[b])&&p.nodeType!==9;)if(p.nodeType===1){if(L&&w(p).is(S))break;M.push(p)}return M},lt=function(p,b){for(var S=[];p;p=p.nextSibling)p.nodeType===1&&p!==b&&S.push(p);return S},ut=w.expr.match.needsContext;function xt(p,b){return p.nodeName&&p.nodeName.toLowerCase()===b.toLowerCase()}var Dt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ft(p,b,S){return D(b)?w.grep(p,function(M,L){return!!b.call(M,L,M)!==S}):b.nodeType?w.grep(p,function(M){return M===b!==S}):typeof b!="string"?w.grep(p,function(M){return u.call(b,M)>-1!==S}):w.filter(b,p,S)}w.filter=function(p,b,S){var M=b[0];return S&&(p=":not("+p+")"),b.length===1&&M.nodeType===1?w.find.matchesSelector(M,p)?[M]:[]:w.find.matches(p,w.grep(b,function(L){return L.nodeType===1}))},w.fn.extend({find:function(p){var b,S,M=this.length,L=this;if(typeof p!="string")return this.pushStack(w(p).filter(function(){for(b=0;b<M;b++)if(w.contains(L[b],this))return!0}));for(S=this.pushStack([]),b=0;b<M;b++)w.find(p,L[b],S);return M>1?w.uniqueSort(S):S},filter:function(p){return this.pushStack(ft(this,p||[],!1))},not:function(p){return this.pushStack(ft(this,p||[],!0))},is:function(p){return!!ft(this,typeof p=="string"&&ut.test(p)?w(p):p||[],!1).length}});var At,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(p,b,S){var M,L;if(!p)return this;if(S=S||At,typeof p=="string"){if(!(M=p[0]==="<"&&p[p.length-1]===">"&&p.length>=3?[null,p,null]:Ot.exec(p))||!M[1]&&b)return!b||b.jquery?(b||S).find(p):this.constructor(b).find(p);if(M[1]){if(b=b instanceof w?b[0]:b,w.merge(this,w.parseHTML(M[1],b&&b.nodeType?b.ownerDocument||b:O,!0)),Dt.test(M[1])&&w.isPlainObject(b))for(M in b)D(this[M])?this[M](b[M]):this.attr(M,b[M]);return this}return(L=O.getElementById(M[2]))&&(this[0]=L,this.length=1),this}return p.nodeType?(this[0]=p,this.length=1,this):D(p)?S.ready!==void 0?S.ready(p):p(w):w.makeArray(p,this)}).prototype=w.fn,At=w(O);var Pt=/^(?:parents|prev(?:Until|All))/,It={children:!0,contents:!0,next:!0,prev:!0};function Vt(p,b){for(;(p=p[b])&&p.nodeType!==1;);return p}w.fn.extend({has:function(p){var b=w(p,this),S=b.length;return this.filter(function(){for(var M=0;M<S;M++)if(w.contains(this,b[M]))return!0})},closest:function(p,b){var S,M=0,L=this.length,R=[],V=typeof p!="string"&&w(p);if(!ut.test(p)){for(;M<L;M++)for(S=this[M];S&&S!==b;S=S.parentNode)if(S.nodeType<11&&(V?V.index(S)>-1:S.nodeType===1&&w.find.matchesSelector(S,p))){R.push(S);break}}return this.pushStack(R.length>1?w.uniqueSort(R):R)},index:function(p){return p?typeof p=="string"?u.call(w(p),this[0]):u.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,b){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(p,b))))},addBack:function(p){return this.add(p==null?this.prevObject:this.prevObject.filter(p))}}),w.each({parent:function(p){var b=p.parentNode;return b&&b.nodeType!==11?b:null},parents:function(p){return nt(p,"parentNode")},parentsUntil:function(p,b,S){return nt(p,"parentNode",S)},next:function(p){return Vt(p,"nextSibling")},prev:function(p){return Vt(p,"previousSibling")},nextAll:function(p){return nt(p,"nextSibling")},prevAll:function(p){return nt(p,"previousSibling")},nextUntil:function(p,b,S){return nt(p,"nextSibling",S)},prevUntil:function(p,b,S){return nt(p,"previousSibling",S)},siblings:function(p){return lt((p.parentNode||{}).firstChild,p)},children:function(p){return lt(p.firstChild)},contents:function(p){return p.contentDocument!=null&&r(p.contentDocument)?p.contentDocument:(xt(p,"template")&&(p=p.content||p),w.merge([],p.childNodes))}},function(p,b){w.fn[p]=function(S,M){var L=w.map(this,b,S);return p.slice(-5)!=="Until"&&(M=S),M&&typeof M=="string"&&(L=w.filter(M,L)),this.length>1&&(It[p]||w.uniqueSort(L),Pt.test(p)&&L.reverse()),this.pushStack(L)}});var Rt=/[^\x20\t\r\n\f]+/g;function Zt(p){return p}function de(p){throw p}function Qe(p,b,S,M){var L;try{p&&D(L=p.promise)?L.call(p).done(b).fail(S):p&&D(L=p.then)?L.call(p,b,S):b.apply(void 0,[p].slice(M))}catch(R){S.apply(void 0,[R])}}w.Callbacks=function(p){p=typeof p=="string"?function(pt){var vt={};return w.each(pt.match(Rt)||[],function(st,ct){vt[ct]=!0}),vt}(p):w.extend({},p);var b,S,M,L,R=[],V=[],K=-1,Z=function(){for(L=L||p.once,M=b=!0;V.length;K=-1)for(S=V.shift();++K<R.length;)R[K].apply(S[0],S[1])===!1&&p.stopOnFalse&&(K=R.length,S=!1);p.memory||(S=!1),b=!1,L&&(R=S?[]:"")},et={add:function(){return R&&(S&&!b&&(K=R.length-1,V.push(S)),function pt(vt){w.each(vt,function(st,ct){D(ct)?p.unique&&et.has(ct)||R.push(ct):ct&&ct.length&&z(ct)!=="string"&&pt(ct)})}(arguments),S&&!b&&Z()),this},remove:function(){return w.each(arguments,function(pt,vt){for(var st;(st=w.inArray(vt,R,st))>-1;)R.splice(st,1),st<=K&&K--}),this},has:function(pt){return pt?w.inArray(pt,R)>-1:R.length>0},empty:function(){return R&&(R=[]),this},disable:function(){return L=V=[],R=S="",this},disabled:function(){return!R},lock:function(){return L=V=[],S||b||(R=S=""),this},locked:function(){return!!L},fireWith:function(pt,vt){return L||(vt=[pt,(vt=vt||[]).slice?vt.slice():vt],V.push(vt),b||Z()),this},fire:function(){return et.fireWith(this,arguments),this},fired:function(){return!!M}};return et},w.extend({Deferred:function(p){var b=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],S="pending",M={state:function(){return S},always:function(){return L.done(arguments).fail(arguments),this},catch:function(R){return M.then(null,R)},pipe:function(){var R=arguments;return w.Deferred(function(V){w.each(b,function(K,Z){var et=D(R[Z[4]])&&R[Z[4]];L[Z[1]](function(){var pt=et&&et.apply(this,arguments);pt&&D(pt.promise)?pt.promise().progress(V.notify).done(V.resolve).fail(V.reject):V[Z[0]+"With"](this,et?[pt]:arguments)})}),R=null}).promise()},then:function(R,V,K){var Z=0;function et(pt,vt,st,ct){return function(){var $t=this,te=arguments,Wt=function(){var In,br;if(!(pt<Z)){if((In=st.apply($t,te))===vt.promise())throw new TypeError("Thenable self-resolution");br=In&&(typeof In=="object"||typeof In=="function")&&In.then,D(br)?ct?br.call(In,et(Z,vt,Zt,ct),et(Z,vt,de,ct)):(Z++,br.call(In,et(Z,vt,Zt,ct),et(Z,vt,de,ct),et(Z,vt,Zt,vt.notifyWith))):(st!==Zt&&($t=void 0,te=[In]),(ct||vt.resolveWith)($t,te))}},un=ct?Wt:function(){try{Wt()}catch(In){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(In,un.stackTrace),pt+1>=Z&&(st!==de&&($t=void 0,te=[In]),vt.rejectWith($t,te))}};pt?un():(w.Deferred.getStackHook&&(un.stackTrace=w.Deferred.getStackHook()),n.setTimeout(un))}}return w.Deferred(function(pt){b[0][3].add(et(0,pt,D(K)?K:Zt,pt.notifyWith)),b[1][3].add(et(0,pt,D(R)?R:Zt)),b[2][3].add(et(0,pt,D(V)?V:de))}).promise()},promise:function(R){return R!=null?w.extend(R,M):M}},L={};return w.each(b,function(R,V){var K=V[2],Z=V[5];M[V[1]]=K.add,Z&&K.add(function(){S=Z},b[3-R][2].disable,b[3-R][3].disable,b[0][2].lock,b[0][3].lock),K.add(V[3].fire),L[V[0]]=function(){return L[V[0]+"With"](this===L?void 0:this,arguments),this},L[V[0]+"With"]=K.fireWith}),M.promise(L),p&&p.call(L,L),L},when:function(p){var b=arguments.length,S=b,M=Array(S),L=o.call(arguments),R=w.Deferred(),V=function(K){return function(Z){M[K]=this,L[K]=arguments.length>1?o.call(arguments):Z,--b||R.resolveWith(M,L)}};if(b<=1&&(Qe(p,R.done(V(S)).resolve,R.reject,!b),R.state()==="pending"||D(L[S]&&L[S].then)))return R.then();for(;S--;)Qe(L[S],V(S),R.reject);return R.promise()}});var Ue=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(p,b){n.console&&n.console.warn&&p&&Ue.test(p.name)&&n.console.warn("jQuery.Deferred exception: "+p.message,p.stack,b)},w.readyException=function(p){n.setTimeout(function(){throw p})};var be=w.Deferred();function Ie(){O.removeEventListener("DOMContentLoaded",Ie),n.removeEventListener("load",Ie),w.ready()}w.fn.ready=function(p){return be.then(p).catch(function(b){w.readyException(b)}),this},w.extend({isReady:!1,readyWait:1,ready:function(p){(p===!0?--w.readyWait:w.isReady)||(w.isReady=!0,p!==!0&&--w.readyWait>0||be.resolveWith(O,[w]))}}),w.ready.then=be.then,O.readyState==="complete"||O.readyState!=="loading"&&!O.documentElement.doScroll?n.setTimeout(w.ready):(O.addEventListener("DOMContentLoaded",Ie),n.addEventListener("load",Ie));var ve=function(p,b,S,M,L,R,V){var K=0,Z=p.length,et=S==null;if(z(S)==="object")for(K in L=!0,S)ve(p,b,K,S[K],!0,R,V);else if(M!==void 0&&(L=!0,D(M)||(V=!0),et&&(V?(b.call(p,M),b=null):(et=b,b=function(pt,vt,st){return et.call(w(pt),st)})),b))for(;K<Z;K++)b(p[K],S,V?M:M.call(p[K],K,b(p[K],S)));return L?p:et?b.call(p):Z?b(p[0],S):R},je=/^-ms-/,Rn=/-([a-z])/g;function Te(p,b){return b.toUpperCase()}function Ge(p){return p.replace(je,"ms-").replace(Rn,Te)}var Lr=function(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType};function mn(){this.expando=w.expando+mn.uid++}mn.uid=1,mn.prototype={cache:function(p){var b=p[this.expando];return b||(b={},Lr(p)&&(p.nodeType?p[this.expando]=b:Object.defineProperty(p,this.expando,{value:b,configurable:!0}))),b},set:function(p,b,S){var M,L=this.cache(p);if(typeof b=="string")L[Ge(b)]=S;else for(M in b)L[Ge(M)]=b[M];return L},get:function(p,b){return b===void 0?this.cache(p):p[this.expando]&&p[this.expando][Ge(b)]},access:function(p,b,S){return b===void 0||b&&typeof b=="string"&&S===void 0?this.get(p,b):(this.set(p,b,S),S!==void 0?S:b)},remove:function(p,b){var S,M=p[this.expando];if(M!==void 0){if(b!==void 0)for(S=(b=Array.isArray(b)?b.map(Ge):(b=Ge(b))in M?[b]:b.match(Rt)||[]).length;S--;)delete M[b[S]];(b===void 0||w.isEmptyObject(M))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var b=p[this.expando];return b!==void 0&&!w.isEmptyObject(b)}};var qt=new mn,Hn=new mn,qh=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bu=/[A-Z]/g;function Pi(p,b,S){var M;if(S===void 0&&p.nodeType===1)if(M="data-"+b.replace(bu,"-$&").toLowerCase(),typeof(S=p.getAttribute(M))=="string"){try{S=function(L){return L==="true"||L!=="false"&&(L==="null"?null:L===+L+""?+L:qh.test(L)?JSON.parse(L):L)}(S)}catch{}Hn.set(p,b,S)}else S=void 0;return S}w.extend({hasData:function(p){return Hn.hasData(p)||qt.hasData(p)},data:function(p,b,S){return Hn.access(p,b,S)},removeData:function(p,b){Hn.remove(p,b)},_data:function(p,b,S){return qt.access(p,b,S)},_removeData:function(p,b){qt.remove(p,b)}}),w.fn.extend({data:function(p,b){var S,M,L,R=this[0],V=R&&R.attributes;if(p===void 0){if(this.length&&(L=Hn.get(R),R.nodeType===1&&!qt.get(R,"hasDataAttrs"))){for(S=V.length;S--;)V[S]&&(M=V[S].name).indexOf("data-")===0&&(M=Ge(M.slice(5)),Pi(R,M,L[M]));qt.set(R,"hasDataAttrs",!0)}return L}return typeof p=="object"?this.each(function(){Hn.set(this,p)}):ve(this,function(K){var Z;if(R&&K===void 0)return(Z=Hn.get(R,p))!==void 0||(Z=Pi(R,p))!==void 0?Z:void 0;this.each(function(){Hn.set(this,p,K)})},null,b,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){Hn.remove(this,p)})}}),w.extend({queue:function(p,b,S){var M;if(p)return b=(b||"fx")+"queue",M=qt.get(p,b),S&&(!M||Array.isArray(S)?M=qt.access(p,b,w.makeArray(S)):M.push(S)),M||[]},dequeue:function(p,b){b=b||"fx";var S=w.queue(p,b),M=S.length,L=S.shift(),R=w._queueHooks(p,b);L==="inprogress"&&(L=S.shift(),M--),L&&(b==="fx"&&S.unshift("inprogress"),delete R.stop,L.call(p,function(){w.dequeue(p,b)},R)),!M&&R&&R.empty.fire()},_queueHooks:function(p,b){var S=b+"queueHooks";return qt.get(p,S)||qt.access(p,S,{empty:w.Callbacks("once memory").add(function(){qt.remove(p,[b+"queue",S])})})}}),w.fn.extend({queue:function(p,b){var S=2;return typeof p!="string"&&(b=p,p="fx",S--),arguments.length<S?w.queue(this[0],p):b===void 0?this:this.each(function(){var M=w.queue(this,p,b);w._queueHooks(this,p),p==="fx"&&M[0]!=="inprogress"&&w.dequeue(this,p)})},dequeue:function(p){return this.each(function(){w.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,b){var S,M=1,L=w.Deferred(),R=this,V=this.length,K=function(){--M||L.resolveWith(R,[R])};for(typeof p!="string"&&(b=p,p=void 0),p=p||"fx";V--;)(S=qt.get(R[V],p+"queueHooks"))&&S.empty&&(M++,S.empty.add(K));return K(),L.promise(b)}});var Cu=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ys=new RegExp("^(?:([+-])=|)("+Cu+")([a-z%]*)$","i"),Po=["Top","Right","Bottom","Left"],Ai=O.documentElement,pa=function(p){return w.contains(p.ownerDocument,p)},bx={composed:!0};Ai.getRootNode&&(pa=function(p){return w.contains(p.ownerDocument,p)||p.getRootNode(bx)===p.ownerDocument});var xu=function(p,b){return(p=b||p).style.display==="none"||p.style.display===""&&pa(p)&&w.css(p,"display")==="none"};function y0(p,b,S,M){var L,R,V=20,K=M?function(){return M.cur()}:function(){return w.css(p,b,"")},Z=K(),et=S&&S[3]||(w.cssNumber[b]?"":"px"),pt=p.nodeType&&(w.cssNumber[b]||et!=="px"&&+Z)&&ys.exec(w.css(p,b));if(pt&&pt[3]!==et){for(Z/=2,et=et||pt[3],pt=+Z||1;V--;)w.style(p,b,pt+et),(1-R)*(1-(R=K()/Z||.5))<=0&&(V=0),pt/=R;pt*=2,w.style(p,b,pt+et),S=S||[]}return S&&(pt=+pt||+Z||0,L=S[1]?pt+(S[1]+1)*S[2]:+S[2],M&&(M.unit=et,M.start=pt,M.end=L)),L}var m0={};function Cx(p){var b,S=p.ownerDocument,M=p.nodeName,L=m0[M];return L||(b=S.body.appendChild(S.createElement(M)),L=w.css(b,"display"),b.parentNode.removeChild(b),L==="none"&&(L="block"),m0[M]=L,L)}function da(p,b){for(var S,M,L=[],R=0,V=p.length;R<V;R++)(M=p[R]).style&&(S=M.style.display,b?(S==="none"&&(L[R]=qt.get(M,"display")||null,L[R]||(M.style.display="")),M.style.display===""&&xu(M)&&(L[R]=Cx(M))):S!=="none"&&(L[R]="none",qt.set(M,"display",S)));for(R=0;R<V;R++)L[R]!=null&&(p[R].style.display=L[R]);return p}w.fn.extend({show:function(){return da(this,!0)},hide:function(){return da(this)},toggle:function(p){return typeof p=="boolean"?p?this.show():this.hide():this.each(function(){xu(this)?w(this).show():w(this).hide()})}});var ms=/^(?:checkbox|radio)$/i,b0=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,C0=/^$|^module$|\/(?:java|ecma)script/i;(function(){var p=O.createDocumentFragment().appendChild(O.createElement("div")),b=O.createElement("input");b.setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),p.appendChild(b),A.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked,p.innerHTML="<textarea>x</textarea>",A.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue,p.innerHTML="<option></option>",A.option=!!p.lastChild})();var Fr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function cr(p,b){var S;return S=p.getElementsByTagName!==void 0?p.getElementsByTagName(b||"*"):p.querySelectorAll!==void 0?p.querySelectorAll(b||"*"):[],b===void 0||b&&xt(p,b)?w.merge([p],S):S}function Qh(p,b){for(var S=0,M=p.length;S<M;S++)qt.set(p[S],"globalEval",!b||qt.get(b[S],"globalEval"))}Fr.tbody=Fr.tfoot=Fr.colgroup=Fr.caption=Fr.thead,Fr.th=Fr.td,A.option||(Fr.optgroup=Fr.option=[1,"<select multiple='multiple'>","</select>"]);var xx=/<|&#?\w+;/;function x0(p,b,S,M,L){for(var R,V,K,Z,et,pt,vt=b.createDocumentFragment(),st=[],ct=0,$t=p.length;ct<$t;ct++)if((R=p[ct])||R===0)if(z(R)==="object")w.merge(st,R.nodeType?[R]:R);else if(xx.test(R)){for(V=V||vt.appendChild(b.createElement("div")),K=(b0.exec(R)||["",""])[1].toLowerCase(),Z=Fr[K]||Fr._default,V.innerHTML=Z[1]+w.htmlPrefilter(R)+Z[2],pt=Z[0];pt--;)V=V.lastChild;w.merge(st,V.childNodes),(V=vt.firstChild).textContent=""}else st.push(b.createTextNode(R));for(vt.textContent="",ct=0;R=st[ct++];)if(M&&w.inArray(R,M)>-1)L&&L.push(R);else if(et=pa(R),V=cr(vt.appendChild(R),"script"),et&&Qh(V),S)for(pt=0;R=V[pt++];)C0.test(R.type||"")&&S.push(R);return vt}var w0=/^([^.]*)(?:\.(.+)|)/;function fa(){return!0}function ga(){return!1}function wx(p,b){return p===function(){try{return O.activeElement}catch{}}()==(b==="focus")}function _h(p,b,S,M,L,R){var V,K;if(typeof b=="object"){for(K in typeof S!="string"&&(M=M||S,S=void 0),b)_h(p,K,S,M,b[K],R);return p}if(M==null&&L==null?(L=S,M=S=void 0):L==null&&(typeof S=="string"?(L=M,M=void 0):(L=M,M=S,S=void 0)),L===!1)L=ga;else if(!L)return p;return R===1&&(V=L,(L=function(Z){return w().off(Z),V.apply(this,arguments)}).guid=V.guid||(V.guid=w.guid++)),p.each(function(){w.event.add(this,b,L,M,S)})}function wu(p,b,S){S?(qt.set(p,b,!1),w.event.add(p,b,{namespace:!1,handler:function(M){var L,R,V=qt.get(this,b);if(1&M.isTrigger&&this[b]){if(V.length)(w.event.special[b]||{}).delegateType&&M.stopPropagation();else if(V=o.call(arguments),qt.set(this,b,V),L=S(this,b),this[b](),V!==(R=qt.get(this,b))||L?qt.set(this,b,!1):R={},V!==R)return M.stopImmediatePropagation(),M.preventDefault(),R&&R.value}else V.length&&(qt.set(this,b,{value:w.event.trigger(w.extend(V[0],w.Event.prototype),V.slice(1),this)}),M.stopImmediatePropagation())}})):qt.get(p,b)===void 0&&w.event.add(p,b,fa)}w.event={global:{},add:function(p,b,S,M,L){var R,V,K,Z,et,pt,vt,st,ct,$t,te,Wt=qt.get(p);if(Lr(p))for(S.handler&&(S=(R=S).handler,L=R.selector),L&&w.find.matchesSelector(Ai,L),S.guid||(S.guid=w.guid++),(Z=Wt.events)||(Z=Wt.events=Object.create(null)),(V=Wt.handle)||(V=Wt.handle=function(un){return w!==void 0&&w.event.triggered!==un.type?w.event.dispatch.apply(p,arguments):void 0}),et=(b=(b||"").match(Rt)||[""]).length;et--;)ct=te=(K=w0.exec(b[et])||[])[1],$t=(K[2]||"").split(".").sort(),ct&&(vt=w.event.special[ct]||{},ct=(L?vt.delegateType:vt.bindType)||ct,vt=w.event.special[ct]||{},pt=w.extend({type:ct,origType:te,data:M,handler:S,guid:S.guid,selector:L,needsContext:L&&w.expr.match.needsContext.test(L),namespace:$t.join(".")},R),(st=Z[ct])||((st=Z[ct]=[]).delegateCount=0,vt.setup&&vt.setup.call(p,M,$t,V)!==!1||p.addEventListener&&p.addEventListener(ct,V)),vt.add&&(vt.add.call(p,pt),pt.handler.guid||(pt.handler.guid=S.guid)),L?st.splice(st.delegateCount++,0,pt):st.push(pt),w.event.global[ct]=!0)},remove:function(p,b,S,M,L){var R,V,K,Z,et,pt,vt,st,ct,$t,te,Wt=qt.hasData(p)&&qt.get(p);if(Wt&&(Z=Wt.events)){for(et=(b=(b||"").match(Rt)||[""]).length;et--;)if(ct=te=(K=w0.exec(b[et])||[])[1],$t=(K[2]||"").split(".").sort(),ct){for(vt=w.event.special[ct]||{},st=Z[ct=(M?vt.delegateType:vt.bindType)||ct]||[],K=K[2]&&new RegExp("(^|\\.)"+$t.join("\\.(?:.*\\.|)")+"(\\.|$)"),V=R=st.length;R--;)pt=st[R],!L&&te!==pt.origType||S&&S.guid!==pt.guid||K&&!K.test(pt.namespace)||M&&M!==pt.selector&&(M!=="**"||!pt.selector)||(st.splice(R,1),pt.selector&&st.delegateCount--,vt.remove&&vt.remove.call(p,pt));V&&!st.length&&(vt.teardown&&vt.teardown.call(p,$t,Wt.handle)!==!1||w.removeEvent(p,ct,Wt.handle),delete Z[ct])}else for(ct in Z)w.event.remove(p,ct+b[et],S,M,!0);w.isEmptyObject(Z)&&qt.remove(p,"handle events")}},dispatch:function(p){var b,S,M,L,R,V,K=new Array(arguments.length),Z=w.event.fix(p),et=(qt.get(this,"events")||Object.create(null))[Z.type]||[],pt=w.event.special[Z.type]||{};for(K[0]=Z,b=1;b<arguments.length;b++)K[b]=arguments[b];if(Z.delegateTarget=this,!pt.preDispatch||pt.preDispatch.call(this,Z)!==!1){for(V=w.event.handlers.call(this,Z,et),b=0;(L=V[b++])&&!Z.isPropagationStopped();)for(Z.currentTarget=L.elem,S=0;(R=L.handlers[S++])&&!Z.isImmediatePropagationStopped();)Z.rnamespace&&R.namespace!==!1&&!Z.rnamespace.test(R.namespace)||(Z.handleObj=R,Z.data=R.data,(M=((w.event.special[R.origType]||{}).handle||R.handler).apply(L.elem,K))!==void 0&&(Z.result=M)===!1&&(Z.preventDefault(),Z.stopPropagation()));return pt.postDispatch&&pt.postDispatch.call(this,Z),Z.result}},handlers:function(p,b){var S,M,L,R,V,K=[],Z=b.delegateCount,et=p.target;if(Z&&et.nodeType&&!(p.type==="click"&&p.button>=1)){for(;et!==this;et=et.parentNode||this)if(et.nodeType===1&&(p.type!=="click"||et.disabled!==!0)){for(R=[],V={},S=0;S<Z;S++)V[L=(M=b[S]).selector+" "]===void 0&&(V[L]=M.needsContext?w(L,this).index(et)>-1:w.find(L,this,null,[et]).length),V[L]&&R.push(M);R.length&&K.push({elem:et,handlers:R})}}return et=this,Z<b.length&&K.push({elem:et,handlers:b.slice(Z)}),K},addProp:function(p,b){Object.defineProperty(w.Event.prototype,p,{enumerable:!0,configurable:!0,get:D(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(S){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:S})}})},fix:function(p){return p[w.expando]?p:new w.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var b=this||p;return ms.test(b.type)&&b.click&&xt(b,"input")&&wu(b,"click",fa),!1},trigger:function(p){var b=this||p;return ms.test(b.type)&&b.click&&xt(b,"input")&&wu(b,"click"),!0},_default:function(p){var b=p.target;return ms.test(b.type)&&b.click&&xt(b,"input")&&qt.get(b,"click")||xt(b,"a")}},beforeunload:{postDispatch:function(p){p.result!==void 0&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}},w.removeEvent=function(p,b,S){p.removeEventListener&&p.removeEventListener(b,S)},w.Event=function(p,b){if(!(this instanceof w.Event))return new w.Event(p,b);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||p.defaultPrevented===void 0&&p.returnValue===!1?fa:ga,this.target=p.target&&p.target.nodeType===3?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,b&&w.extend(this,b),this.timeStamp=p&&p.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ga,isPropagationStopped:ga,isImmediatePropagationStopped:ga,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=fa,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=fa,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=fa,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(p,b){w.event.special[p]={setup:function(){return wu(this,p,wx),!1},trigger:function(){return wu(this,p),!0},_default:function(){return!0},delegateType:b}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,b){w.event.special[p]={delegateType:b,bindType:b,handle:function(S){var M,L=this,R=S.relatedTarget,V=S.handleObj;return R&&(R===L||w.contains(L,R))||(S.type=V.origType,M=V.handler.apply(this,arguments),S.type=b),M}}}),w.fn.extend({on:function(p,b,S,M){return _h(this,p,b,S,M)},one:function(p,b,S,M){return _h(this,p,b,S,M,1)},off:function(p,b,S){var M,L;if(p&&p.preventDefault&&p.handleObj)return M=p.handleObj,w(p.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if(typeof p=="object"){for(L in p)this.off(L,b,p[L]);return this}return b!==!1&&typeof b!="function"||(S=b,b=void 0),S===!1&&(S=ga),this.each(function(){w.event.remove(this,p,S,b)})}});var Ex=/<script|<style|<link/i,Sx=/checked\s*(?:[^=]|=\s*.checked.)/i,Px=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function E0(p,b){return xt(p,"table")&&xt(b.nodeType!==11?b:b.firstChild,"tr")&&w(p).children("tbody")[0]||p}function Ax(p){return p.type=(p.getAttribute("type")!==null)+"/"+p.type,p}function Mx(p){return(p.type||"").slice(0,5)==="true/"?p.type=p.type.slice(5):p.removeAttribute("type"),p}function S0(p,b){var S,M,L,R,V,K;if(b.nodeType===1){if(qt.hasData(p)&&(K=qt.get(p).events))for(L in qt.remove(b,"handle events"),K)for(S=0,M=K[L].length;S<M;S++)w.event.add(b,L,K[L][S]);Hn.hasData(p)&&(R=Hn.access(p),V=w.extend({},R),Hn.set(b,V))}}function Tx(p,b){var S=b.nodeName.toLowerCase();S==="input"&&ms.test(p.type)?b.checked=p.checked:S!=="input"&&S!=="textarea"||(b.defaultValue=p.defaultValue)}function va(p,b,S,M){b=a(b);var L,R,V,K,Z,et,pt=0,vt=p.length,st=vt-1,ct=b[0],$t=D(ct);if($t||vt>1&&typeof ct=="string"&&!A.checkClone&&Sx.test(ct))return p.each(function(te){var Wt=p.eq(te);$t&&(b[0]=ct.call(this,te,Wt.html())),va(Wt,b,S,M)});if(vt&&(R=(L=x0(b,p[0].ownerDocument,!1,p,M)).firstChild,L.childNodes.length===1&&(L=R),R||M)){for(K=(V=w.map(cr(L,"script"),Ax)).length;pt<vt;pt++)Z=L,pt!==st&&(Z=w.clone(Z,!0,!0),K&&w.merge(V,cr(Z,"script"))),S.call(p[pt],Z,pt);if(K)for(et=V[V.length-1].ownerDocument,w.map(V,Mx),pt=0;pt<K;pt++)Z=V[pt],C0.test(Z.type||"")&&!qt.access(Z,"globalEval")&&w.contains(et,Z)&&(Z.src&&(Z.type||"").toLowerCase()!=="module"?w._evalUrl&&!Z.noModule&&w._evalUrl(Z.src,{nonce:Z.nonce||Z.getAttribute("nonce")},et):B(Z.textContent.replace(Px,""),Z,et))}return p}function P0(p,b,S){for(var M,L=b?w.filter(b,p):p,R=0;(M=L[R])!=null;R++)S||M.nodeType!==1||w.cleanData(cr(M)),M.parentNode&&(S&&pa(M)&&Qh(cr(M,"script")),M.parentNode.removeChild(M));return p}w.extend({htmlPrefilter:function(p){return p},clone:function(p,b,S){var M,L,R,V,K=p.cloneNode(!0),Z=pa(p);if(!(A.noCloneChecked||p.nodeType!==1&&p.nodeType!==11||w.isXMLDoc(p)))for(V=cr(K),M=0,L=(R=cr(p)).length;M<L;M++)Tx(R[M],V[M]);if(b)if(S)for(R=R||cr(p),V=V||cr(K),M=0,L=R.length;M<L;M++)S0(R[M],V[M]);else S0(p,K);return(V=cr(K,"script")).length>0&&Qh(V,!Z&&cr(p,"script")),K},cleanData:function(p){for(var b,S,M,L=w.event.special,R=0;(S=p[R])!==void 0;R++)if(Lr(S)){if(b=S[qt.expando]){if(b.events)for(M in b.events)L[M]?w.event.remove(S,M):w.removeEvent(S,M,b.handle);S[qt.expando]=void 0}S[Hn.expando]&&(S[Hn.expando]=void 0)}}}),w.fn.extend({detach:function(p){return P0(this,p,!0)},remove:function(p){return P0(this,p)},text:function(p){return ve(this,function(b){return b===void 0?w.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=b)})},null,p,arguments.length)},append:function(){return va(this,arguments,function(p){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||E0(this,p).appendChild(p)})},prepend:function(){return va(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=E0(this,p);b.insertBefore(p,b.firstChild)}})},before:function(){return va(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return va(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,b=0;(p=this[b])!=null;b++)p.nodeType===1&&(w.cleanData(cr(p,!1)),p.textContent="");return this},clone:function(p,b){return p=p!=null&&p,b=b==null?p:b,this.map(function(){return w.clone(this,p,b)})},html:function(p){return ve(this,function(b){var S=this[0]||{},M=0,L=this.length;if(b===void 0&&S.nodeType===1)return S.innerHTML;if(typeof b=="string"&&!Ex.test(b)&&!Fr[(b0.exec(b)||["",""])[1].toLowerCase()]){b=w.htmlPrefilter(b);try{for(;M<L;M++)(S=this[M]||{}).nodeType===1&&(w.cleanData(cr(S,!1)),S.innerHTML=b);S=0}catch{}}S&&this.empty().append(b)},null,p,arguments.length)},replaceWith:function(){var p=[];return va(this,arguments,function(b){var S=this.parentNode;w.inArray(this,p)<0&&(w.cleanData(cr(this)),S&&S.replaceChild(b,this))},p)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,b){w.fn[p]=function(S){for(var M,L=[],R=w(S),V=R.length-1,K=0;K<=V;K++)M=K===V?this:this.clone(!0),w(R[K])[b](M),s.apply(L,M.get());return this.pushStack(L)}});var tp=new RegExp("^("+Cu+")(?!px)[a-z%]+$","i"),Eu=function(p){var b=p.ownerDocument.defaultView;return b&&b.opener||(b=n),b.getComputedStyle(p)},A0=function(p,b,S){var M,L,R={};for(L in b)R[L]=p.style[L],p.style[L]=b[L];for(L in M=S.call(p),b)p.style[L]=R[L];return M},Dx=new RegExp(Po.join("|"),"i");function bs(p,b,S){var M,L,R,V,K=p.style;return(S=S||Eu(p))&&((V=S.getPropertyValue(b)||S[b])!==""||pa(p)||(V=w.style(p,b)),!A.pixelBoxStyles()&&tp.test(V)&&Dx.test(b)&&(M=K.width,L=K.minWidth,R=K.maxWidth,K.minWidth=K.maxWidth=K.width=V,V=S.width,K.width=M,K.minWidth=L,K.maxWidth=R)),V!==void 0?V+"":V}function M0(p,b){return{get:function(){if(!p())return(this.get=b).apply(this,arguments);delete this.get}}}(function(){function p(){if(et){Z.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",et.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ai.appendChild(Z).appendChild(et);var pt=n.getComputedStyle(et);S=pt.top!=="1%",K=b(pt.marginLeft)===12,et.style.right="60%",R=b(pt.right)===36,M=b(pt.width)===36,et.style.position="absolute",L=b(et.offsetWidth/3)===12,Ai.removeChild(Z),et=null}}function b(pt){return Math.round(parseFloat(pt))}var S,M,L,R,V,K,Z=O.createElement("div"),et=O.createElement("div");et.style&&(et.style.backgroundClip="content-box",et.cloneNode(!0).style.backgroundClip="",A.clearCloneStyle=et.style.backgroundClip==="content-box",w.extend(A,{boxSizingReliable:function(){return p(),M},pixelBoxStyles:function(){return p(),R},pixelPosition:function(){return p(),S},reliableMarginLeft:function(){return p(),K},scrollboxSize:function(){return p(),L},reliableTrDimensions:function(){var pt,vt,st,ct;return V==null&&(pt=O.createElement("table"),vt=O.createElement("tr"),st=O.createElement("div"),pt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",vt.style.cssText="border:1px solid",vt.style.height="1px",st.style.height="9px",st.style.display="block",Ai.appendChild(pt).appendChild(vt).appendChild(st),ct=n.getComputedStyle(vt),V=parseInt(ct.height,10)+parseInt(ct.borderTopWidth,10)+parseInt(ct.borderBottomWidth,10)===vt.offsetHeight,Ai.removeChild(pt)),V}}))})();var T0=["Webkit","Moz","ms"],D0=O.createElement("div").style,O0={};function ep(p){var b=w.cssProps[p]||O0[p];return b||(p in D0?p:O0[p]=function(S){for(var M=S[0].toUpperCase()+S.slice(1),L=T0.length;L--;)if((S=T0[L]+M)in D0)return S}(p)||p)}var Ox=/^(none|table(?!-c[ea]).+)/,N0=/^--/,Nx={position:"absolute",visibility:"hidden",display:"block"},k0={letterSpacing:"0",fontWeight:"400"};function L0(p,b,S){var M=ys.exec(b);return M?Math.max(0,M[2]-(S||0))+(M[3]||"px"):b}function np(p,b,S,M,L,R){var V=b==="width"?1:0,K=0,Z=0;if(S===(M?"border":"content"))return 0;for(;V<4;V+=2)S==="margin"&&(Z+=w.css(p,S+Po[V],!0,L)),M?(S==="content"&&(Z-=w.css(p,"padding"+Po[V],!0,L)),S!=="margin"&&(Z-=w.css(p,"border"+Po[V]+"Width",!0,L))):(Z+=w.css(p,"padding"+Po[V],!0,L),S!=="padding"?Z+=w.css(p,"border"+Po[V]+"Width",!0,L):K+=w.css(p,"border"+Po[V]+"Width",!0,L));return!M&&R>=0&&(Z+=Math.max(0,Math.ceil(p["offset"+b[0].toUpperCase()+b.slice(1)]-R-Z-K-.5))||0),Z}function F0(p,b,S){var M=Eu(p),L=(!A.boxSizingReliable()||S)&&w.css(p,"boxSizing",!1,M)==="border-box",R=L,V=bs(p,b,M),K="offset"+b[0].toUpperCase()+b.slice(1);if(tp.test(V)){if(!S)return V;V="auto"}return(!A.boxSizingReliable()&&L||!A.reliableTrDimensions()&&xt(p,"tr")||V==="auto"||!parseFloat(V)&&w.css(p,"display",!1,M)==="inline")&&p.getClientRects().length&&(L=w.css(p,"boxSizing",!1,M)==="border-box",(R=K in p)&&(V=p[K])),(V=parseFloat(V)||0)+np(p,b,S||(L?"border":"content"),R,M,V)+"px"}function hr(p,b,S,M,L){return new hr.prototype.init(p,b,S,M,L)}w.extend({cssHooks:{opacity:{get:function(p,b){if(b){var S=bs(p,"opacity");return S===""?"1":S}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(p,b,S,M){if(p&&p.nodeType!==3&&p.nodeType!==8&&p.style){var L,R,V,K=Ge(b),Z=N0.test(b),et=p.style;if(Z||(b=ep(K)),V=w.cssHooks[b]||w.cssHooks[K],S===void 0)return V&&"get"in V&&(L=V.get(p,!1,M))!==void 0?L:et[b];(R=typeof S)=="string"&&(L=ys.exec(S))&&L[1]&&(S=y0(p,b,L),R="number"),S!=null&&S==S&&(R!=="number"||Z||(S+=L&&L[3]||(w.cssNumber[K]?"":"px")),A.clearCloneStyle||S!==""||b.indexOf("background")!==0||(et[b]="inherit"),V&&"set"in V&&(S=V.set(p,S,M))===void 0||(Z?et.setProperty(b,S):et[b]=S))}},css:function(p,b,S,M){var L,R,V,K=Ge(b);return N0.test(b)||(b=ep(K)),(V=w.cssHooks[b]||w.cssHooks[K])&&"get"in V&&(L=V.get(p,!0,S)),L===void 0&&(L=bs(p,b,M)),L==="normal"&&b in k0&&(L=k0[b]),S===""||S?(R=parseFloat(L),S===!0||isFinite(R)?R||0:L):L}}),w.each(["height","width"],function(p,b){w.cssHooks[b]={get:function(S,M,L){if(M)return!Ox.test(w.css(S,"display"))||S.getClientRects().length&&S.getBoundingClientRect().width?F0(S,b,L):A0(S,Nx,function(){return F0(S,b,L)})},set:function(S,M,L){var R,V=Eu(S),K=!A.scrollboxSize()&&V.position==="absolute",Z=(K||L)&&w.css(S,"boxSizing",!1,V)==="border-box",et=L?np(S,b,L,Z,V):0;return Z&&K&&(et-=Math.ceil(S["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(V[b])-np(S,b,"border",!1,V)-.5)),et&&(R=ys.exec(M))&&(R[3]||"px")!=="px"&&(S.style[b]=M,M=w.css(S,b)),L0(0,M,et)}}}),w.cssHooks.marginLeft=M0(A.reliableMarginLeft,function(p,b){if(b)return(parseFloat(bs(p,"marginLeft"))||p.getBoundingClientRect().left-A0(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(p,b){w.cssHooks[p+b]={expand:function(S){for(var M=0,L={},R=typeof S=="string"?S.split(" "):[S];M<4;M++)L[p+Po[M]+b]=R[M]||R[M-2]||R[0];return L}},p!=="margin"&&(w.cssHooks[p+b].set=L0)}),w.fn.extend({css:function(p,b){return ve(this,function(S,M,L){var R,V,K={},Z=0;if(Array.isArray(M)){for(R=Eu(S),V=M.length;Z<V;Z++)K[M[Z]]=w.css(S,M[Z],!1,R);return K}return L!==void 0?w.style(S,M,L):w.css(S,M)},p,b,arguments.length>1)}}),w.Tween=hr,hr.prototype={constructor:hr,init:function(p,b,S,M,L,R){this.elem=p,this.prop=S,this.easing=L||w.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=M,this.unit=R||(w.cssNumber[S]?"":"px")},cur:function(){var p=hr.propHooks[this.prop];return p&&p.get?p.get(this):hr.propHooks._default.get(this)},run:function(p){var b,S=hr.propHooks[this.prop];return this.options.duration?this.pos=b=w.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):this.pos=b=p,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),S&&S.set?S.set(this):hr.propHooks._default.set(this),this}},hr.prototype.init.prototype=hr.prototype,hr.propHooks={_default:{get:function(p){var b;return p.elem.nodeType!==1||p.elem[p.prop]!=null&&p.elem.style[p.prop]==null?p.elem[p.prop]:(b=w.css(p.elem,p.prop,""))&&b!=="auto"?b:0},set:function(p){w.fx.step[p.prop]?w.fx.step[p.prop](p):p.elem.nodeType!==1||!w.cssHooks[p.prop]&&p.elem.style[ep(p.prop)]==null?p.elem[p.prop]=p.now:w.style(p.elem,p.prop,p.now+p.unit)}}},hr.propHooks.scrollTop=hr.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},w.easing={linear:function(p){return p},swing:function(p){return .5-Math.cos(p*Math.PI)/2},_default:"swing"},w.fx=hr.prototype.init,w.fx.step={};var ya,Su,ma,R0,kx=/^(?:toggle|show|hide)$/,Lx=/queueHooks$/;function rp(){Su&&(O.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(rp):n.setTimeout(rp,w.fx.interval),w.fx.tick())}function I0(){return n.setTimeout(function(){ya=void 0}),ya=Date.now()}function Pu(p,b){var S,M=0,L={height:p};for(b=b?1:0;M<4;M+=2-b)L["margin"+(S=Po[M])]=L["padding"+S]=p;return b&&(L.opacity=L.width=p),L}function j0(p,b,S){for(var M,L=(Yr.tweeners[b]||[]).concat(Yr.tweeners["*"]),R=0,V=L.length;R<V;R++)if(M=L[R].call(S,b,p))return M}function Yr(p,b,S){var M,L,R=0,V=Yr.prefilters.length,K=w.Deferred().always(function(){delete Z.elem}),Z=function(){if(L)return!1;for(var vt=ya||I0(),st=Math.max(0,et.startTime+et.duration-vt),ct=1-(st/et.duration||0),$t=0,te=et.tweens.length;$t<te;$t++)et.tweens[$t].run(ct);return K.notifyWith(p,[et,ct,st]),ct<1&&te?st:(te||K.notifyWith(p,[et,1,0]),K.resolveWith(p,[et]),!1)},et=K.promise({elem:p,props:w.extend({},b),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},S),originalProperties:b,originalOptions:S,startTime:ya||I0(),duration:S.duration,tweens:[],createTween:function(vt,st){var ct=w.Tween(p,et.opts,vt,st,et.opts.specialEasing[vt]||et.opts.easing);return et.tweens.push(ct),ct},stop:function(vt){var st=0,ct=vt?et.tweens.length:0;if(L)return this;for(L=!0;st<ct;st++)et.tweens[st].run(1);return vt?(K.notifyWith(p,[et,1,0]),K.resolveWith(p,[et,vt])):K.rejectWith(p,[et,vt]),this}}),pt=et.props;for(!function(vt,st){var ct,$t,te,Wt,un;for(ct in vt)if(te=st[$t=Ge(ct)],Wt=vt[ct],Array.isArray(Wt)&&(te=Wt[1],Wt=vt[ct]=Wt[0]),ct!==$t&&(vt[$t]=Wt,delete vt[ct]),(un=w.cssHooks[$t])&&"expand"in un)for(ct in Wt=un.expand(Wt),delete vt[$t],Wt)ct in vt||(vt[ct]=Wt[ct],st[ct]=te);else st[$t]=te}(pt,et.opts.specialEasing);R<V;R++)if(M=Yr.prefilters[R].call(et,p,pt,et.opts))return D(M.stop)&&(w._queueHooks(et.elem,et.opts.queue).stop=M.stop.bind(M)),M;return w.map(pt,j0,et),D(et.opts.start)&&et.opts.start.call(p,et),et.progress(et.opts.progress).done(et.opts.done,et.opts.complete).fail(et.opts.fail).always(et.opts.always),w.fx.timer(w.extend(Z,{elem:p,anim:et,queue:et.opts.queue})),et}w.Animation=w.extend(Yr,{tweeners:{"*":[function(p,b){var S=this.createTween(p,b);return y0(S.elem,p,ys.exec(b),S),S}]},tweener:function(p,b){D(p)?(b=p,p=["*"]):p=p.match(Rt);for(var S,M=0,L=p.length;M<L;M++)S=p[M],Yr.tweeners[S]=Yr.tweeners[S]||[],Yr.tweeners[S].unshift(b)},prefilters:[function(p,b,S){var M,L,R,V,K,Z,et,pt,vt="width"in b||"height"in b,st=this,ct={},$t=p.style,te=p.nodeType&&xu(p),Wt=qt.get(p,"fxshow");for(M in S.queue||((V=w._queueHooks(p,"fx")).unqueued==null&&(V.unqueued=0,K=V.empty.fire,V.empty.fire=function(){V.unqueued||K()}),V.unqueued++,st.always(function(){st.always(function(){V.unqueued--,w.queue(p,"fx").length||V.empty.fire()})})),b)if(L=b[M],kx.test(L)){if(delete b[M],R=R||L==="toggle",L===(te?"hide":"show")){if(L!=="show"||!Wt||Wt[M]===void 0)continue;te=!0}ct[M]=Wt&&Wt[M]||w.style(p,M)}if((Z=!w.isEmptyObject(b))||!w.isEmptyObject(ct))for(M in vt&&p.nodeType===1&&(S.overflow=[$t.overflow,$t.overflowX,$t.overflowY],(et=Wt&&Wt.display)==null&&(et=qt.get(p,"display")),(pt=w.css(p,"display"))==="none"&&(et?pt=et:(da([p],!0),et=p.style.display||et,pt=w.css(p,"display"),da([p]))),(pt==="inline"||pt==="inline-block"&&et!=null)&&w.css(p,"float")==="none"&&(Z||(st.done(function(){$t.display=et}),et==null&&(pt=$t.display,et=pt==="none"?"":pt)),$t.display="inline-block")),S.overflow&&($t.overflow="hidden",st.always(function(){$t.overflow=S.overflow[0],$t.overflowX=S.overflow[1],$t.overflowY=S.overflow[2]})),Z=!1,ct)Z||(Wt?"hidden"in Wt&&(te=Wt.hidden):Wt=qt.access(p,"fxshow",{display:et}),R&&(Wt.hidden=!te),te&&da([p],!0),st.done(function(){for(M in te||da([p]),qt.remove(p,"fxshow"),ct)w.style(p,M,ct[M])})),Z=j0(te?Wt[M]:0,M,st),M in Wt||(Wt[M]=Z.start,te&&(Z.end=Z.start,Z.start=0))}],prefilter:function(p,b){b?Yr.prefilters.unshift(p):Yr.prefilters.push(p)}}),w.speed=function(p,b,S){var M=p&&typeof p=="object"?w.extend({},p):{complete:S||!S&&b||D(p)&&p,duration:p,easing:S&&b||b&&!D(b)&&b};return w.fx.off?M.duration=0:typeof M.duration!="number"&&(M.duration in w.fx.speeds?M.duration=w.fx.speeds[M.duration]:M.duration=w.fx.speeds._default),M.queue!=null&&M.queue!==!0||(M.queue="fx"),M.old=M.complete,M.complete=function(){D(M.old)&&M.old.call(this),M.queue&&w.dequeue(this,M.queue)},M},w.fn.extend({fadeTo:function(p,b,S,M){return this.filter(xu).css("opacity",0).show().end().animate({opacity:b},p,S,M)},animate:function(p,b,S,M){var L=w.isEmptyObject(p),R=w.speed(b,S,M),V=function(){var K=Yr(this,w.extend({},p),R);(L||qt.get(this,"finish"))&&K.stop(!0)};return V.finish=V,L||R.queue===!1?this.each(V):this.queue(R.queue,V)},stop:function(p,b,S){var M=function(L){var R=L.stop;delete L.stop,R(S)};return typeof p!="string"&&(S=b,b=p,p=void 0),b&&this.queue(p||"fx",[]),this.each(function(){var L=!0,R=p!=null&&p+"queueHooks",V=w.timers,K=qt.get(this);if(R)K[R]&&K[R].stop&&M(K[R]);else for(R in K)K[R]&&K[R].stop&&Lx.test(R)&&M(K[R]);for(R=V.length;R--;)V[R].elem!==this||p!=null&&V[R].queue!==p||(V[R].anim.stop(S),L=!1,V.splice(R,1));!L&&S||w.dequeue(this,p)})},finish:function(p){return p!==!1&&(p=p||"fx"),this.each(function(){var b,S=qt.get(this),M=S[p+"queue"],L=S[p+"queueHooks"],R=w.timers,V=M?M.length:0;for(S.finish=!0,w.queue(this,p,[]),L&&L.stop&&L.stop.call(this,!0),b=R.length;b--;)R[b].elem===this&&R[b].queue===p&&(R[b].anim.stop(!0),R.splice(b,1));for(b=0;b<V;b++)M[b]&&M[b].finish&&M[b].finish.call(this);delete S.finish})}}),w.each(["toggle","show","hide"],function(p,b){var S=w.fn[b];w.fn[b]=function(M,L,R){return M==null||typeof M=="boolean"?S.apply(this,arguments):this.animate(Pu(b,!0),M,L,R)}}),w.each({slideDown:Pu("show"),slideUp:Pu("hide"),slideToggle:Pu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,b){w.fn[p]=function(S,M,L){return this.animate(b,S,M,L)}}),w.timers=[],w.fx.tick=function(){var p,b=0,S=w.timers;for(ya=Date.now();b<S.length;b++)(p=S[b])()||S[b]!==p||S.splice(b--,1);S.length||w.fx.stop(),ya=void 0},w.fx.timer=function(p){w.timers.push(p),w.fx.start()},w.fx.interval=13,w.fx.start=function(){Su||(Su=!0,rp())},w.fx.stop=function(){Su=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(p,b){return p=w.fx&&w.fx.speeds[p]||p,b=b||"fx",this.queue(b,function(S,M){var L=n.setTimeout(S,p);M.stop=function(){n.clearTimeout(L)}})},ma=O.createElement("input"),R0=O.createElement("select").appendChild(O.createElement("option")),ma.type="checkbox",A.checkOn=ma.value!=="",A.optSelected=R0.selected,(ma=O.createElement("input")).value="t",ma.type="radio",A.radioValue=ma.value==="t";var B0,Cs=w.expr.attrHandle;w.fn.extend({attr:function(p,b){return ve(this,w.attr,p,b,arguments.length>1)},removeAttr:function(p){return this.each(function(){w.removeAttr(this,p)})}}),w.extend({attr:function(p,b,S){var M,L,R=p.nodeType;if(R!==3&&R!==8&&R!==2)return p.getAttribute===void 0?w.prop(p,b,S):(R===1&&w.isXMLDoc(p)||(L=w.attrHooks[b.toLowerCase()]||(w.expr.match.bool.test(b)?B0:void 0)),S!==void 0?S===null?void w.removeAttr(p,b):L&&"set"in L&&(M=L.set(p,S,b))!==void 0?M:(p.setAttribute(b,S+""),S):L&&"get"in L&&(M=L.get(p,b))!==null?M:(M=w.find.attr(p,b))==null?void 0:M)},attrHooks:{type:{set:function(p,b){if(!A.radioValue&&b==="radio"&&xt(p,"input")){var S=p.value;return p.setAttribute("type",b),S&&(p.value=S),b}}}},removeAttr:function(p,b){var S,M=0,L=b&&b.match(Rt);if(L&&p.nodeType===1)for(;S=L[M++];)p.removeAttribute(S)}}),B0={set:function(p,b,S){return b===!1?w.removeAttr(p,S):p.setAttribute(S,S),S}},w.each(w.expr.match.bool.source.match(/\w+/g),function(p,b){var S=Cs[b]||w.find.attr;Cs[b]=function(M,L,R){var V,K,Z=L.toLowerCase();return R||(K=Cs[Z],Cs[Z]=V,V=S(M,L,R)!=null?Z:null,Cs[Z]=K),V}});var Fx=/^(?:input|select|textarea|button)$/i,Rx=/^(?:a|area)$/i;function Mi(p){return(p.match(Rt)||[]).join(" ")}function Ti(p){return p.getAttribute&&p.getAttribute("class")||""}function op(p){return Array.isArray(p)?p:typeof p=="string"&&p.match(Rt)||[]}w.fn.extend({prop:function(p,b){return ve(this,w.prop,p,b,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[w.propFix[p]||p]})}}),w.extend({prop:function(p,b,S){var M,L,R=p.nodeType;if(R!==3&&R!==8&&R!==2)return R===1&&w.isXMLDoc(p)||(b=w.propFix[b]||b,L=w.propHooks[b]),S!==void 0?L&&"set"in L&&(M=L.set(p,S,b))!==void 0?M:p[b]=S:L&&"get"in L&&(M=L.get(p,b))!==null?M:p[b]},propHooks:{tabIndex:{get:function(p){var b=w.find.attr(p,"tabindex");return b?parseInt(b,10):Fx.test(p.nodeName)||Rx.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),A.optSelected||(w.propHooks.selected={get:function(p){var b=p.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(p){var b=p.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(p){var b,S,M,L,R,V,K,Z=0;if(D(p))return this.each(function(et){w(this).addClass(p.call(this,et,Ti(this)))});if((b=op(p)).length){for(;S=this[Z++];)if(L=Ti(S),M=S.nodeType===1&&" "+Mi(L)+" "){for(V=0;R=b[V++];)M.indexOf(" "+R+" ")<0&&(M+=R+" ");L!==(K=Mi(M))&&S.setAttribute("class",K)}}return this},removeClass:function(p){var b,S,M,L,R,V,K,Z=0;if(D(p))return this.each(function(et){w(this).removeClass(p.call(this,et,Ti(this)))});if(!arguments.length)return this.attr("class","");if((b=op(p)).length){for(;S=this[Z++];)if(L=Ti(S),M=S.nodeType===1&&" "+Mi(L)+" "){for(V=0;R=b[V++];)for(;M.indexOf(" "+R+" ")>-1;)M=M.replace(" "+R+" "," ");L!==(K=Mi(M))&&S.setAttribute("class",K)}}return this},toggleClass:function(p,b){var S=typeof p,M=S==="string"||Array.isArray(p);return typeof b=="boolean"&&M?b?this.addClass(p):this.removeClass(p):D(p)?this.each(function(L){w(this).toggleClass(p.call(this,L,Ti(this),b),b)}):this.each(function(){var L,R,V,K;if(M)for(R=0,V=w(this),K=op(p);L=K[R++];)V.hasClass(L)?V.removeClass(L):V.addClass(L);else p!==void 0&&S!=="boolean"||((L=Ti(this))&&qt.set(this,"__className__",L),this.setAttribute&&this.setAttribute("class",L||p===!1?"":qt.get(this,"__className__")||""))})},hasClass:function(p){var b,S,M=0;for(b=" "+p+" ";S=this[M++];)if(S.nodeType===1&&(" "+Mi(Ti(S))+" ").indexOf(b)>-1)return!0;return!1}});var Ix=/\r/g;w.fn.extend({val:function(p){var b,S,M,L=this[0];return arguments.length?(M=D(p),this.each(function(R){var V;this.nodeType===1&&((V=M?p.call(this,R,w(this).val()):p)==null?V="":typeof V=="number"?V+="":Array.isArray(V)&&(V=w.map(V,function(K){return K==null?"":K+""})),(b=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&b.set(this,V,"value")!==void 0||(this.value=V))})):L?(b=w.valHooks[L.type]||w.valHooks[L.nodeName.toLowerCase()])&&"get"in b&&(S=b.get(L,"value"))!==void 0?S:typeof(S=L.value)=="string"?S.replace(Ix,""):S==null?"":S:void 0}}),w.extend({valHooks:{option:{get:function(p){var b=w.find.attr(p,"value");return b!=null?b:Mi(w.text(p))}},select:{get:function(p){var b,S,M,L=p.options,R=p.selectedIndex,V=p.type==="select-one",K=V?null:[],Z=V?R+1:L.length;for(M=R<0?Z:V?R:0;M<Z;M++)if(((S=L[M]).selected||M===R)&&!S.disabled&&(!S.parentNode.disabled||!xt(S.parentNode,"optgroup"))){if(b=w(S).val(),V)return b;K.push(b)}return K},set:function(p,b){for(var S,M,L=p.options,R=w.makeArray(b),V=L.length;V--;)((M=L[V]).selected=w.inArray(w.valHooks.option.get(M),R)>-1)&&(S=!0);return S||(p.selectedIndex=-1),R}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(p,b){if(Array.isArray(b))return p.checked=w.inArray(w(p).val(),b)>-1}},A.checkOn||(w.valHooks[this].get=function(p){return p.getAttribute("value")===null?"on":p.value})}),A.focusin="onfocusin"in n;var z0=/^(?:focusinfocus|focusoutblur)$/,V0=function(p){p.stopPropagation()};w.extend(w.event,{trigger:function(p,b,S,M){var L,R,V,K,Z,et,pt,vt,st=[S||O],ct=d.call(p,"type")?p.type:p,$t=d.call(p,"namespace")?p.namespace.split("."):[];if(R=vt=V=S=S||O,S.nodeType!==3&&S.nodeType!==8&&!z0.test(ct+w.event.triggered)&&(ct.indexOf(".")>-1&&($t=ct.split("."),ct=$t.shift(),$t.sort()),Z=ct.indexOf(":")<0&&"on"+ct,(p=p[w.expando]?p:new w.Event(ct,typeof p=="object"&&p)).isTrigger=M?2:3,p.namespace=$t.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+$t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=S),b=b==null?[p]:w.makeArray(b,[p]),pt=w.event.special[ct]||{},M||!pt.trigger||pt.trigger.apply(S,b)!==!1)){if(!M&&!pt.noBubble&&!k(S)){for(K=pt.delegateType||ct,z0.test(K+ct)||(R=R.parentNode);R;R=R.parentNode)st.push(R),V=R;V===(S.ownerDocument||O)&&st.push(V.defaultView||V.parentWindow||n)}for(L=0;(R=st[L++])&&!p.isPropagationStopped();)vt=R,p.type=L>1?K:pt.bindType||ct,(et=(qt.get(R,"events")||Object.create(null))[p.type]&&qt.get(R,"handle"))&&et.apply(R,b),(et=Z&&R[Z])&&et.apply&&Lr(R)&&(p.result=et.apply(R,b),p.result===!1&&p.preventDefault());return p.type=ct,M||p.isDefaultPrevented()||pt._default&&pt._default.apply(st.pop(),b)!==!1||!Lr(S)||Z&&D(S[ct])&&!k(S)&&((V=S[Z])&&(S[Z]=null),w.event.triggered=ct,p.isPropagationStopped()&&vt.addEventListener(ct,V0),S[ct](),p.isPropagationStopped()&&vt.removeEventListener(ct,V0),w.event.triggered=void 0,V&&(S[Z]=V)),p.result}},simulate:function(p,b,S){var M=w.extend(new w.Event,S,{type:p,isSimulated:!0});w.event.trigger(M,null,b)}}),w.fn.extend({trigger:function(p,b){return this.each(function(){w.event.trigger(p,b,this)})},triggerHandler:function(p,b){var S=this[0];if(S)return w.event.trigger(p,b,S,!0)}}),A.focusin||w.each({focus:"focusin",blur:"focusout"},function(p,b){var S=function(M){w.event.simulate(b,M.target,w.event.fix(M))};w.event.special[b]={setup:function(){var M=this.ownerDocument||this.document||this,L=qt.access(M,b);L||M.addEventListener(p,S,!0),qt.access(M,b,(L||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,L=qt.access(M,b)-1;L?qt.access(M,b,L):(M.removeEventListener(p,S,!0),qt.remove(M,b))}}});var xs=n.location,G0={guid:Date.now()},ip=/\?/;w.parseXML=function(p){var b,S;if(!p||typeof p!="string")return null;try{b=new n.DOMParser().parseFromString(p,"text/xml")}catch{}return S=b&&b.getElementsByTagName("parsererror")[0],b&&!S||w.error("Invalid XML: "+(S?w.map(S.childNodes,function(M){return M.textContent}).join(`
`):p)),b};var jx=/\[\]$/,H0=/\r?\n/g,Bx=/^(?:submit|button|image|reset|file)$/i,zx=/^(?:input|select|textarea|keygen)/i;function ap(p,b,S,M){var L;if(Array.isArray(b))w.each(b,function(R,V){S||jx.test(p)?M(p,V):ap(p+"["+(typeof V=="object"&&V!=null?R:"")+"]",V,S,M)});else if(S||z(b)!=="object")M(p,b);else for(L in b)ap(p+"["+L+"]",b[L],S,M)}w.param=function(p,b){var S,M=[],L=function(R,V){var K=D(V)?V():V;M[M.length]=encodeURIComponent(R)+"="+encodeURIComponent(K==null?"":K)};if(p==null)return"";if(Array.isArray(p)||p.jquery&&!w.isPlainObject(p))w.each(p,function(){L(this.name,this.value)});else for(S in p)ap(S,p[S],b,L);return M.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=w.prop(this,"elements");return p?w.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!w(this).is(":disabled")&&zx.test(this.nodeName)&&!Bx.test(p)&&(this.checked||!ms.test(p))}).map(function(p,b){var S=w(this).val();return S==null?null:Array.isArray(S)?w.map(S,function(M){return{name:b.name,value:M.replace(H0,`\r
`)}}):{name:b.name,value:S.replace(H0,`\r
`)}}).get()}});var Vx=/%20/g,Gx=/#.*$/,Hx=/([?&])_=[^&]*/,Ux=/^(.*?):[ \t]*([^\r\n]*)$/gm,$x=/^(?:GET|HEAD)$/,Wx=/^\/\//,U0={},sp={},$0="*/".concat("*"),lp=O.createElement("a");function W0(p){return function(b,S){typeof b!="string"&&(S=b,b="*");var M,L=0,R=b.toLowerCase().match(Rt)||[];if(D(S))for(;M=R[L++];)M[0]==="+"?(M=M.slice(1)||"*",(p[M]=p[M]||[]).unshift(S)):(p[M]=p[M]||[]).push(S)}}function X0(p,b,S,M){var L={},R=p===sp;function V(K){var Z;return L[K]=!0,w.each(p[K]||[],function(et,pt){var vt=pt(b,S,M);return typeof vt!="string"||R||L[vt]?R?!(Z=vt):void 0:(b.dataTypes.unshift(vt),V(vt),!1)}),Z}return V(b.dataTypes[0])||!L["*"]&&V("*")}function up(p,b){var S,M,L=w.ajaxSettings.flatOptions||{};for(S in b)b[S]!==void 0&&((L[S]?p:M||(M={}))[S]=b[S]);return M&&w.extend(!0,p,M),p}lp.href=xs.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xs.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$0,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,b){return b?up(up(p,w.ajaxSettings),b):up(w.ajaxSettings,p)},ajaxPrefilter:W0(U0),ajaxTransport:W0(sp),ajax:function(p,b){typeof p=="object"&&(b=p,p=void 0),b=b||{};var S,M,L,R,V,K,Z,et,pt,vt,st=w.ajaxSetup({},b),ct=st.context||st,$t=st.context&&(ct.nodeType||ct.jquery)?w(ct):w.event,te=w.Deferred(),Wt=w.Callbacks("once memory"),un=st.statusCode||{},In={},br={},He="canceled",le={readyState:0,getResponseHeader:function(Me){var cn;if(Z){if(!R)for(R={};cn=Ux.exec(L);)R[cn[1].toLowerCase()+" "]=(R[cn[1].toLowerCase()+" "]||[]).concat(cn[2]);cn=R[Me.toLowerCase()+" "]}return cn==null?null:cn.join(", ")},getAllResponseHeaders:function(){return Z?L:null},setRequestHeader:function(Me,cn){return Z==null&&(Me=br[Me.toLowerCase()]=br[Me.toLowerCase()]||Me,In[Me]=cn),this},overrideMimeType:function(Me){return Z==null&&(st.mimeType=Me),this},statusCode:function(Me){var cn;if(Me)if(Z)le.always(Me[le.status]);else for(cn in Me)un[cn]=[un[cn],Me[cn]];return this},abort:function(Me){var cn=Me||He;return S&&S.abort(cn),pr(0,cn),this}};if(te.promise(le),st.url=((p||st.url||xs.href)+"").replace(Wx,xs.protocol+"//"),st.type=b.method||b.type||st.method||st.type,st.dataTypes=(st.dataType||"*").toLowerCase().match(Rt)||[""],st.crossDomain==null){K=O.createElement("a");try{K.href=st.url,K.href=K.href,st.crossDomain=lp.protocol+"//"+lp.host!=K.protocol+"//"+K.host}catch{st.crossDomain=!0}}if(st.data&&st.processData&&typeof st.data!="string"&&(st.data=w.param(st.data,st.traditional)),X0(U0,st,b,le),Z)return le;for(pt in(et=w.event&&st.global)&&w.active++==0&&w.event.trigger("ajaxStart"),st.type=st.type.toUpperCase(),st.hasContent=!$x.test(st.type),M=st.url.replace(Gx,""),st.hasContent?st.data&&st.processData&&(st.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(st.data=st.data.replace(Vx,"+")):(vt=st.url.slice(M.length),st.data&&(st.processData||typeof st.data=="string")&&(M+=(ip.test(M)?"&":"?")+st.data,delete st.data),st.cache===!1&&(M=M.replace(Hx,"$1"),vt=(ip.test(M)?"&":"?")+"_="+G0.guid+++vt),st.url=M+vt),st.ifModified&&(w.lastModified[M]&&le.setRequestHeader("If-Modified-Since",w.lastModified[M]),w.etag[M]&&le.setRequestHeader("If-None-Match",w.etag[M])),(st.data&&st.hasContent&&st.contentType!==!1||b.contentType)&&le.setRequestHeader("Content-Type",st.contentType),le.setRequestHeader("Accept",st.dataTypes[0]&&st.accepts[st.dataTypes[0]]?st.accepts[st.dataTypes[0]]+(st.dataTypes[0]!=="*"?", "+$0+"; q=0.01":""):st.accepts["*"]),st.headers)le.setRequestHeader(pt,st.headers[pt]);if(st.beforeSend&&(st.beforeSend.call(ct,le,st)===!1||Z))return le.abort();if(He="abort",Wt.add(st.complete),le.done(st.success),le.fail(st.error),S=X0(sp,st,b,le)){if(le.readyState=1,et&&$t.trigger("ajaxSend",[le,st]),Z)return le;st.async&&st.timeout>0&&(V=n.setTimeout(function(){le.abort("timeout")},st.timeout));try{Z=!1,S.send(In,pr)}catch(Me){if(Z)throw Me;pr(-1,Me)}}else pr(-1,"No Transport");function pr(Me,cn,Es,Au){var Cr,Di,ba,dr,Ca,Rr=cn;Z||(Z=!0,V&&n.clearTimeout(V),S=void 0,L=Au||"",le.readyState=Me>0?4:0,Cr=Me>=200&&Me<300||Me===304,Es&&(dr=function(hn,xr,wr){for(var lo,Dn,Fe,jn,Er=hn.contents,On=hn.dataTypes;On[0]==="*";)On.shift(),lo===void 0&&(lo=hn.mimeType||xr.getResponseHeader("Content-Type"));if(lo){for(Dn in Er)if(Er[Dn]&&Er[Dn].test(lo)){On.unshift(Dn);break}}if(On[0]in wr)Fe=On[0];else{for(Dn in wr){if(!On[0]||hn.converters[Dn+" "+On[0]]){Fe=Dn;break}jn||(jn=Dn)}Fe=Fe||jn}if(Fe)return Fe!==On[0]&&On.unshift(Fe),wr[Fe]}(st,le,Es)),!Cr&&w.inArray("script",st.dataTypes)>-1&&w.inArray("json",st.dataTypes)<0&&(st.converters["text script"]=function(){}),dr=function(hn,xr,wr,lo){var Dn,Fe,jn,Er,On,Sr={},xa=hn.dataTypes.slice();if(xa[1])for(jn in hn.converters)Sr[jn.toLowerCase()]=hn.converters[jn];for(Fe=xa.shift();Fe;)if(hn.responseFields[Fe]&&(wr[hn.responseFields[Fe]]=xr),!On&&lo&&hn.dataFilter&&(xr=hn.dataFilter(xr,hn.dataType)),On=Fe,Fe=xa.shift()){if(Fe==="*")Fe=On;else if(On!=="*"&&On!==Fe){if(!(jn=Sr[On+" "+Fe]||Sr["* "+Fe])){for(Dn in Sr)if((Er=Dn.split(" "))[1]===Fe&&(jn=Sr[On+" "+Er[0]]||Sr["* "+Er[0]])){jn===!0?jn=Sr[Dn]:Sr[Dn]!==!0&&(Fe=Er[0],xa.unshift(Er[1]));break}}if(jn!==!0)if(jn&&hn.throws)xr=jn(xr);else try{xr=jn(xr)}catch(Mu){return{state:"parsererror",error:jn?Mu:"No conversion from "+On+" to "+Fe}}}}return{state:"success",data:xr}}(st,dr,le,Cr),Cr?(st.ifModified&&((Ca=le.getResponseHeader("Last-Modified"))&&(w.lastModified[M]=Ca),(Ca=le.getResponseHeader("etag"))&&(w.etag[M]=Ca)),Me===204||st.type==="HEAD"?Rr="nocontent":Me===304?Rr="notmodified":(Rr=dr.state,Di=dr.data,Cr=!(ba=dr.error))):(ba=Rr,!Me&&Rr||(Rr="error",Me<0&&(Me=0))),le.status=Me,le.statusText=(cn||Rr)+"",Cr?te.resolveWith(ct,[Di,Rr,le]):te.rejectWith(ct,[le,Rr,ba]),le.statusCode(un),un=void 0,et&&$t.trigger(Cr?"ajaxSuccess":"ajaxError",[le,st,Cr?Di:ba]),Wt.fireWith(ct,[le,Rr]),et&&($t.trigger("ajaxComplete",[le,st]),--w.active||w.event.trigger("ajaxStop")))}return le},getJSON:function(p,b,S){return w.get(p,b,S,"json")},getScript:function(p,b){return w.get(p,void 0,b,"script")}}),w.each(["get","post"],function(p,b){w[b]=function(S,M,L,R){return D(M)&&(R=R||L,L=M,M=void 0),w.ajax(w.extend({url:S,type:b,dataType:R,data:M,success:L},w.isPlainObject(S)&&S))}}),w.ajaxPrefilter(function(p){var b;for(b in p.headers)b.toLowerCase()==="content-type"&&(p.contentType=p.headers[b]||"")}),w._evalUrl=function(p,b,S){return w.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){w.globalEval(M,b,S)}})},w.fn.extend({wrapAll:function(p){var b;return this[0]&&(D(p)&&(p=p.call(this[0])),b=w(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var S=this;S.firstElementChild;)S=S.firstElementChild;return S}).append(this)),this},wrapInner:function(p){return D(p)?this.each(function(b){w(this).wrapInner(p.call(this,b))}):this.each(function(){var b=w(this),S=b.contents();S.length?S.wrapAll(p):b.append(p)})},wrap:function(p){var b=D(p);return this.each(function(S){w(this).wrapAll(b?p.call(this,S):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(p){return!w.expr.pseudos.visible(p)},w.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var Xx={0:200,1223:204},ws=w.ajaxSettings.xhr();A.cors=!!ws&&"withCredentials"in ws,A.ajax=ws=!!ws,w.ajaxTransport(function(p){var b,S;if(A.cors||ws&&!p.crossDomain)return{send:function(M,L){var R,V=p.xhr();if(V.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(R in p.xhrFields)V[R]=p.xhrFields[R];for(R in p.mimeType&&V.overrideMimeType&&V.overrideMimeType(p.mimeType),p.crossDomain||M["X-Requested-With"]||(M["X-Requested-With"]="XMLHttpRequest"),M)V.setRequestHeader(R,M[R]);b=function(K){return function(){b&&(b=S=V.onload=V.onerror=V.onabort=V.ontimeout=V.onreadystatechange=null,K==="abort"?V.abort():K==="error"?typeof V.status!="number"?L(0,"error"):L(V.status,V.statusText):L(Xx[V.status]||V.status,V.statusText,(V.responseType||"text")!=="text"||typeof V.responseText!="string"?{binary:V.response}:{text:V.responseText},V.getAllResponseHeaders()))}},V.onload=b(),S=V.onerror=V.ontimeout=b("error"),V.onabort!==void 0?V.onabort=S:V.onreadystatechange=function(){V.readyState===4&&n.setTimeout(function(){b&&S()})},b=b("abort");try{V.send(p.hasContent&&p.data||null)}catch(K){if(b)throw K}},abort:function(){b&&b()}}}),w.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return w.globalEval(p),p}}}),w.ajaxPrefilter("script",function(p){p.cache===void 0&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),w.ajaxTransport("script",function(p){var b,S;if(p.crossDomain||p.scriptAttrs)return{send:function(M,L){b=w("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",S=function(R){b.remove(),S=null,R&&L(R.type==="error"?404:200,R.type)}),O.head.appendChild(b[0])},abort:function(){S&&S()}}});var Y0,K0=[],cp=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=K0.pop()||w.expando+"_"+G0.guid++;return this[p]=!0,p}}),w.ajaxPrefilter("json jsonp",function(p,b,S){var M,L,R,V=p.jsonp!==!1&&(cp.test(p.url)?"url":typeof p.data=="string"&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&cp.test(p.data)&&"data");if(V||p.dataTypes[0]==="jsonp")return M=p.jsonpCallback=D(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,V?p[V]=p[V].replace(cp,"$1"+M):p.jsonp!==!1&&(p.url+=(ip.test(p.url)?"&":"?")+p.jsonp+"="+M),p.converters["script json"]=function(){return R||w.error(M+" was not called"),R[0]},p.dataTypes[0]="json",L=n[M],n[M]=function(){R=arguments},S.always(function(){L===void 0?w(n).removeProp(M):n[M]=L,p[M]&&(p.jsonpCallback=b.jsonpCallback,K0.push(M)),R&&D(L)&&L(R[0]),R=L=void 0}),"script"}),A.createHTMLDocument=((Y0=O.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",Y0.childNodes.length===2),w.parseHTML=function(p,b,S){return typeof p!="string"?[]:(typeof b=="boolean"&&(S=b,b=!1),b||(A.createHTMLDocument?((M=(b=O.implementation.createHTMLDocument("")).createElement("base")).href=O.location.href,b.head.appendChild(M)):b=O),R=!S&&[],(L=Dt.exec(p))?[b.createElement(L[1])]:(L=x0([p],b,R),R&&R.length&&w(R).remove(),w.merge([],L.childNodes)));var M,L,R},w.fn.load=function(p,b,S){var M,L,R,V=this,K=p.indexOf(" ");return K>-1&&(M=Mi(p.slice(K)),p=p.slice(0,K)),D(b)?(S=b,b=void 0):b&&typeof b=="object"&&(L="POST"),V.length>0&&w.ajax({url:p,type:L||"GET",dataType:"html",data:b}).done(function(Z){R=arguments,V.html(M?w("<div>").append(w.parseHTML(Z)).find(M):Z)}).always(S&&function(Z,et){V.each(function(){S.apply(this,R||[Z.responseText,et,Z])})}),this},w.expr.pseudos.animated=function(p){return w.grep(w.timers,function(b){return p===b.elem}).length},w.offset={setOffset:function(p,b,S){var M,L,R,V,K,Z,et=w.css(p,"position"),pt=w(p),vt={};et==="static"&&(p.style.position="relative"),K=pt.offset(),R=w.css(p,"top"),Z=w.css(p,"left"),(et==="absolute"||et==="fixed")&&(R+Z).indexOf("auto")>-1?(V=(M=pt.position()).top,L=M.left):(V=parseFloat(R)||0,L=parseFloat(Z)||0),D(b)&&(b=b.call(p,S,w.extend({},K))),b.top!=null&&(vt.top=b.top-K.top+V),b.left!=null&&(vt.left=b.left-K.left+L),"using"in b?b.using.call(p,vt):pt.css(vt)}},w.fn.extend({offset:function(p){if(arguments.length)return p===void 0?this:this.each(function(L){w.offset.setOffset(this,p,L)});var b,S,M=this[0];return M?M.getClientRects().length?(b=M.getBoundingClientRect(),S=M.ownerDocument.defaultView,{top:b.top+S.pageYOffset,left:b.left+S.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var p,b,S,M=this[0],L={top:0,left:0};if(w.css(M,"position")==="fixed")b=M.getBoundingClientRect();else{for(b=this.offset(),S=M.ownerDocument,p=M.offsetParent||S.documentElement;p&&(p===S.body||p===S.documentElement)&&w.css(p,"position")==="static";)p=p.parentNode;p&&p!==M&&p.nodeType===1&&((L=w(p).offset()).top+=w.css(p,"borderTopWidth",!0),L.left+=w.css(p,"borderLeftWidth",!0))}return{top:b.top-L.top-w.css(M,"marginTop",!0),left:b.left-L.left-w.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&w.css(p,"position")==="static";)p=p.offsetParent;return p||Ai})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,b){var S=b==="pageYOffset";w.fn[p]=function(M){return ve(this,function(L,R,V){var K;if(k(L)?K=L:L.nodeType===9&&(K=L.defaultView),V===void 0)return K?K[b]:L[R];K?K.scrollTo(S?K.pageXOffset:V,S?V:K.pageYOffset):L[R]=V},p,M,arguments.length)}}),w.each(["top","left"],function(p,b){w.cssHooks[b]=M0(A.pixelPosition,function(S,M){if(M)return M=bs(S,b),tp.test(M)?w(S).position()[b]+"px":M})}),w.each({Height:"height",Width:"width"},function(p,b){w.each({padding:"inner"+p,content:b,"":"outer"+p},function(S,M){w.fn[M]=function(L,R){var V=arguments.length&&(S||typeof L!="boolean"),K=S||(L===!0||R===!0?"margin":"border");return ve(this,function(Z,et,pt){var vt;return k(Z)?M.indexOf("outer")===0?Z["inner"+p]:Z.document.documentElement["client"+p]:Z.nodeType===9?(vt=Z.documentElement,Math.max(Z.body["scroll"+p],vt["scroll"+p],Z.body["offset"+p],vt["offset"+p],vt["client"+p])):pt===void 0?w.css(Z,et,K):w.style(Z,et,pt,K)},b,V?L:void 0,V)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,b){w.fn[b]=function(S){return this.on(b,S)}}),w.fn.extend({bind:function(p,b,S){return this.on(p,null,b,S)},unbind:function(p,b){return this.off(p,null,b)},delegate:function(p,b,S,M){return this.on(b,p,S,M)},undelegate:function(p,b,S){return arguments.length===1?this.off(p,"**"):this.off(b,p||"**",S)},hover:function(p,b){return this.mouseenter(p).mouseleave(b||p)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,b){w.fn[b]=function(S,M){return arguments.length>0?this.on(b,null,S,M):this.trigger(b)}});var Yx=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(p,b){var S,M,L;if(typeof b=="string"&&(S=p[b],b=p,p=S),D(p))return M=o.call(arguments,2),(L=function(){return p.apply(b||this,M.concat(o.call(arguments)))}).guid=p.guid=p.guid||w.guid++,L},w.holdReady=function(p){p?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=xt,w.isFunction=D,w.isWindow=k,w.camelCase=Ge,w.type=z,w.now=Date.now,w.isNumeric=function(p){var b=w.type(p);return(b==="number"||b==="string")&&!isNaN(p-parseFloat(p))},w.trim=function(p){return p==null?"":(p+"").replace(Yx,"")};var Kx=n.jQuery,Jx=n.$;return w.noConflict=function(p){return n.$===w&&(n.$=Jx),p&&n.jQuery===w&&(n.jQuery=Kx),w},t===void 0&&(n.jQuery=n.$=w),w})})(j);var I=j.exports;/*!
     * jQuery Mousewheel 3.1.13
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     */(function(i,n){i.exports=function(t){var e,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(t.event.fixHooks)for(var u=o.length;u;)t.event.fixHooks[o[--u]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var C=a.length;C;)this.addEventListener(a[--C],h,!1);else this.onmousewheel=h;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var C=a.length;C;)this.removeEventListener(a[--C],h,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(C){var A=t(C),D=A["offsetParent"in t.fn?"offsetParent":"parent"]();return D.length||(D=t("body")),parseInt(D.css("fontSize"),10)||parseInt(A.css("fontSize"),10)||16},getPageHeight:function(C){return t(C).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function h(C){var A=C||window.event,D=s.call(arguments,1),k=0,O=0,F=0,B=0,z=0,Y=0;if((C=t.event.fix(A)).type="mousewheel","detail"in A&&(F=-1*A.detail),"wheelDelta"in A&&(F=A.wheelDelta),"wheelDeltaY"in A&&(F=A.wheelDeltaY),"wheelDeltaX"in A&&(O=-1*A.wheelDeltaX),"axis"in A&&A.axis===A.HORIZONTAL_AXIS&&(O=-1*F,F=0),k=F===0?O:F,"deltaY"in A&&(k=F=-1*A.deltaY),"deltaX"in A&&(O=A.deltaX,F===0&&(k=-1*O)),F!==0||O!==0){if(A.deltaMode===1){var w=t.data(this,"mousewheel-line-height");k*=w,F*=w,O*=w}else if(A.deltaMode===2){var Q=t.data(this,"mousewheel-page-height");k*=Q,F*=Q,O*=Q}if(B=Math.max(Math.abs(F),Math.abs(O)),(!r||B<r)&&(r=B,g(A,B)&&(r/=40)),g(A,B)&&(k/=40,O/=40,F/=40),k=Math[k>=1?"floor":"ceil"](k/r),O=Math[O>=1?"floor":"ceil"](O/r),F=Math[F>=1?"floor":"ceil"](F/r),c.settings.normalizeOffset&&this.getBoundingClientRect){var J=this.getBoundingClientRect();z=C.clientX-J.left,Y=C.clientY-J.top}return C.deltaX=O,C.deltaY=F,C.deltaFactor=r,C.offsetX=z,C.offsetY=Y,C.deltaMode=0,D.unshift(C,k,O,F),e&&clearTimeout(e),e=setTimeout(d,200),(t.event.dispatch||t.event.handle).apply(this,D)}}function d(){r=null}function g(C,A){return c.settings.adjustOldDeltas&&C.type==="mousewheel"&&A%120==0}t.fn.extend({mousewheel:function(C){return C?this.bind("mousewheel",C):this.trigger("mousewheel")},unmousewheel:function(C){return this.unbind("mousewheel",C)}})}})({exports:{}});var H,U=!1,$=!1,X=!1,q=!1,rt=!1,at=!1,yt=!1,dt=!1,Et=!1,mt=!1,Ht=!1,Xt=!1,bt=!1,Bt=!1,Gt=!1,ie=!1;if(typeof navigator=="object"){var St=navigator.userAgent;U=St.indexOf("Macintosh")>=0,$=!!St.match(/(iPad|iPhone|iPod)/g),X=St.indexOf("Windows")>=0,q=St.indexOf("MSIE")>=0,rt=!!St.match(/Trident\/7\./),at=!!St.match(/Edge\//),yt=St.indexOf("Mozilla/")>=0&&St.indexOf("MSIE")<0&&St.indexOf("Edge/")<0,Et=St.indexOf("Chrome/")>=0&&St.indexOf("Edge/")<0,mt=St.indexOf("Opera/")>=0||St.indexOf("OPR/")>=0,Ht=St.indexOf("Firefox/")>=0,Xt=St.indexOf("AppleWebKit/")>=0&&St.indexOf("Chrome/")<0&&St.indexOf("Edge/")<0,typeof document=="object"&&(ie=!document.createElementNS||""+document.createElementNS("http://www.w3.org/2000/svg","foreignObject")!="[object SVGForeignObjectElement]"||St.indexOf("Opera/")>=0)}if(typeof window=="object"&&(dt=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,Bt=window.PointerEvent!=null&&!U),typeof document=="object"){bt="ontouchstart"in document.documentElement;try{var Ft=Object.defineProperty({},"passive",{get:function(){Gt=!0}}),ne=document.createElement("div");ne.addEventListener&&ne.addEventListener("click",function(){},Ft)}catch{}}if(l.Platform=void 0,(H=l.Platform||(l.Platform={})).IS_MAC=U,H.IS_IOS=$,H.IS_WINDOWS=X,H.IS_IE=q,H.IS_IE11=rt,H.IS_EDGE=at,H.IS_NETSCAPE=yt,H.IS_CHROME_APP=dt,H.IS_CHROME=Et,H.IS_OPERA=mt,H.IS_FIREFOX=Ht,H.IS_SAFARI=Xt,H.SUPPORT_TOUCH=bt,H.SUPPORT_POINTER=Bt,H.SUPPORT_PASSIVE=Gt,H.NO_FOREIGNOBJECT=ie,H.SUPPORT_FOREIGNOBJECT=!H.NO_FOREIGNOBJECT,function(i){function n(){var e=window.module;return e!=null&&e.hot!=null&&e.hot.status!=null?e.hot.status():"unkonwn"}i.getHMRStatus=n,i.isApplyingHMR=function(){return n()==="apply"};var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};i.isEventSupported=function(e){var r=document.createElement(t[e]||"div"),o="on"+e,a=o in r;return a||(r.setAttribute(o,"return;"),a=typeof r[o]=="function"),a}}(l.Platform||(l.Platform={})),l.Platform.SUPPORT_PASSIVE){I.event.special.touchstart={setup:function(i,n,t){if(!this.addEventListener)return!1;this.addEventListener("touchstart",t,{passive:!0})}};var jt=I.event.special.mousewheel;if(jt){var Qt=jt.setup;jt.setup=function(){var i=this,n=this.addEventListener;if(!n)return!1;this.addEventListener=function(t,e){n.call(i,t,e,{passive:!0})},Qt.call(this),this.addEventListener=n}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(i){Object.prototype.hasOwnProperty.call(i,"append")||Object.defineProperty(i,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=document.createDocumentFragment();n.forEach(function(r){var o=r instanceof Node;e.appendChild(o?r:document.createTextNode(String(r)))}),this.appendChild(e)}})});var xe=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,Xe=typeof self=="object"&&self&&self.Object===Object&&self,Oe=xe||Xe||Function("return this")(),we=Oe.Symbol,tn=Object.prototype,vn=tn.hasOwnProperty,Cn=tn.toString,Ye=we?we.toStringTag:void 0,Ke=Object.prototype.toString,Je=we?we.toStringTag:void 0;function Ze(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Je&&Je in Object(i)?function(n){var t=vn.call(n,Ye),e=n[Ye];try{n[Ye]=void 0;var r=!0}catch{}var o=Cn.call(n);return r&&(t?n[Ye]=e:delete n[Ye]),o}(i):function(n){return Ke.call(n)}(i)}function Ne(i){return i!=null&&typeof i=="object"}function xn(i){return typeof i=="symbol"||Ne(i)&&Ze(i)=="[object Symbol]"}function or(i,n){for(var t=-1,e=i==null?0:i.length,r=Array(e);++t<e;)r[t]=n(i[t],t,i);return r}var Be=Array.isArray,wn=we?we.prototype:void 0,En=wn?wn.toString:void 0;function Kn(i){if(typeof i=="string")return i;if(Be(i))return or(i,Kn)+"";if(xn(i))return En?En.call(i):"";var n=i+"";return n=="0"&&1/i==-1/0?"-0":n}var Mr=/\s/,Tr=/^\s+/;function ji(i){return i&&i.slice(0,function(n){for(var t=n.length;t--&&Mr.test(n.charAt(t)););return t}(i)+1).replace(Tr,"")}function ze(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}var vr=/^[-+]0x[0-9a-f]+$/i,to=/^0b[01]+$/i,Fo=/^0o[0-7]+$/i,ei=parseInt;function ir(i){if(typeof i=="number")return i;if(xn(i))return NaN;if(ze(i)){var n=typeof i.valueOf=="function"?i.valueOf():i;i=ze(n)?n+"":n}if(typeof i!="string")return i===0?i:+i;i=ji(i);var t=to.test(i);return t||Fo.test(i)?ei(i.slice(2),t?2:8):vr.test(i)?NaN:+i}var ni=1/0;function eo(i){return i?(i=ir(i))===ni||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:i===0?i:0}function Wn(i){var n=eo(i),t=n%1;return n==n?t?n-t:n:0}function yr(i){return i}function ot(i){if(!ze(i))return!1;var n=Ze(i);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"}var it,ht=Oe["__core-js_shared__"],Mt=(it=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||""))?"Symbol(src)_1."+it:"",Ut=Function.prototype.toString;function Jt(i){if(i!=null){try{return Ut.call(i)}catch{}try{return i+""}catch{}}return""}var he=/^\[object .+?Constructor\]$/,Ae=Function.prototype,sn=Object.prototype,re=Ae.toString,Yt=sn.hasOwnProperty,_t=RegExp("^"+re.call(Yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function me(i){return!(!ze(i)||(n=i,Mt&&Mt in n))&&(ot(i)?_t:he).test(Jt(i));var n}function ge(i,n){var t=function(e,r){return e==null?void 0:e[r]}(i,n);return me(t)?t:void 0}var zn=ge(Oe,"WeakMap"),Bi=Object.create,ic=function(){function i(){}return function(n){if(!ze(n))return{};if(Bi)return Bi(n);i.prototype=n;var t=new i;return i.prototype=void 0,t}}();function Ro(i,n,t){switch(t.length){case 0:return i.call(n);case 1:return i.call(n,t[0]);case 2:return i.call(n,t[0],t[1]);case 3:return i.call(n,t[0],t[1],t[2])}return i.apply(n,t)}function rd(){}function od(i,n){var t=-1,e=i.length;for(n||(n=Array(e));++t<e;)n[t]=i[t];return n}var xm=Date.now,id,ac,sc,Xs=function(){try{var i=ge(Object,"defineProperty");return i({},"",{}),i}catch{}}(),ad=(id=Xs?function(i,n){return Xs(i,"toString",{configurable:!0,enumerable:!1,value:(t=n,function(){return t}),writable:!0});var t}:yr,ac=0,sc=0,function(){var i=xm(),n=16-(i-sc);if(sc=i,n>0){if(++ac>=800)return arguments[0]}else ac=0;return id.apply(void 0,arguments)});function wm(i){return i!=i}function sd(i,n){return!!(i!=null&&i.length)&&function(t,e,r){return e==e?function(o,a,s){for(var u=s-1,c=o.length;++u<c;)if(o[u]===a)return u;return-1}(t,e,r):function(o,a,s,u){for(var c=o.length,h=s+(u?1:-1);u?h--:++h<c;)if(a(o[h],h,o))return h;return-1}(t,wm,r)}(i,n,0)>-1}var Em=/^(?:0|[1-9]\d*)$/;function Ys(i,n){var t=typeof i;return!!(n=n==null?9007199254740991:n)&&(t=="number"||t!="symbol"&&Em.test(i))&&i>-1&&i%1==0&&i<n}function Ks(i,n,t){n=="__proto__"&&Xs?Xs(i,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[n]=t}function ri(i,n){return i===n||i!=i&&n!=n}var Sm=Object.prototype.hasOwnProperty;function lc(i,n,t){var e=i[n];Sm.call(i,n)&&ri(e,t)&&(t!==void 0||n in i)||Ks(i,n,t)}function oi(i,n,t,e){var r=!t;t||(t={});for(var o=-1,a=n.length;++o<a;){var s=n[o],u=e?e(t[s],i[s],s,t,i):void 0;u===void 0&&(u=i[s]),r?Ks(t,s,u):lc(t,s,u)}return t}var ld=Math.max;function ud(i,n,t){return n=ld(n===void 0?i.length-1:n,0),function(){for(var e=arguments,r=-1,o=ld(e.length-n,0),a=Array(o);++r<o;)a[r]=e[n+r];r=-1;for(var s=Array(n+1);++r<n;)s[r]=e[r];return s[n]=t(a),Ro(i,this,s)}}function Io(i,n){return ad(ud(i,n,yr),i+"")}function uc(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991}function fo(i){return i!=null&&uc(i.length)&&!ot(i)}function ii(i,n,t){if(!ze(t))return!1;var e=typeof n;return!!(e=="number"?fo(t)&&Ys(n,t.length):e=="string"&&n in t)&&ri(t[n],i)}function Js(i){return Io(function(n,t){var e=-1,r=t.length,o=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(o=i.length>3&&typeof o=="function"?(r--,o):void 0,a&&ii(t[0],t[1],a)&&(o=r<3?void 0:o,r=1),n=Object(n);++e<r;){var s=t[e];s&&i(n,s,e,o)}return n})}var Pm=Object.prototype;function Zs(i){var n=i&&i.constructor;return i===(typeof n=="function"&&n.prototype||Pm)}function cd(i){return Ne(i)&&Ze(i)=="[object Arguments]"}var hd=Object.prototype,Am=hd.hasOwnProperty,Mm=hd.propertyIsEnumerable,zi=cd(function(){return arguments}())?cd:function(i){return Ne(i)&&Am.call(i,"callee")&&!Mm.call(i,"callee")},pd=typeof l=="object"&&l&&!l.nodeType&&l,dd=pd&&!0&&v&&!v.nodeType&&v,fd=dd&&dd.exports===pd?Oe.Buffer:void 0,Vi=(fd?fd.isBuffer:void 0)||function(){return!1},en={};function Gi(i){return function(n){return i(n)}}en["[object Float32Array]"]=en["[object Float64Array]"]=en["[object Int8Array]"]=en["[object Int16Array]"]=en["[object Int32Array]"]=en["[object Uint8Array]"]=en["[object Uint8ClampedArray]"]=en["[object Uint16Array]"]=en["[object Uint32Array]"]=!0,en["[object Arguments]"]=en["[object Array]"]=en["[object ArrayBuffer]"]=en["[object Boolean]"]=en["[object DataView]"]=en["[object Date]"]=en["[object Error]"]=en["[object Function]"]=en["[object Map]"]=en["[object Number]"]=en["[object Object]"]=en["[object RegExp]"]=en["[object Set]"]=en["[object String]"]=en["[object WeakMap]"]=!1;var gd=typeof l=="object"&&l&&!l.nodeType&&l,Na=gd&&!0&&v&&!v.nodeType&&v,cc=Na&&Na.exports===gd&&xe.process,jo=function(){try{var i=Na&&Na.require&&Na.require("util").types;return i||cc&&cc.binding&&cc.binding("util")}catch{}}(),vd=jo&&jo.isTypedArray,qs=vd?Gi(vd):function(i){return Ne(i)&&uc(i.length)&&!!en[Ze(i)]},Tm=Object.prototype.hasOwnProperty;function yd(i,n){var t=Be(i),e=!t&&zi(i),r=!t&&!e&&Vi(i),o=!t&&!e&&!r&&qs(i),a=t||e||r||o,s=a?function(h,d){for(var g=-1,C=Array(h);++g<h;)C[g]=d(g);return C}(i.length,String):[],u=s.length;for(var c in i)!n&&!Tm.call(i,c)||a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ys(c,u))||s.push(c);return s}function md(i,n){return function(t){return i(n(t))}}var Dm=md(Object.keys,Object),Om=Object.prototype.hasOwnProperty;function bd(i){if(!Zs(i))return Dm(i);var n=[];for(var t in Object(i))Om.call(i,t)&&t!="constructor"&&n.push(t);return n}function Hi(i){return fo(i)?yd(i):bd(i)}var Nm=Object.prototype.hasOwnProperty;function km(i){if(!ze(i))return function(r){var o=[];if(r!=null)for(var a in Object(r))o.push(a);return o}(i);var n=Zs(i),t=[];for(var e in i)(e!="constructor"||!n&&Nm.call(i,e))&&t.push(e);return t}function go(i){return fo(i)?yd(i,!0):km(i)}var Lm=Js(function(i,n){oi(n,go(n),i)}),Cd=Js(function(i,n,t,e){oi(n,go(n),i,e)}),Fm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rm=/^\w*$/;function hc(i,n){if(Be(i))return!1;var t=typeof i;return!(t!="number"&&t!="symbol"&&t!="boolean"&&i!=null&&!xn(i))||Rm.test(i)||!Fm.test(i)||n!=null&&i in Object(n)}var ka=ge(Object,"create"),Im=Object.prototype.hasOwnProperty,jm=Object.prototype.hasOwnProperty;function ai(i){var n=-1,t=i==null?0:i.length;for(this.clear();++n<t;){var e=i[n];this.set(e[0],e[1])}}function Qs(i,n){for(var t=i.length;t--;)if(ri(i[t][0],n))return t;return-1}ai.prototype.clear=function(){this.__data__=ka?ka(null):{},this.size=0},ai.prototype.delete=function(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n},ai.prototype.get=function(i){var n=this.__data__;if(ka){var t=n[i];return t==="__lodash_hash_undefined__"?void 0:t}return Im.call(n,i)?n[i]:void 0},ai.prototype.has=function(i){var n=this.__data__;return ka?n[i]!==void 0:jm.call(n,i)},ai.prototype.set=function(i,n){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=ka&&n===void 0?"__lodash_hash_undefined__":n,this};var Bm=Array.prototype.splice;function vo(i){var n=-1,t=i==null?0:i.length;for(this.clear();++n<t;){var e=i[n];this.set(e[0],e[1])}}vo.prototype.clear=function(){this.__data__=[],this.size=0},vo.prototype.delete=function(i){var n=this.__data__,t=Qs(n,i);return!(t<0)&&(t==n.length-1?n.pop():Bm.call(n,t,1),--this.size,!0)},vo.prototype.get=function(i){var n=this.__data__,t=Qs(n,i);return t<0?void 0:n[t][1]},vo.prototype.has=function(i){return Qs(this.__data__,i)>-1},vo.prototype.set=function(i,n){var t=this.__data__,e=Qs(t,i);return e<0?(++this.size,t.push([i,n])):t[e][1]=n,this};var La=ge(Oe,"Map");function _s(i,n){var t,e,r=i.__data__;return((e=typeof(t=n))=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null)?r[typeof n=="string"?"string":"hash"]:r.map}function yo(i){var n=-1,t=i==null?0:i.length;for(this.clear();++n<t;){var e=i[n];this.set(e[0],e[1])}}yo.prototype.clear=function(){this.size=0,this.__data__={hash:new ai,map:new(La||vo),string:new ai}},yo.prototype.delete=function(i){var n=_s(this,i).delete(i);return this.size-=n?1:0,n},yo.prototype.get=function(i){return _s(this,i).get(i)},yo.prototype.has=function(i){return _s(this,i).has(i)},yo.prototype.set=function(i,n){var t=_s(this,i),e=t.size;return t.set(i,n),this.size+=t.size==e?0:1,this};function pc(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var t=function(){var e=arguments,r=n?n.apply(this,e):e[0],o=t.cache;if(o.has(r))return o.get(r);var a=i.apply(this,e);return t.cache=o.set(r,a)||o,a};return t.cache=new(pc.Cache||yo),t}pc.Cache=yo;var zm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vm=/\\(\\)?/g,Gm=function(i){var n=pc(i,function(e){return t.size===500&&t.clear(),e}),t=n.cache;return n}(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(zm,function(t,e,r,o){n.push(r?o.replace(Vm,"$1"):e||t)}),n});function Sn(i){return i==null?"":Kn(i)}function tl(i,n){return Be(i)?i:hc(i,n)?[i]:Gm(Sn(i))}function Fa(i){if(typeof i=="string"||xn(i))return i;var n=i+"";return n=="0"&&1/i==-1/0?"-0":n}function el(i,n){for(var t=0,e=(n=tl(n,i)).length;i!=null&&t<e;)i=i[Fa(n[t++])];return t&&t==e?i:void 0}function dc(i,n){for(var t=-1,e=n.length,r=i.length;++t<e;)i[r+t]=n[t];return i}var xd=we?we.isConcatSpreadable:void 0;function Hm(i){return Be(i)||zi(i)||!!(xd&&i&&i[xd])}function Ra(i,n,t,e,r){var o=-1,a=i.length;for(t||(t=Hm),r||(r=[]);++o<a;){var s=i[o];n>0&&t(s)?n>1?Ra(s,n-1,t,e,r):dc(r,s):e||(r[r.length]=s)}return r}function Um(i){return i!=null&&i.length?Ra(i,1):[]}var fc=md(Object.getPrototypeOf,Object),$m=Function.prototype,Wm=Object.prototype,wd=$m.toString,Xm=Wm.hasOwnProperty,Ym=wd.call(Object);function ar(i){if(!Ne(i)||Ze(i)!="[object Object]")return!1;var n=fc(i);if(n===null)return!0;var t=Xm.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&wd.call(t)==Ym}function Ed(i){if(!Ne(i))return!1;var n=Ze(i);return n=="[object Error]"||n=="[object DOMException]"||typeof i.message=="string"&&typeof i.name=="string"&&!ar(i)}var Km=Io(function(i,n){try{return Ro(i,void 0,n)}catch(t){return Ed(t)?t:new Error(t)}});function nl(i,n,t){var e=i.length;return t=t===void 0?e:t,!n&&t>=e?i:function(r,o,a){var s=-1,u=r.length;o<0&&(o=-o>u?0:u+o),(a=a>u?u:a)<0&&(a+=u),u=o>a?0:a-o>>>0,o>>>=0;for(var c=Array(u);++s<u;)c[s]=r[s+o];return c}(i,n,t)}var Jm=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Ui(i){return Jm.test(i)}var Zm="[\\ud800-\\udfff]",gc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",vc="\\ud83c[\\udffb-\\udfff]",Sd="[^\\ud800-\\udfff]",Pd="(?:\\ud83c[\\udde6-\\uddff]){2}",Ad="[\\ud800-\\udbff][\\udc00-\\udfff]",Md="(?:"+gc+"|"+vc+")?",Td="[\\ufe0e\\ufe0f]?",qm=Td+Md+("(?:\\u200d(?:"+[Sd,Pd,Ad].join("|")+")"+Td+Md+")*"),Qm="(?:"+[Sd+gc+"?",gc,Pd,Ad,Zm].join("|")+")",_m=RegExp(vc+"(?="+vc+")|"+Qm+qm,"g");function rl(i){return Ui(i)?function(n){return n.match(_m)||[]}(i):function(n){return n.split("")}(i)}function Dd(i){return function(n){var t=Ui(n=Sn(n))?rl(n):void 0,e=t?t[0]:n.charAt(0),r=t?nl(t,1).join(""):n.slice(1);return e[i]()+r}}var $i=Dd("toUpperCase");function yc(i){return function(n){return i==null?void 0:i[n]}}var t2=yc({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),e2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,n2=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),r2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,o2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,i2="\\u2700-\\u27bf",Od="a-z\\xdf-\\xf6\\xf8-\\xff",Nd="A-Z\\xc0-\\xd6\\xd8-\\xde",kd="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ld="["+kd+"]",Fd="\\d+",a2="[\\u2700-\\u27bf]",Rd="["+Od+"]",Id="[^\\ud800-\\udfff"+kd+Fd+i2+Od+Nd+"]",jd="(?:\\ud83c[\\udde6-\\uddff]){2}",Bd="[\\ud800-\\udbff][\\udc00-\\udfff]",Wi="["+Nd+"]",zd="(?:"+Rd+"|"+Id+")",s2="(?:"+Wi+"|"+Id+")",Vd="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Gd="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Hd="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ud="[\\ufe0e\\ufe0f]?",l2=Ud+Hd+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",jd,Bd].join("|")+")"+Ud+Hd+")*"),u2="(?:"+[a2,jd,Bd].join("|")+")"+l2,c2=RegExp([Wi+"?"+Rd+"+"+Vd+"(?="+[Ld,Wi,"$"].join("|")+")",s2+"+"+Gd+"(?="+[Ld,Wi+zd,"$"].join("|")+")",Wi+"?"+zd+"+"+Vd,Wi+"+"+Gd,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fd,u2].join("|"),"g");function h2(i,n,t){return i=Sn(i),(n=t?void 0:n)===void 0?function(e){return o2.test(e)}(i)?function(e){return e.match(c2)||[]}(i):function(e){return e.match(r2)||[]}(i):i.match(n)||[]}var p2=RegExp("['\u2019]","g");function ol(i){return function(n){return function(t,e,r,o){var a=-1,s=t==null?0:t.length;for(o&&s&&(r=t[++a]);++a<s;)r=e(r,t[a],a,t);return r}(h2(function(t){return(t=Sn(t))&&t.replace(e2,t2).replace(n2,"")}(n).replace(p2,"")),i,"")}}var Ia=ol(function(i,n,t){return n=n.toLowerCase(),i+(t?function(e){return $i(Sn(e).toLowerCase())}(n):n)});function il(i,n,t){return i==i&&(t!==void 0&&(i=i<=t?i:t),n!==void 0&&(i=i>=n?i:n)),i}function Jn(i,n,t){return t===void 0&&(t=n,n=void 0),t!==void 0&&(t=(t=ir(t))==t?t:0),n!==void 0&&(n=(n=ir(n))==n?n:0),il(ir(i),n,t)}function zr(i){var n=this.__data__=new vo(i);this.size=n.size}zr.prototype.clear=function(){this.__data__=new vo,this.size=0},zr.prototype.delete=function(i){var n=this.__data__,t=n.delete(i);return this.size=n.size,t},zr.prototype.get=function(i){return this.__data__.get(i)},zr.prototype.has=function(i){return this.__data__.has(i)},zr.prototype.set=function(i,n){var t=this.__data__;if(t instanceof vo){var e=t.__data__;if(!La||e.length<199)return e.push([i,n]),this.size=++t.size,this;t=this.__data__=new yo(e)}return t.set(i,n),this.size=t.size,this};var $d=typeof l=="object"&&l&&!l.nodeType&&l,Wd=$d&&!0&&v&&!v.nodeType&&v,Xd=Wd&&Wd.exports===$d?Oe.Buffer:void 0,Yd=Xd?Xd.allocUnsafe:void 0;function Kd(i,n){if(n)return i.slice();var t=i.length,e=Yd?Yd(t):new i.constructor(t);return i.copy(e),e}function Jd(){return[]}var d2=Object.prototype.propertyIsEnumerable,Zd=Object.getOwnPropertySymbols,mc=Zd?function(i){return i==null?[]:(i=Object(i),function(n,t){for(var e=-1,r=n==null?0:n.length,o=0,a=[];++e<r;){var s=n[e];t(s,e,n)&&(a[o++]=s)}return a}(Zd(i),function(n){return d2.call(i,n)}))}:Jd,qd=Object.getOwnPropertySymbols?function(i){for(var n=[];i;)dc(n,mc(i)),i=fc(i);return n}:Jd;function Qd(i,n,t){var e=n(i);return Be(i)?e:dc(e,t(i))}function bc(i){return Qd(i,Hi,mc)}function f2(i){return Qd(i,go,qd)}var Cc=ge(Oe,"DataView"),xc=ge(Oe,"Promise"),Xi=ge(Oe,"Set"),_d="[object Map]",tf="[object Promise]",ef="[object Set]",nf="[object WeakMap]",rf="[object DataView]",g2=Jt(Cc),v2=Jt(La),y2=Jt(xc),m2=Jt(Xi),b2=Jt(zn),si=Ze;(Cc&&si(new Cc(new ArrayBuffer(1)))!=rf||La&&si(new La)!=_d||xc&&si(xc.resolve())!=tf||Xi&&si(new Xi)!=ef||zn&&si(new zn)!=nf)&&(si=function(i){var n=Ze(i),t=n=="[object Object]"?i.constructor:void 0,e=t?Jt(t):"";if(e)switch(e){case g2:return rf;case v2:return _d;case y2:return tf;case m2:return ef;case b2:return nf}return n});var Yi=si,C2=Object.prototype.hasOwnProperty,al=Oe.Uint8Array;function wc(i){var n=new i.constructor(i.byteLength);return new al(n).set(new al(i)),n}var x2=/\w*$/,of=we?we.prototype:void 0,af=of?of.valueOf:void 0;function sf(i,n){var t=n?wc(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}function w2(i,n,t){var e,r,o,a=i.constructor;switch(n){case"[object ArrayBuffer]":return wc(i);case"[object Boolean]":case"[object Date]":return new a(+i);case"[object DataView]":return function(s,u){var c=u?wc(s.buffer):s.buffer;return new s.constructor(c,s.byteOffset,s.byteLength)}(i,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sf(i,t);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(i);case"[object RegExp]":return(o=new(r=i).constructor(r.source,x2.exec(r))).lastIndex=r.lastIndex,o;case"[object Set]":return new a;case"[object Symbol]":return e=i,af?Object(af.call(e)):{}}}function lf(i){return typeof i.constructor!="function"||Zs(i)?{}:ic(fc(i))}var uf=jo&&jo.isMap,E2=uf?Gi(uf):function(i){return Ne(i)&&Yi(i)=="[object Map]"},cf=jo&&jo.isSet,S2=cf?Gi(cf):function(i){return Ne(i)&&Yi(i)=="[object Set]"},hf="[object Arguments]",pf="[object Function]",df="[object Object]",qe={};function ja(i,n,t,e,r,o){var a,s=1&n,u=2&n,c=4&n;if(t&&(a=r?t(i,e,r,o):t(i)),a!==void 0)return a;if(!ze(i))return i;var h=Be(i);if(h){if(a=function(D){var k=D.length,O=new D.constructor(k);return k&&typeof D[0]=="string"&&C2.call(D,"index")&&(O.index=D.index,O.input=D.input),O}(i),!s)return od(i,a)}else{var d=Yi(i),g=d==pf||d=="[object GeneratorFunction]";if(Vi(i))return Kd(i,s);if(d==df||d==hf||g&&!r){if(a=u||g?{}:lf(i),!s)return u?function(D,k){return oi(D,qd(D),k)}(i,function(D,k){return D&&oi(k,go(k),D)}(a,i)):function(D,k){return oi(D,mc(D),k)}(i,function(D,k){return D&&oi(k,Hi(k),D)}(a,i))}else{if(!qe[d])return r?i:{};a=w2(i,d,s)}}o||(o=new zr);var C=o.get(i);if(C)return C;o.set(i,a),S2(i)?i.forEach(function(D){a.add(ja(D,n,t,D,i,o))}):E2(i)&&i.forEach(function(D,k){a.set(k,ja(D,n,t,k,i,o))});var A=h?void 0:(c?u?f2:bc:u?go:Hi)(i);return function(D,k){for(var O=-1,F=D==null?0:D.length;++O<F&&k(D[O],O,D)!==!1;);}(A||i,function(D,k){A&&(D=i[k=D]),lc(a,k,ja(D,n,t,k,i,o))}),a}qe[hf]=qe["[object Array]"]=qe["[object ArrayBuffer]"]=qe["[object DataView]"]=qe["[object Boolean]"]=qe["[object Date]"]=qe["[object Float32Array]"]=qe["[object Float64Array]"]=qe["[object Int8Array]"]=qe["[object Int16Array]"]=qe["[object Int32Array]"]=qe["[object Map]"]=qe["[object Number]"]=qe[df]=qe["[object RegExp]"]=qe["[object Set]"]=qe["[object String]"]=qe["[object Symbol]"]=qe["[object Uint8Array]"]=qe["[object Uint8ClampedArray]"]=qe["[object Uint16Array]"]=qe["[object Uint32Array]"]=!0,qe["[object Error]"]=qe[pf]=qe["[object WeakMap]"]=!1;function Ki(i){return ja(i,4)}function nn(i){return ja(i,5)}function Ji(i){var n=-1,t=i==null?0:i.length;for(this.__data__=new yo;++n<t;)this.add(i[n])}function P2(i,n){for(var t=-1,e=i==null?0:i.length;++t<e;)if(n(i[t],t,i))return!0;return!1}function Ec(i,n){return i.has(n)}Ji.prototype.add=Ji.prototype.push=function(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this},Ji.prototype.has=function(i){return this.__data__.has(i)};function ff(i,n,t,e,r,o){var a=1&t,s=i.length,u=n.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(i),h=o.get(n);if(c&&h)return c==n&&h==i;var d=-1,g=!0,C=2&t?new Ji:void 0;for(o.set(i,n),o.set(n,i);++d<s;){var A=i[d],D=n[d];if(e)var k=a?e(D,A,d,n,i,o):e(A,D,d,i,n,o);if(k!==void 0){if(k)continue;g=!1;break}if(C){if(!P2(n,function(O,F){if(!Ec(C,F)&&(A===O||r(A,O,t,e,o)))return C.push(F)})){g=!1;break}}else if(A!==D&&!r(A,D,t,e,o)){g=!1;break}}return o.delete(i),o.delete(n),g}function A2(i){var n=-1,t=Array(i.size);return i.forEach(function(e,r){t[++n]=[r,e]}),t}function Sc(i){var n=-1,t=Array(i.size);return i.forEach(function(e){t[++n]=e}),t}var gf=we?we.prototype:void 0,Pc=gf?gf.valueOf:void 0,M2=Object.prototype.hasOwnProperty,vf="[object Arguments]",yf="[object Array]",sl="[object Object]",mf=Object.prototype.hasOwnProperty;function T2(i,n,t,e,r,o){var a=Be(i),s=Be(n),u=a?yf:Yi(i),c=s?yf:Yi(n),h=(u=u==vf?sl:u)==sl,d=(c=c==vf?sl:c)==sl,g=u==c;if(g&&Vi(i)){if(!Vi(n))return!1;a=!0,h=!1}if(g&&!h)return o||(o=new zr),a||qs(i)?ff(i,n,t,e,r,o):function(O,F,B,z,Y,w,Q){switch(B){case"[object DataView]":if(O.byteLength!=F.byteLength||O.byteOffset!=F.byteOffset)return!1;O=O.buffer,F=F.buffer;case"[object ArrayBuffer]":return!(O.byteLength!=F.byteLength||!w(new al(O),new al(F)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ri(+O,+F);case"[object Error]":return O.name==F.name&&O.message==F.message;case"[object RegExp]":case"[object String]":return O==F+"";case"[object Map]":var J=A2;case"[object Set]":var nt=1&z;if(J||(J=Sc),O.size!=F.size&&!nt)return!1;var lt=Q.get(O);if(lt)return lt==F;z|=2,Q.set(O,F);var ut=ff(J(O),J(F),z,Y,w,Q);return Q.delete(O),ut;case"[object Symbol]":if(Pc)return Pc.call(O)==Pc.call(F)}return!1}(i,n,u,t,e,r,o);if(!(1&t)){var C=h&&mf.call(i,"__wrapped__"),A=d&&mf.call(n,"__wrapped__");if(C||A){var D=C?i.value():i,k=A?n.value():n;return o||(o=new zr),r(D,k,t,e,o)}}return!!g&&(o||(o=new zr),function(O,F,B,z,Y,w){var Q=1&B,J=bc(O),nt=J.length;if(nt!=bc(F).length&&!Q)return!1;for(var lt=nt;lt--;){var ut=J[lt];if(!(Q?ut in F:M2.call(F,ut)))return!1}var xt=w.get(O),Dt=w.get(F);if(xt&&Dt)return xt==F&&Dt==O;var ft=!0;w.set(O,F),w.set(F,O);for(var At=Q;++lt<nt;){var Ot=O[ut=J[lt]],Pt=F[ut];if(z)var It=Q?z(Pt,Ot,ut,F,O,w):z(Ot,Pt,ut,O,F,w);if(!(It===void 0?Ot===Pt||Y(Ot,Pt,B,z,w):It)){ft=!1;break}At||(At=ut=="constructor")}if(ft&&!At){var Vt=O.constructor,Rt=F.constructor;Vt==Rt||!("constructor"in O)||!("constructor"in F)||typeof Vt=="function"&&Vt instanceof Vt&&typeof Rt=="function"&&Rt instanceof Rt||(ft=!1)}return w.delete(O),w.delete(F),ft}(i,n,t,e,r,o))}function ll(i,n,t,e,r){return i===n||(i==null||n==null||!Ne(i)&&!Ne(n)?i!=i&&n!=n:T2(i,n,t,e,ll,r))}function bf(i){return i==i&&!ze(i)}function Cf(i,n){return function(t){return t!=null&&t[i]===n&&(n!==void 0||i in Object(t))}}function D2(i){var n=function(t){for(var e=Hi(t),r=e.length;r--;){var o=e[r],a=t[o];e[r]=[o,a,bf(a)]}return e}(i);return n.length==1&&n[0][2]?Cf(n[0][0],n[0][1]):function(t){return t===i||function(e,r,o,a){var s=o.length,u=s,c=!a;if(e==null)return!u;for(e=Object(e);s--;){var h=o[s];if(c&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++s<u;){var d=(h=o[s])[0],g=e[d],C=h[1];if(c&&h[2]){if(g===void 0&&!(d in e))return!1}else{var A=new zr;if(a)var D=a(g,C,d,e,r,A);if(!(D===void 0?ll(C,g,3,a,A):D))return!1}}return!0}(t,i,n)}}function O2(i,n){return i!=null&&n in Object(i)}function xf(i,n,t){for(var e=-1,r=(n=tl(n,i)).length,o=!1;++e<r;){var a=Fa(n[e]);if(!(o=i!=null&&t(i,a)))break;i=i[a]}return o||++e!=r?o:!!(r=i==null?0:i.length)&&uc(r)&&Ys(a,r)&&(Be(i)||zi(i))}function wf(i,n){return i!=null&&xf(i,n,O2)}function N2(i,n){return hc(i)&&bf(n)?Cf(Fa(i),n):function(t){var e=function(r,o,a){var s=r==null?void 0:el(r,o);return s===void 0?a:s}(t,i);return e===void 0&&e===n?wf(t,i):ll(n,e,3)}}function Ef(i){return function(n){return n==null?void 0:n[i]}}function k2(i){return hc(i)?Ef(Fa(i)):function(n){return function(t){return el(t,n)}}(i)}function Ac(i){return typeof i=="function"?i:i==null?yr:typeof i=="object"?Be(i)?N2(i[0],i[1]):D2(i):k2(i)}function L2(i,n,t,e){for(var r=-1,o=i==null?0:i.length;++r<o;){var a=i[r];n(e,a,t(a),i)}return e}var Mc=function(i,n,t){for(var e=-1,r=Object(i),o=t(i),a=o.length;a--;){var s=o[++e];if(n(r[s],s,r)===!1)break}return i},Sf=function(i,n){return function(t,e){if(t==null)return t;if(!fo(t))return i(t,e);for(var r=t.length,o=n?r:-1,a=Object(t);(n?o--:++o<r)&&e(a[o],o,a)!==!1;);return t}}(function(i,n){return i&&Mc(i,n,Hi)});function F2(i,n,t,e){return Sf(i,function(r,o,a){n(e,r,t(r),a)}),e}var Tc=function(){return Oe.Date.now()},R2=Math.max,I2=Math.min;function Dc(i,n,t){var e,r,o,a,s,u,c=0,h=!1,d=!1,g=!0;if(typeof i!="function")throw new TypeError("Expected a function");function C(B){var z=e,Y=r;return e=r=void 0,c=B,a=i.apply(Y,z)}function A(B){return c=B,s=setTimeout(k,n),h?C(B):a}function D(B){var z=B-u;return u===void 0||z>=n||z<0||d&&B-c>=o}function k(){var B=Tc();if(D(B))return O(B);s=setTimeout(k,function(z){var Y=n-(z-u);return d?I2(Y,o-(z-c)):Y}(B))}function O(B){return s=void 0,g&&e?C(B):(e=r=void 0,a)}function F(){var B=Tc(),z=D(B);if(e=arguments,r=this,u=B,z){if(s===void 0)return A(u);if(d)return clearTimeout(s),s=setTimeout(k,n),C(u)}return s===void 0&&(s=setTimeout(k,n)),a}return n=ir(n)||0,ze(t)&&(h=!!t.leading,o=(d="maxWait"in t)?R2(ir(t.maxWait)||0,n):o,g="trailing"in t?!!t.trailing:g),F.cancel=function(){s!==void 0&&clearTimeout(s),c=0,e=u=r=s=void 0},F.flush=function(){return s===void 0?a:O(Tc())},F}var Pf=Object.prototype,j2=Pf.hasOwnProperty,Af=Io(function(i,n){i=Object(i);var t=-1,e=n.length,r=e>2?n[2]:void 0;for(r&&ii(n[0],n[1],r)&&(e=1);++t<e;)for(var o=n[t],a=go(o),s=-1,u=a.length;++s<u;){var c=a[s],h=i[c];(h===void 0||ri(h,Pf[c])&&!j2.call(i,c))&&(i[c]=o[c])}return i});function Oc(i,n,t){(t!==void 0&&!ri(i[n],t)||t===void 0&&!(n in i))&&Ks(i,n,t)}function ul(i){return Ne(i)&&fo(i)}function Nc(i,n){if((n!=="constructor"||typeof i[n]!="function")&&n!="__proto__")return i[n]}function B2(i,n,t,e,r,o,a){var s=Nc(i,t),u=Nc(n,t),c=a.get(u);if(c)Oc(i,t,c);else{var h,d=o?o(s,u,t+"",i,n,a):void 0,g=d===void 0;if(g){var C=Be(u),A=!C&&Vi(u),D=!C&&!A&&qs(u);d=u,C||A||D?Be(s)?d=s:ul(s)?d=od(s):A?(g=!1,d=Kd(u,!0)):D?(g=!1,d=sf(u,!0)):d=[]:ar(u)||zi(u)?(d=s,zi(s)?d=oi(h=s,go(h)):ze(s)&&!ot(s)||(d=lf(u))):g=!1}g&&(a.set(u,d),r(d,u,e,o,a),a.delete(u)),Oc(i,t,d)}}function cl(i,n,t,e,r){i!==n&&Mc(n,function(o,a){if(r||(r=new zr),ze(o))B2(i,n,a,t,cl,e,r);else{var s=e?e(Nc(i,a),o,a+"",i,n,r):void 0;s===void 0&&(s=o),Oc(i,a,s)}},go)}function Mf(i,n,t,e,r,o){return ze(i)&&ze(n)&&(o.set(n,i),cl(i,n,void 0,Mf,o),o.delete(n)),i}var z2=Js(function(i,n,t,e){cl(i,n,t,e)}),kc=Io(function(i){return i.push(void 0,Mf),Ro(z2,void 0,i)}),Tf=Io(function(i,n){return function(t,e,r){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(function(){t.apply(void 0,r)},e)}(i,1,n)});function Df(i,n,t){for(var e=-1,r=i==null?0:i.length;++e<r;)if(t(n,i[e]))return!0;return!1}var Of=Io(function(i,n){return ul(i)?function(t,e,r,o){var a=-1,s=sd,u=!0,c=t.length,h=[],d=e.length;if(!c)return h;r&&(e=or(e,Gi(r))),o?(s=Df,u=!1):e.length>=200&&(s=Ec,u=!1,e=new Ji(e));t:for(;++a<c;){var g=t[a],C=r==null?g:r(g);if(g=o||g!==0?g:0,u&&C==C){for(var A=d;A--;)if(e[A]===C)continue t;h.push(g)}else s(e,C,o)||h.push(g)}return h}(i,Ra(n,1,ul,!0)):[]}),V2=yc({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Nf=/[&<>"']/g,G2=RegExp(Nf.source);function kf(i){return(i=Sn(i))&&G2.test(i)?i.replace(Nf,V2):i}var Lf,H2=Object.prototype.hasOwnProperty,Lc=(Lf=function(i,n,t){H2.call(i,t)?i[t].push(n):Ks(i,t,[n])},function(i,n){var t=Be(i)?L2:F2,e={};return t(i,Lf,Ac(n),e)});function U2(i,n){return i>n}var $2=Object.prototype.hasOwnProperty;function W2(i,n){return i!=null&&$2.call(i,n)}function Zi(i,n){return i!=null&&xf(i,n,W2)}var X2=Math.max,Y2=Math.min;function Ff(i){return typeof i=="string"||!Be(i)&&Ne(i)&&Ze(i)=="[object String]"}var K2=Object.prototype.hasOwnProperty;function Fc(i){if(i==null)return!0;if(fo(i)&&(Be(i)||typeof i=="string"||typeof i.splice=="function"||Vi(i)||qs(i)||zi(i)))return!i.length;var n=Yi(i);if(n=="[object Map]"||n=="[object Set]")return!i.size;if(Zs(i))return!bd(i).length;for(var t in i)if(K2.call(i,t))return!1;return!0}function Vr(i,n){return ll(i,n)}var J2=Oe.isFinite;function Rf(i){return typeof i=="number"&&i==Wn(i)}function Ba(i){return typeof i=="number"||Ne(i)&&Ze(i)=="[object Number]"}var If=jo&&jo.isRegExp,jf=If?Gi(If):function(i){return Ne(i)&&Ze(i)=="[object RegExp]"},Z2=9007199254740991,Rc=ol(function(i,n,t){return i+(t?" ":"")+n.toLowerCase()}),Bf=Dd("toLowerCase");function zf(i){return i&&i.length?function(n,t,e){for(var r=-1,o=n.length;++r<o;){var a=n[r],s=t(a);if(s!=null&&(u===void 0?s==s&&!xn(s):e(s,u)))var u=s,c=a}return c}(i,yr,U2):void 0}var Ve=Js(function(i,n,t){cl(i,n,t)});function q2(i,n,t,e){if(!ze(i))return i;for(var r=-1,o=(n=tl(n,i)).length,a=o-1,s=i;s!=null&&++r<o;){var u=Fa(n[r]),c=t;if(u==="__proto__"||u==="constructor"||u==="prototype")return i;if(r!=a){var h=s[u];(c=e?e(h,u,s):void 0)===void 0&&(c=ze(h)?h:Ys(n[r+1])?[]:{})}lc(s,u,c),s=s[u]}return i}function Q2(i,n){if(i!==n){var t=i!==void 0,e=i===null,r=i==i,o=xn(i),a=n!==void 0,s=n===null,u=n==n,c=xn(n);if(!s&&!c&&!o&&i>n||o&&a&&u&&!s&&!c||e&&a&&u||!t&&u||!r)return 1;if(!e&&!o&&!c&&i<n||c&&t&&r&&!e&&!o||s&&t&&r||!a&&r||!u)return-1}return 0}function _2(i,n,t){n=n.length?or(n,function(r){return Be(r)?function(o){return el(o,r.length===1?r[0]:r)}:r}):[yr];var e=-1;return n=or(n,Gi(Ac)),function(r,o){var a=r.length;for(r.sort(o);a--;)r[a]=r[a].value;return r}(function(r,o){var a=-1,s=fo(r)?Array(r.length):[];return Sf(r,function(u,c,h){s[++a]=o(u,c,h)}),s}(i,function(r,o,a){return{criteria:or(n,function(s){return s(r)}),index:++e,value:r}}),function(r,o){return function(a,s,u){for(var c=-1,h=a.criteria,d=s.criteria,g=h.length,C=u.length;++c<g;){var A=Q2(h[c],d[c]);if(A)return c>=C?A:A*(u[c]=="desc"?-1:1)}return a.index-s.index}(r,o,t)})}var tb=Math.floor;function Ic(i,n){var t="";if(!i||n<1||n>9007199254740991)return t;do n%2&&(t+=i),(n=tb(n/2))&&(i+=i);while(n);return t}var eb=Ef("length"),nb="[\\ud800-\\udfff]",jc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Bc="\\ud83c[\\udffb-\\udfff]",Vf="[^\\ud800-\\udfff]",Gf="(?:\\ud83c[\\udde6-\\uddff]){2}",Hf="[\\ud800-\\udbff][\\udc00-\\udfff]",Uf="(?:"+jc+"|"+Bc+")?",$f="[\\ufe0e\\ufe0f]?",rb=$f+Uf+("(?:\\u200d(?:"+[Vf,Gf,Hf].join("|")+")"+$f+Uf+")*"),ob="(?:"+[Vf+jc+"?",jc,Gf,Hf,nb].join("|")+")",Wf=RegExp(Bc+"(?="+Bc+")|"+ob+rb,"g");function za(i){return Ui(i)?function(n){for(var t=Wf.lastIndex=0;Wf.test(n);)++t;return t}(i):eb(i)}var ib=Math.ceil;function hl(i,n){var t=(n=n===void 0?" ":Kn(n)).length;if(t<2)return t?Ic(n,i):n;var e=Ic(n,ib(i/za(n)));return Ui(n)?nl(rl(e),0,i).join(""):e.slice(0,i)}var ab=Math.ceil,sb=Math.floor,lb=/^\s+/,ub=Oe.parseInt;function cb(i,n){return function(t,e,r){for(var o=-1,a=e.length,s={};++o<a;){var u=e[o],c=el(t,u);r(c,u)&&q2(s,tl(u,t),c)}return s}(i,n,function(t,e){return wf(i,e)})}var zc=function(i){return ad(ud(i,void 0,Um),i+"")}(function(i,n){return i==null?{}:cb(i,n)}),pl=Io(function(i,n){if(i==null)return[];var t=n.length;return t>1&&ii(i,n[0],n[1])?n=[]:t>2&&ii(n[0],n[1],n[2])&&(n=[n[0]]),_2(i,Ra(n,1),[])}),hb=Math.floor,pb=Math.min;function Xf(i,n,t,e){var r=0,o=i==null?0:i.length;if(o===0)return 0;for(var a=(n=t(n))!=n,s=n===null,u=xn(n),c=n===void 0;r<o;){var h=hb((r+o)/2),d=t(i[h]),g=d!==void 0,C=d===null,A=d==d,D=xn(d);if(a)var k=e||A;else k=c?A&&(e||g):s?A&&g&&(e||!C):u?A&&g&&!C&&(e||!D):!C&&!D&&(e?d<=n:d<n);k?r=h+1:o=h}return pb(o,4294967294)}function Yf(i,n){return function(t,e,r){var o=0,a=t==null?o:t.length;if(typeof e=="number"&&e==e&&a<=2147483647){for(;o<a;){var s=o+a>>>1,u=t[s];u!==null&&!xn(u)&&(r?u<=e:u<e)?o=s+1:a=s}return a}return Xf(t,e,yr,r)}(i,n)}function Kf(i,n,t){return Xf(i,n,Ac(t))}var Jf=ol(function(i,n,t){return i+(t?" ":"")+$i(n)}),Zf=Object.prototype,db=Zf.hasOwnProperty;function qf(i,n,t,e){return i===void 0||ri(i,Zf[t])&&!db.call(e,t)?n:i}var fb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function gb(i){return"\\"+fb[i]}var Qf=/<%=([\s\S]+?)%>/g,_f={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Qf,variable:"",imports:{_:{escape:kf}}},vb=/\b__p \+= '';/g,yb=/\b(__p \+=) '' \+/g,mb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bb=/[()=,{}\[\]\/\s]/,Cb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dl=/($^)/,xb=/['\n\r\u2028\u2029\\]/g,tg=Object.prototype.hasOwnProperty;function li(i,n,t){var e=_f.imports._.templateSettings||_f;t&&ii(i,n,t)&&(n=void 0),i=Sn(i),n=Cd({},n,e,qf);var r,o,a=Cd({},n.imports,e.imports,qf),s=Hi(a),u=function(k,O){return or(O,function(F){return k[F]})}(a,s),c=0,h=n.interpolate||dl,d="__p += '",g=RegExp((n.escape||dl).source+"|"+h.source+"|"+(h===Qf?Cb:dl).source+"|"+(n.evaluate||dl).source+"|$","g"),C=tg.call(n,"sourceURL")?"//# sourceURL="+(n.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(g,function(k,O,F,B,z,Y){return F||(F=B),d+=i.slice(c,Y).replace(xb,gb),O&&(r=!0,d+=`' +
__e(`+O+`) +
'`),z&&(o=!0,d+=`';
`+z+`;
__p += '`),F&&(d+=`' +
((__t = (`+F+`)) == null ? '' : __t) +
'`),c=Y+k.length,k}),d+=`';
`;var A=tg.call(n,"variable")&&n.variable;if(A){if(bb.test(A))throw new Error("Invalid `variable` option passed into `_.template`")}else d=`with (obj) {
`+d+`
}
`;d=(o?d.replace(vb,""):d).replace(yb,"$1").replace(mb,"$1;"),d="function("+(A||"obj")+`) {
`+(A?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var D=Km(function(){return Function(s,C+"return "+d).apply(void 0,u)});if(D.source=d,Ed(D))throw D;return D}var wb=9007199254740991,Eb=/\w*$/,Sb=yc({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),eg=/&(?:amp|lt|gt|quot|#39);/g,Pb=RegExp(eg.source),Ab=Xi&&1/Sc(new Xi([,-0]))[1]==1/0?function(i){return new Xi(i)}:rd;function ng(i,n,t){var e=-1,r=sd,o=i.length,a=!0,s=[],u=s;if(t)a=!1,r=Df;else if(o>=200){var c=n?null:Ab(i);if(c)return Sc(c);a=!1,r=Ec,u=new Ji}else u=n?[]:s;t:for(;++e<o;){var h=i[e],d=n?n(h):h;if(h=t||h!==0?h:0,a&&d==d){for(var g=u.length;g--;)if(u[g]===d)continue t;n&&u.push(d),s.push(h)}else r(u,d,t)||(u!==s&&u.push(d),s.push(h))}return s}var Vc=Io(function(i){return ng(Ra(i,1,ul,!0))});function Gc(i){return i&&i.length?ng(i):[]}var Mb=0;function rg(i){var n=++Mb;return Sn(i)+n}var Tb=ol(function(i,n,t){return i+(t?" ":"")+n.toUpperCase()}),Hc=function(i){return!Array.isArray(i)&&i-parseFloat(i)+1>=0},Db=Object.freeze({__proto__:null,isWindow:function(i){return i&&i===i.window},isNumeric:Hc,isNull:function(i){return i===null},isNil:function(i){return i==null},isUndefined:function(i){return i===void 0},isString:Ff,isNumber:Ba,isBoolean:function(i){return i===!0||i===!1||Ne(i)&&Ze(i)=="[object Boolean]"},isObject:ze,isArray:Be,isArrayLike:fo,isFunction:ot});function og(i,n){for(var t={},e=[],r=0,o=i.length;r<o;r+=1){var a=i[r],s=a[n];s?t[s]=r:e.push(a)}return{keyIndex:t,free:e}}var Ob=Object.freeze({__proto__:null,isArray:Be,isArrayLike:fo,uniq:Gc,union:Vc,sortedIndex:Yf,sortedIndexBy:Kf,sortBy:pl,groupBy:Lc,difference:Of,max:zf,diff:function(i,n,t){for(var e,r,o=og(i,t),a=og(n,t),s=a.free,u=o.keyIndex,c=a.keyIndex,h=[],d=[],g=0,C=0;g<i.length;){if(r=(e=i[g])[t])if(c.hasOwnProperty(r)){var A=c[r];d.push(n[A])}else d.push(null);else{var D=s[C+=1];d.push(D||null)}g+=1}var k=d.slice(0);for(g=0;g<k.length;)k[g]===null?(Y(g),Q(g)):g+=1;for(var O=g=0;g<n.length;){r=(e=n[g])[t];var F=k[O];if(F)if(r===F[t])O+=1;else if(u.hasOwnProperty(r)){var B=k[O+1];B&&(B[t]===r?(Y(g),Q(O),O+=1):w(g,e))}else w(g,e);else w(g,e);g+=1}for(var z=k.length-O;(O+=1)<k.length;)Y((z-=1)+g);function Y(J){var nt={index:J,type:0,item:null};h.push(nt)}function w(J,nt){var lt={index:J,item:nt,type:1};h.push(lt)}function Q(J){k.splice(J,1)}return{moves:h}}});function Uc(i){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];n.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(r){r!=="constructor"&&Object.defineProperty(i.prototype,r,Object.getOwnPropertyDescriptor(e.prototype,r))})})}var Nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=n[t])};function ig(i,n){function t(){this.constructor=i}Nb(i,n),i.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var kb=/^\s*class\s+/.test(""+function(){})||/^\s*class\s*\{/.test(""+function(){});function fl(i,n){var t;return kb?t=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return x(r,e),r}(n):ig(t=function(){return n.apply(this,arguments)},n),Object.defineProperty(t,"name",{value:i}),t}function ag(i,n){return i!=null?i:n}function $c(i){return i==="__proto__"}function gl(i,n,t){var e;t===void 0&&(t="/");var r=Array.isArray(n)?n:n.split(t);if(r.length)for(e=i;r.length;){var o=r.shift();if(Object(e)!==e||!o||!(o in e))return;e=e[o]}return e}function ui(i,n,t,e){e===void 0&&(e="/");var r=Array.isArray(n)?n:n.split(e),o=r.pop();if(o&&!$c(o)){var a=i;r.forEach(function(s){$c(s)||(a[s]==null&&(a[s]={}),a=a[s])}),a[o]=t}return i}function Wc(i,n,t){t===void 0&&(t="/");var e=Array.isArray(n)?n.slice():n.split(t),r=e.pop();if(r)if(e.length>0){var o=gl(i,e);o&&delete o[r]}else delete i[r];return i}var Lb=Object.freeze({__proto__:null,ensure:ag,getValue:function(i,n,t){var e=i!=null?i[n]:null;return t!==void 0?ag(e,t):e},getNumber:function(i,n,t){var e=i!=null?i[n]:null;return e==null?t:(e=+e,Number.isNaN(e)||!Number.isFinite(e)?t:e)},getBoolean:function(i,n,t){var e=i!=null?i[n]:null;return e==null?t:!!e},isMaliciousProp:$c,getByPath:gl,setByPath:ui,unsetByPath:Wc,flatten:function i(n,t,e){t===void 0&&(t="/");var r={};for(var o in Object.keys(n).forEach(function(a){var s=n[a],u=typeof s=="object"||Array.isArray(s);if(u&&e&&e(s)&&(u=!1),u){var c=i(s,t,e);Object.keys(c).forEach(function(h){r[a+t+h]=c[h]})}else r[a]=s}),n)Object.prototype.hasOwnProperty.call(n,o);return r},has:Zi,pick:zc,forIn:function(i,n){return i==null?i:Mc(i,typeof(t=n)=="function"?t:yr,go);var t},merge:Ve,extend:Lm,isEqual:Vr,isEmpty:Fc,isObject:ze,isPlainObject:ar,clone:Ki,cloneDeep:nn,defaults:Af,defaultsDeep:kc,applyMixins:Uc,inherit:ig,createClass:fl}),ci=function(i){var n=Object.create(null);return function(t){return n[t]||(n[t]=i(t))}},Xc=ci(function(i){return i.replace(/\B([A-Z])/g,"-$1").toLowerCase()}),vl=ci(function(i){return Jf(Ia(i)).replace(/ /g,"")}),Fb=ci(function(i){return Tb(i).replace(/ /g,"_")}),Rb=ci(function(i){return Rc(i).replace(/ /g,".")}),Ib=ci(function(i){return Rc(i).replace(/ /g,"/")}),jb=ci(function(i){return $i(Rc(i))}),Bb=ci(function(i){return Jf(Ia(i))});function yl(i){for(var n=2166136261,t=!1,e=i,r=0,o=e.length;r<o;r+=1){var a=e.charCodeAt(r);a>127&&!t&&(a=(e=unescape(encodeURIComponent(e))).charCodeAt(r),t=!0),n^=a,n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24)}return n>>>0}function ml(){for(var i="",n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",t=0,e=n.length;t<e;t+=1){var r=n[t],o=16*Math.random()|0;i+=(r==="x"?o:r==="y"?3&o|8:r).toString(16)}return i}function Yc(i,n){n===void 0&&(n={});var t=I.parseHTML(i,null,!1);return t.forEach(function(e){var r=e;if(r){var o=r.attributes;if(o)for(var a=0,s=o.length;a<s;a+=1){var u=o.item(a);if(u){var c=u.value.toLowerCase(),h=u.name.toLowerCase();(h.startsWith("on")||c.startsWith("javascript:")||c.startsWith("data:")||c.startsWith("vbscript:"))&&r.removeAttribute(h)}}}}),n.raw?t:I("<div/>").append(t).html()}function sg(i,n,t){for(var e,r=Math.min(2,Math.floor(.34*i.length)),o=Math.floor(.4*i.length)+1,a=!1,s=i.toLowerCase(),u=0,c=n;u<c.length;u++){var h=c[u],d=t(h);if(d!==void 0&&Math.abs(d.length-s.length)<=r){var g=d.toLowerCase();if(g===s){if(d===i)continue;return h}if(a||d.length<3)continue;var C=zb(s,g,o-1);if(C===void 0)continue;C<3?(a=!0,e=h):(o=C,e=h)}}return e}function zb(i,n,t){for(var e=new Array(n.length+1),r=new Array(n.length+1),o=t+1,a=0;a<=n.length;a+=1)e[a]=a;for(a=1;a<=i.length;a+=1){var s=i.charCodeAt(a-1),u=a>t?a-t:1,c=n.length>t+a?t+a:n.length;r[0]=a;for(var h=a,d=1;d<u;d+=1)r[d]=o;for(d=u;d<=c;d+=1){var g=s===n.charCodeAt(d-1)?e[d-1]:Math.min(e[d]+1,r[d-1]+1,e[d-1]+2);r[d]=g,h=Math.min(h,g)}for(d=c+1;d<=n.length;d+=1)r[d]=o;if(h>t)return;var C=e;e=r,r=C}var A=e[n.length];return A>t?void 0:A}var Vb=Object.freeze({__proto__:null,isString:Ff,toString:Sn,escape:kf,unescape:function(i){return(i=Sn(i))&&Pb.test(i)?i.replace(eg,Sb):i},startsWith:function(i,n,t){return i=Sn(i),t=t==null?0:il(Wn(t),0,i.length),n=Kn(n),i.slice(t,t+n.length)==n},endsWith:function(i,n,t){i=Sn(i),n=Kn(n);var e=i.length,r=t=t===void 0?e:il(Wn(t),0,e);return(t-=n.length)>=0&&i.slice(t,r)==n},split:function(i,n,t){return t&&typeof t!="number"&&ii(i,n,t)&&(n=t=void 0),(t=t===void 0?4294967295:t>>>0)?(i=Sn(i))&&(typeof n=="string"||n!=null&&!jf(n))&&!(n=Kn(n))&&Ui(i)?nl(rl(i),0,t):i.split(n,t):[]},repeat:function(i,n,t){return n=(t?ii(i,n,t):n===void 0)?1:Wn(n),Ic(Sn(i),n)},pad:function(i,n,t){i=Sn(i);var e=(n=Wn(n))?za(i):0;if(!n||e>=n)return i;var r=(n-e)/2;return hl(sb(r),t)+i+hl(ab(r),t)},padEnd:function(i,n,t){i=Sn(i);var e=(n=Wn(n))?za(i):0;return n&&e<n?i+hl(n-e,t):i},padStart:function(i,n,t){i=Sn(i);var e=(n=Wn(n))?za(i):0;return n&&e<n?hl(n-e,t)+i:i},truncate:function(i,n){var t=30,e="...";if(ze(n)){var r="separator"in n?n.separator:r;t="length"in n?Wn(n.length):t,e="omission"in n?Kn(n.omission):e}var o=(i=Sn(i)).length;if(Ui(i)){var a=rl(i);o=a.length}if(t>=o)return i;var s=t-za(e);if(s<1)return e;var u=a?nl(a,0,s).join(""):i.slice(0,s);if(r===void 0)return u+e;if(a&&(s+=u.length-s),jf(r)){if(i.slice(s).search(r)){var c,h=u;for(r.global||(r=RegExp(r.source,Sn(Eb.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var d=c.index;u=u.slice(0,d===void 0?s:d)}}else if(i.indexOf(Kn(r),s)!=s){var g=u.lastIndexOf(r);g>-1&&(u=u.slice(0,g))}return u+e},template:li,uniqueId:rg,eval:function(i){var n=null;try{n=window.eval(i)}catch{}return n},lowerFirst:Bf,upperFirst:$i,camelCase:Ia,kebabCase:Xc,pascalCase:vl,constantCase:Fb,dotCase:Rb,pathCase:Ib,sentenceCase:jb,titleCase:Bb,hashcode:yl,uuid:ml,sanitizeHTML:Yc,getSpellingSuggestion:sg});function Gr(i){return typeof i=="string"&&i.slice(-1)==="%"}function Dr(i,n){if(i==null)return 0;var t;if(typeof i=="string"){if(t=parseFloat(i),Gr(i)&&(t/=100,Number.isFinite(t)))return t*n}else t=i;return Number.isFinite(t)?t>0&&t<1?t*n:t:0}function lg(i,n){var t,e=parseFloat(i);if(Number.isNaN(e))return null;if(n==null)t="[A-Za-z]*";else if(Array.isArray(n)){if(n.length===0)return null;t=n.join("|")}else typeof n=="string"&&(t=n);var r=function(o){var a=new RegExp("(?:\\d+(?:\\.\\d+)*)("+o+")$").exec(i);return a?a[1]:null}(t);return r===null?null:{unit:r,value:e}}function sr(i){if(typeof i=="object"){var n=0,t=0,e=0,r=0;return i.vertical!=null&&Number.isFinite(i.vertical)&&(t=r=i.vertical),i.horizontal!=null&&Number.isFinite(i.horizontal)&&(e=n=i.horizontal),i.left!=null&&Number.isFinite(i.left)&&(n=i.left),i.top!=null&&Number.isFinite(i.top)&&(t=i.top),i.right!=null&&Number.isFinite(i.right)&&(e=i.right),i.bottom!=null&&Number.isFinite(i.bottom)&&(r=i.bottom),{top:t,right:e,bottom:r,left:n}}var o=0;return i!=null&&Number.isFinite(i)&&(o=i),{top:o,right:o,bottom:o,left:o}}var Gb=Object.freeze({__proto__:null,mod:function(i,n){return(i%n+n)%n},random:function(i,n){if(n==null)n=i==null?1:i,i=0;else if(n<i){var t=i;i=n,n=t}return Math.floor(Math.random()*(n-i+1)+i)},isPercentage:Gr,normalizePercentage:Dr,parseCssNumeric:lg,normalizeSides:sr,isNaN:function(i){return Ba(i)&&i!=+i},isNumber:Ba,isFinite:function(i){return typeof i=="number"&&J2(i)},isInteger:Rf,isSafeInteger:function(i){return Rf(i)&&i>=-9007199254740991&&i<=Z2},clamp:Jn,inRange:function(i,n,t){return n=eo(n),t===void 0?(t=n,n=0):t=eo(t),function(e,r,o){return e>=Y2(r,o)&&e<X2(r,o)}(i=ir(i),n,t)},toFinite:eo,toNumber:ir,toInteger:Wn,toSafeInteger:function(i){return i?il(Wn(i),-9007199254740991,wb):i===0?i:0},parseInt:function(i,n,t){return t||n==null?n=0:n&&(n=+n),ub(Sn(i).replace(lb,""),n||0)},isNumeric:Hc});function bl(i,n,t){if(t)switch(t.length){case 0:return i.call(n);case 1:return i.call(n,t[0]);case 2:return i.call(n,t[0],t[1]);case 3:return i.call(n,t[0],t[1],t[2]);case 4:return i.call(n,t[0],t[1],t[2],t[3]);case 5:return i.call(n,t[0],t[1],t[2],t[3],t[4]);case 6:return i.call(n,t[0],t[1],t[2],t[3],t[4],t[5]);default:return i.apply(n,t)}return i.call(n)}function Lt(i,n){for(var t=[],e=2;e<arguments.length;e++)t[e-2]=arguments[e];return bl(i,n,t)}function Hb(i,n){for(var t=0,e=i.length;t<e;t+=1)if(i[t]===n)return i.push(i.splice(t,1)[0])}function ug(i){return typeof i=="object"&&i.then&&typeof i.then=="function"}function Cl(i){return i!=null&&(i instanceof Promise||ug(i))}function xl(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var t=[];i.forEach(function(o){Array.isArray(o)?t.push.apply(t,o):t.push(o)});var e=t.some(function(o){return Cl(o)});if(e){var r=t.map(function(o){return Cl(o)?o:Promise.resolve(o!==!1)});return Promise.all(r).then(function(o){return o.reduce(function(a,s){return s!==!1&&a},!0)})}return t.every(function(o){return o!==!1})}function cg(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var t=xl(i);return typeof t=="boolean"?Promise.resolve(t):t}var Kc=Object.freeze({__proto__:null,isFunction:ot,once:function(i){return function(n,t){var e;if(typeof t!="function")throw new TypeError("Expected a function");return n=Wn(n),function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=void 0),e}}(2,i)},noop:rd,debounce:Dc,defer:Tf,apply:bl,call:Lt,cacher:function(i,n,t){var e=[],r={};return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=!1,u=o.join("\u2400");return u in r?(s=!0,Hb(e,u)):(e.length>=1e3&&delete r[e.shift()],e.push(u),r[u]=bl(i,n||null,o)),t?t(r[u],s):r[u]}},isAsyncLike:ug,isAsync:Cl,toAsyncBoolean:xl,toDeferredBoolean:cg}),Jc=/[\t\r\n\f]/g,Zc=/\S+/g,qi=function(i){return" "+i+" "};function hi(i){return i&&i.getAttribute&&i.getAttribute("class")||""}function Qi(i,n){if(i==null||n==null)return!1;var t=qi(hi(i)),e=qi(n);return i.nodeType===1&&t.replace(Jc," ").includes(e)}function Ee(i,n){if(i!=null&&n!=null){if(typeof n=="function")return Ee(i,n(hi(i)));if(typeof n=="string"&&i.nodeType===1){var t=n.match(Zc)||[],e=qi(hi(i)).replace(Jc," "),r=t.reduce(function(o,a){return o.indexOf(qi(a))<0?""+o+a+" ":o},e);e!==(r=r.trim())&&i.setAttribute("class",r)}}}function mr(i,n){if(i!=null){if(typeof n=="function")return mr(i,n(hi(i)));if((!n||typeof n=="string")&&i.nodeType===1){var t=(n||"").match(Zc)||[],e=qi(hi(i)).replace(Jc," "),r=t.reduce(function(o,a){var s=qi(a);return o.indexOf(s)>-1?o.replace(s," "):o},e);e!==(r=n?r.trim():"")&&i.setAttribute("class",r)}}}function qc(i,n,t){if(i!=null&&n!=null)if(t==null||typeof n!="string"){if(typeof n=="function")return qc(i,n(hi(i),t),t);typeof n=="string"&&(n.match(Zc)||[]).forEach(function(e){Qi(i,e)?mr(i,e):Ee(i,e)})}else t?Ee(i,n):mr(i,n)}var Ub=0;function hg(){return"v"+(Ub+=1)}function Va(i){return i.id!=null&&i.id!==""||(i.id=hg()),i.id}function Bo(i){return i!=null&&typeof i.getScreenCTM=="function"&&i instanceof SVGElement}var yn={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},pg="1.1";function Qc(i,n){return n===void 0&&(n=document),n.createElement(i)}function wl(i,n,t){return n===void 0&&(n=yn.xhtml),t===void 0&&(t=document),t.createElementNS(n,i)}function _n(i,n){return n===void 0&&(n=document),wl(i,yn.svg,n)}function Ga(i){if(i)return _c('<svg xmlns="'+yn.svg+'" xmlns:xlink="'+yn.xlink+'" version="1.1">'+i+"</svg>",{async:!1}).documentElement;var n=document.createElementNS(yn.svg,"svg");return n.setAttributeNS(yn.xmlns,"xmlns:xlink",yn.xlink),n.setAttribute("version",pg),n}function _c(i,n){var t;n===void 0&&(n={});try{var e=new DOMParser;n.async!=null&&(e.async=n.async),t=e.parseFromString(i,n.mimeType||"text/xml")}catch{t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+i);return t}function El(i,n){n===void 0&&(n=!0);var t=i.nodeName;return n?t.toLowerCase():t.toUpperCase()}function Sl(i){for(var n=0,t=i.previousSibling;t;)t.nodeType===1&&(n+=1),t=t.previousSibling;return n}function dg(i,n){return i.querySelectorAll(n)}function Pl(i,n){return i.querySelector(n)}function th(i,n,t){for(var e=i.ownerSVGElement,r=i.parentNode;r&&r!==t&&r!==e;){if(Qi(r,n))return r;r=r.parentNode}return null}function Al(i,n){var t=n&&n.parentNode;return i===t||!!(t&&t.nodeType===1&&16&i.compareDocumentPosition(t))}function no(i){i.parentNode&&i.parentNode.removeChild(i)}function Ml(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function _i(i,n){(Array.isArray(n)?n:[n]).forEach(function(t){t!=null&&i.appendChild(t)})}function fg(i,n){var t=i.firstChild;return t?Tl(t,n):_i(i,n)}function Tl(i,n){var t=i.parentNode;t&&(Array.isArray(n)?n:[n]).forEach(function(e){e!=null&&t.insertBefore(e,i)})}function gg(i,n){n!=null&&n.appendChild(i)}function Ha(i){try{return i instanceof HTMLElement}catch{return typeof i=="object"&&i.nodeType===1&&typeof i.style=="object"&&typeof i.ownerDocument=="object"}}function Dl(i){return!(!i||!Ha(i))&&(!!["a","button"].includes(El(i))||i.getAttribute("role")==="button"||i.getAttribute("type")==="button"||Dl(i.parentNode))}function eh(i){if(El(i)==="input"){var n=i.getAttribute("type");if(n==null||["text","password","number","email","search","tel","url"].includes(n))return!0}return!1}var nh=["viewBox","attributeName","attributeType","repeatCount"];function vg(i,n){return i.getAttribute(n)}function rh(i,n){var t=ih(n);t.ns?i.hasAttributeNS(t.ns,t.local)&&i.removeAttributeNS(t.ns,t.local):i.hasAttribute(n)&&i.removeAttribute(n)}function Ol(i,n,t){if(t==null)return rh(i,n);var e=ih(n);e.ns&&typeof t=="string"?i.setAttributeNS(e.ns,n,t):n==="id"?i.id=""+t:i.setAttribute(n,""+t)}function oh(i,n){Object.keys(n).forEach(function(t){Ol(i,t,n[t])})}function Se(i,n,t){if(n==null){for(var e=i.attributes,r={},o=0;o<e.length;o+=1)r[e[o].name]=e[o].value;return r}if(typeof n=="string"&&t===void 0)return i.getAttribute(n);typeof n=="object"?oh(i,n):Ol(i,n,t)}function ih(i){if(i.indexOf(":")!==-1){var n=i.split(":");return{ns:yn[n[0]],local:n[1]}}return{ns:null,local:i}}function ta(i){var n={};return Object.keys(i).forEach(function(t){var e=nh.includes(t)?t:Xc(t);n[e]=i[t]}),n}function Ua(i){var n={};return i.split(";").forEach(function(t){var e=t.trim();if(e){var r=e.split("=");r.length&&(n[r[0].trim()]=r[1]?r[1].trim():"")}}),n}function Nl(i,n){return Object.keys(n).forEach(function(t){if(t==="class")i[t]=i[t]?i[t]+" "+n[t]:n[t];else if(t==="style"){var e=typeof i[t]=="object",r=typeof n[t]=="object",o=void 0,a=void 0;e&&r?(o=i[t],a=n[t]):e?(o=i[t],a=Ua(n[t])):r?(o=Ua(i[t]),a=n[t]):(o=Ua(i[t]),a=Ua(n[t])),i[t]=Nl(o,a)}else i[t]=n[t]}),i}function yg(i,n,t){t===void 0&&(t={});for(var e,r,o=t.offset||0,a=[],s=[],u=null,c=0;c<i.length;c+=1){e=s[c]=i[c];for(var h=0,d=n.length;h<d;h+=1){var g=n[h],C=g.start+o,A=g.end+o;c>=C&&c<A&&(typeof e=="string"?e=s[c]={t:i[c],attrs:g.attrs}:e.attrs=Nl(Nl({},e.attrs),g.attrs),t.includeAnnotationIndices&&(e.annotations==null&&(e.annotations=[]),e.annotations.push(h)))}(r=s[c-1])?ze(e)&&ze(r)?(u=u,JSON.stringify(e.attrs)===JSON.stringify(r.attrs)?u.t+=e.t:(a.push(u),u=e)):ze(e)||ze(r)?(u=u,a.push(u),u=e):u=(u||"")+e:u=e}return u!=null&&a.push(u),a}function mg(i){return i.replace(/ /g,"\xA0")}var pi,$b=Object.freeze({__proto__:null,annotate:yg,findAnnotationsAtIndex:function(i,n){return i?i.filter(function(t){return t.start<n&&n<=t.end}):[]},findAnnotationsBetweenIndexes:function(i,n,t){return i?i.filter(function(e){return n>=e.start&&n<e.end||t>e.start&&t<=e.end||e.start>=n&&e.end<t}):[]},shiftAnnotations:function(i,n,t){return i&&i.forEach(function(e){e.start<n&&e.end>=n?e.end+=t:e.start>=n&&(e.start+=t,e.end+=t)}),i},sanitize:mg});l.JSONExt=void 0,function(i){function n(o){return o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"}function t(o){return Array.isArray(o)}function e(o,a){if(o===a)return!0;if(n(o)||n(a))return!1;var s=t(o),u=t(a);return s===u&&(s&&u?function(c,h){if(c===h)return!0;if(c.length!==h.length)return!1;for(var d=0,g=c.length;d<g;d+=1)if(!e(c[d],h[d]))return!1;return!0}(o,a):function(c,h){if(c===h)return!0;for(var d in c)if(!(d in h))return!1;for(var d in h)if(!(d in c))return!1;for(var d in c)if(!e(c[d],h[d]))return!1;return!0}(o,a))}function r(o){return n(o)?o:t(o)?function(a){for(var s=new Array(a.length),u=0,c=a.length;u<c;u+=1)s[u]=r(a[u]);return s}(o):function(a){var s={};return Object.keys(a).forEach(function(u){s[u]=r(a[u])}),s}(o)}i.emptyObject=Object.freeze({}),i.emptyArray=Object.freeze([]),i.isPrimitive=n,i.isArray=t,i.isObject=function(o){return!n(o)&&!t(o)},i.deepEqual=e,i.deepCopy=r}(l.JSONExt||(l.JSONExt={})),l.DataUri=void 0,function(i){function n(o){var a="data:";return o.substr(0,a.length)===a}function t(o){var a,s=o.replace(/\s/g,""),u=(s=decodeURIComponent(s)).indexOf(","),c=s.slice(0,u),h=c.split(":")[1].split(";")[0],d=s.slice(u+1);a=c.indexOf("base64")>=0?atob(d):unescape(encodeURIComponent(d));for(var g=new Uint8Array(a.length),C=0;C<a.length;C+=1)g[C]=a.charCodeAt(C);return new Blob([g],{type:h})}function e(o,a){var s=window.navigator.msSaveBlob;if(s)s(o,a);else{var u=window.URL.createObjectURL(o),c=document.createElement("a");c.href=u,c.download=a,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(u)}}function r(o){var a=parseFloat(o);return Number.isNaN(a)?null:a}i.isDataUrl=n,i.imageToDataUri=function(o,a){if(o&&!n(o)){var s=function(){a(new Error("Failed to load image: "+o))},u=window.FileReader?function(h){if(h.status===200){var d=new FileReader;d.onload=function(g){var C=g.target.result;a(null,C)},d.onerror=s,d.readAsDataURL(h.response)}else s()}:function(h){if(h.status===200){var d=o.split(".").pop()||"png";d==="svg"&&(d="svg+xml");var g="data:image/"+d+";base64,",C=new Uint8Array(h.response),A=g+btoa(function(D){for(var k=[],O=0;O<D.length;O+=32768)k.push(String.fromCharCode.apply(null,D.subarray(O,O+32768)));return k.join("")}(C));a(null,A)}else s()},c=new XMLHttpRequest;c.responseType=window.FileReader?"blob":"arraybuffer",c.open("GET",o,!0),c.addEventListener("error",s),c.addEventListener("load",function(){return u(c)}),c.send()}else setTimeout(function(){return a(null,o)})},i.dataUriToBlob=t,i.downloadBlob=e,i.downloadDataUri=function(o,a){e(t(o),a)},i.svgToDataUrl=function(o,a){a===void 0&&(a={});var s=null,u=function(g){return s==null&&(s=function(C){var A=C.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return A&&A[2]?A[2].replace(/\s+/," ").split(" "):null}(o)),s!=null?r(s[g]):null},c=function(g){var C=o.match(g);return C&&C[2]?r(C[2]):null},h=a.width;if(h==null&&(h=c(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),h==null&&(h=u(2)),h==null)throw new Error("Can not parse width from svg string");var d=a.height;if(d==null&&(d=c(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),d==null&&(d=u(3)),d==null)throw new Error("Can not parse height from svg string");return"data:image/svg+xml,"+encodeURIComponent(o).replace(/'/g,"%27").replace(/"/g,"%22")}}(l.DataUri||(l.DataUri={}));var Wb={px:function(i){return i},mm:function(i){return pi*i},cm:function(i){return pi*i*10},in:function(i){return pi*i*25.4},pt:function(i){return pi*(25.4*i/72)},pc:function(i){return pi*(25.4*i/6)}};l.Unit=void 0,function(i){function n(t,e,r){var o=I("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:t+(r||""),height:e+(r||"")}).appendTo(document.body),a={width:o.width()||0,height:o.height()||0};return o.remove(),a}i.measure=n,i.toPx=function(t,e){pi==null&&(pi=n("1","1","mm").width);var r=e?Wb[e]:null;return r?r(t):t}}(l.Unit||(l.Unit={}));var ea,Hr,kl=function(){var i,n=window;if(n!=null&&(i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame)!=null&&(i=i.bind(n)),i==null){var t=0;i=function(e){var r=new Date().getTime(),o=Math.max(0,16-(r-t)),a=setTimeout(function(){e(r+o)},o);return t=r+o,a}}return i}(),Ll=((Hr=window)!=null&&(ea=Hr.cancelAnimationFrame||Hr.webkitCancelAnimationFrame||Hr.webkitCancelRequestAnimationFrame||Hr.msCancelAnimationFrame||Hr.msCancelRequestAnimationFrame||Hr.oCancelAnimationFrame||Hr.oCancelRequestAnimationFrame||Hr.mozCancelAnimationFrame||Hr.mozCancelRequestAnimationFrame)&&(ea=ea.bind(Hr)),ea==null&&(ea=clearTimeout),ea),Xb=/-(.)/g,ah={},bg=["Webkit","ms","Moz","O"],Cg=document?document.createElement("div").style:{};function xg(i){var n=i.replace(Xb,function(e,r){return r.toUpperCase()});if(ah[n]==null){var t=n.charAt(0).toUpperCase()+n.slice(1);ah[n]=n in Cg?n:function(e){for(var r=0;r<bg.length;r+=1){var o=bg[r]+e;if(o in Cg)return o}return null}(t)}return ah[n]}function Fl(i,n){var t=i.ownerDocument&&i.ownerDocument.defaultView&&i.ownerDocument.defaultView.opener?i.ownerDocument.defaultView.getComputedStyle(i,null):window.getComputedStyle(i,null);return t&&n?t.getPropertyValue(n)||t[n]:t}var wg,sh,Yb=(wg=document).selection?function(){wg.selection.empty()}:window.getSelection?function(){var i=window.getSelection();i&&(i.empty?i.empty():i.removeAllRanges&&i.removeAllRanges())}:function(){};function di(i,n){return n===void 0&&(n=0),Number.isInteger(i)?i:+i.toFixed(n)}function Eg(i,n){var t,e;if(n==null?(e=i==null?1:i,t=0):(e=n,t=i==null?0:i),e<t){var r=t;t=e,e=r}return Math.floor(Math.random()*(e-t+1)+t)}function na(i,n,t){return Number.isNaN(i)?NaN:Number.isNaN(n)||Number.isNaN(t)?0:n<t?i<n?n:i>t?t:i:i<t?t:i>n?n:i}function lh(i,n){return n*Math.round(i/n)}function Sg(i,n){return n!=null&&i!=null&&n.x>=i.x&&n.x<=i.x+i.width&&n.y>=i.y&&n.y<=i.y+i.height}function Pg(i,n){var t=i.x-n.x,e=i.y-n.y;return t*t+e*e}l.Angle=void 0,(sh=l.Angle||(l.Angle={})).toDeg=function(i){return 180*i/Math.PI%360},sh.toRad=function(i,n){return n===void 0&&(n=!1),(n?i:i%360)*Math.PI/180},sh.normalize=function(i){return i%360+(i<0?360:0)};var $a,Wa,Xa,Ya,zo=function(){function i(){}return i.prototype.valueOf=function(){return this.toJSON()},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},i}();l.Point=function(i){function n(t,e){var r=i.call(this)||this;return r.x=t==null?0:t,r.y=e==null?0:e,r}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.round=function(t){return t===void 0&&(t=0),this.x=di(this.x,t),this.y=di(this.y,t),this},n.prototype.add=function(t,e){var r=n.create(t,e);return this.x+=r.x,this.y+=r.y,this},n.prototype.update=function(t,e){var r=n.create(t,e);return this.x=r.x,this.y=r.y,this},n.prototype.translate=function(t,e){var r=n.create(t,e);return this.x+=r.x,this.y+=r.y,this},n.prototype.rotate=function(t,e){var r=n.rotate(this,t,e);return this.x=r.x,this.y=r.y,this},n.prototype.scale=function(t,e,r){r===void 0&&(r=new n);var o=n.create(r);return this.x=o.x+t*(this.x-o.x),this.y=o.y+e*(this.y-o.y),this},n.prototype.closest=function(t){var e=this;if(t.length===1)return n.create(t[0]);var r=null,o=1/0;return t.forEach(function(a){var s=e.squaredDistance(a);s<o&&(r=a,o=s)}),r?n.create(r):null},n.prototype.distance=function(t){return Math.sqrt(this.squaredDistance(t))},n.prototype.squaredDistance=function(t){var e=n.create(t),r=this.x-e.x,o=this.y-e.y;return r*r+o*o},n.prototype.manhattanDistance=function(t){var e=n.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)},n.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01},n.prototype.theta=function(t){t===void 0&&(t=new n);var e=n.create(t),r=-(e.y-this.y),o=e.x-this.x,a=Math.atan2(r,o);return a<0&&(a=2*Math.PI+a),180*a/Math.PI},n.prototype.angleBetween=function(t,e){if(this.equals(t)||this.equals(e))return NaN;var r=this.theta(e)-this.theta(t);return r<0&&(r+=360),r},n.prototype.vectorAngle=function(t){return new n(0,0).angleBetween(this,t)},n.prototype.toPolar=function(t){return this.update(n.toPolar(this,t)),this},n.prototype.changeInAngle=function(t,e,r){return r===void 0&&(r=new n),this.clone().translate(-t,-e).theta(r)-this.theta(r)},n.prototype.adhereToRect=function(t){return Sg(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this},n.prototype.bearing=function(t){var e=n.create(t),r=l.Angle.toRad(this.y),o=l.Angle.toRad(e.y),a=this.x,s=e.x,u=l.Angle.toRad(s-a),c=Math.sin(u)*Math.cos(o),h=Math.cos(r)*Math.sin(o)-Math.sin(r)*Math.cos(o)*Math.cos(u),d=l.Angle.toDeg(Math.atan2(c,h))-22.5;return d<0&&(d+=360),["NE","E","SE","S","SW","W","NW","N"][d=parseInt(d/45,10)]},n.prototype.cross=function(t,e){if(t!=null&&e!=null){var r=n.create(t),o=n.create(e);return(o.x-this.x)*(r.y-this.y)-(o.y-this.y)*(r.x-this.x)}return NaN},n.prototype.dot=function(t){var e=n.create(t);return this.x*e.x+this.y*e.y},n.prototype.diff=function(t,e){if(typeof t=="number")return new n(this.x-t,this.y-e);var r=n.create(t);return new n(this.x-r.x,this.y-r.y)},n.prototype.lerp=function(t,e){var r=n.create(t);return new n((1-e)*this.x+e*r.x,(1-e)*this.y+e*r.y)},n.prototype.normalize=function(t){t===void 0&&(t=1);var e=t/this.magnitude();return this.scale(e,e)},n.prototype.move=function(t,e){var r=n.create(t),o=l.Angle.toRad(r.theta(this));return this.translate(Math.cos(o)*e,-Math.sin(o)*e)},n.prototype.reflection=function(t){return n.create(t).move(this,this.distance(t))},n.prototype.snapToGrid=function(t,e){return this.x=lh(this.x,t),this.y=lh(this.y,e==null?t:e),this},n.prototype.equals=function(t){var e=n.create(t);return e!=null&&e.x===this.x&&e.y===this.y},n.prototype.clone=function(){return n.clone(this)},n.prototype.toJSON=function(){return n.toJSON(this)},n.prototype.serialize=function(){return this.x+" "+this.y},n}(zo),($a=l.Point||(l.Point={})).toStringTag="X6.Geometry."+$a.name,$a.isPoint=function(i){if(i==null)return!1;if(i instanceof $a)return!0;var n=i[Symbol.toStringTag],t=i;return(n==null||n===$a.toStringTag)&&typeof t.x=="number"&&typeof t.y=="number"&&typeof t.toPolar=="function"},function(i){i.isPointLike=function(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"},i.isPointData=function(n){return n!=null&&Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}}(l.Point||(l.Point={})),function(i){function n(r){return i.isPoint(r)?new i(r.x,r.y):Array.isArray(r)?new i(r[0],r[1]):new i(r.x,r.y)}function t(r,o){return r===o||r!=null&&o!=null&&r.x===o.x&&r.y===o.y}function e(r,o,a,s){s===void 0&&(s=new i);var u=n(r),c=n(s),h=u.x-c.x,d=u.y-c.y,g=d*o+h*a;return new i(h*o-d*a+c.x,g+c.y)}i.create=function(r,o){return r==null||typeof r=="number"?new i(r,o):n(r)},i.clone=n,i.toJSON=function(r){return i.isPoint(r)?{x:r.x,y:r.y}:Array.isArray(r)?{x:r[0],y:r[1]}:{x:r.x,y:r.y}},i.fromPolar=function(r,o,a){a===void 0&&(a=new i);var s=Math.abs(r*Math.cos(o)),u=Math.abs(r*Math.sin(o)),c=n(a),h=l.Angle.normalize(l.Angle.toDeg(o));return h<90?u=-u:h<180?(s=-s,u=-u):h<270&&(s=-s),new i(c.x+s,c.y+u)},i.toPolar=function(r,o){o===void 0&&(o=new i);var a=n(r),s=n(o),u=a.x-s.x,c=a.y-s.y;return new i(Math.sqrt(u*u+c*c),l.Angle.toRad(s.theta(a)))},i.equals=t,i.equalPoints=function(r,o){if(r==null&&o!=null||r!=null&&o==null||r!=null&&o!=null&&r.length!==o.length)return!1;if(r!=null&&o!=null){for(var a=0,s=r.length;a<s;a+=1)if(!t(r[a],o[a]))return!1}return!0},i.random=function(r,o,a,s){return new i(Eg(r,o),Eg(a,s))},i.rotate=function(r,o,a){var s=l.Angle.toRad(l.Angle.normalize(-o)),u=Math.sin(s);return e(r,Math.cos(s),u,a)},i.rotateEx=e}(l.Point||(l.Point={})),l.Rectangle=function(i){function n(t,e,r,o){var a=i.call(this)||this;return a.x=t==null?0:t,a.y=e==null?0:e,a.width=r==null?0:r,a.height=o==null?0:o,a}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"origin",{get:function(){return new l.Point(this.x,this.y)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"topLeft",{get:function(){return new l.Point(this.x,this.y)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"topCenter",{get:function(){return new l.Point(this.x+this.width/2,this.y)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"topRight",{get:function(){return new l.Point(this.x+this.width,this.y)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"center",{get:function(){return new l.Point(this.x+this.width/2,this.y+this.height/2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottomLeft",{get:function(){return new l.Point(this.x,this.y+this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottomCenter",{get:function(){return new l.Point(this.x+this.width/2,this.y+this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottomRight",{get:function(){return new l.Point(this.x+this.width,this.y+this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"corner",{get:function(){return new l.Point(this.x+this.width,this.y+this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightMiddle",{get:function(){return new l.Point(this.x+this.width,this.y+this.height/2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftMiddle",{get:function(){return new l.Point(this.x,this.y+this.height/2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"topLine",{get:function(){return new l.Line(this.topLeft,this.topRight)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightLine",{get:function(){return new l.Line(this.topRight,this.bottomRight)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottomLine",{get:function(){return new l.Line(this.bottomLeft,this.bottomRight)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftLine",{get:function(){return new l.Line(this.topLeft,this.bottomLeft)},enumerable:!1,configurable:!0}),n.prototype.getOrigin=function(){return this.origin},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopCenter=function(){return this.topCenter},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getCenter=function(){return this.center},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomCenter=function(){return this.bottomCenter},n.prototype.getBottomRight=function(){return this.bottomRight},n.prototype.getCorner=function(){return this.corner},n.prototype.getRightMiddle=function(){return this.rightMiddle},n.prototype.getLeftMiddle=function(){return this.leftMiddle},n.prototype.getTopLine=function(){return this.topLine},n.prototype.getRightLine=function(){return this.rightLine},n.prototype.getBottomLine=function(){return this.bottomLine},n.prototype.getLeftLine=function(){return this.leftLine},n.prototype.bbox=function(t){if(!t)return this.clone();var e=l.Angle.toRad(t),r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=this.width*o+this.height*r,s=this.width*r+this.height*o;return new n(this.x+(this.width-a)/2,this.y+(this.height-s)/2,a,s)},n.prototype.round=function(t){return t===void 0&&(t=0),this.x=di(this.x,t),this.y=di(this.y,t),this.width=di(this.width,t),this.height=di(this.height,t),this},n.prototype.add=function(t,e,r,o){var a=n.create(t,e,r,o),s=Math.min(this.x,a.x),u=Math.min(this.y,a.y),c=Math.max(this.x+this.width,a.x+a.width),h=Math.max(this.y+this.height,a.y+a.height);return this.x=s,this.y=u,this.width=c-s,this.height=h-u,this},n.prototype.update=function(t,e,r,o){var a=n.create(t,e,r,o);return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this},n.prototype.inflate=function(t,e){var r=t,o=e!=null?e:t;return this.x-=r,this.y-=o,this.width+=2*r,this.height+=2*o,this},n.prototype.snapToGrid=function(t,e){var r=this.origin.snapToGrid(t,e),o=this.corner.snapToGrid(t,e);return this.x=r.x,this.y=r.y,this.width=o.x-r.x,this.height=o.y-r.y,this},n.prototype.translate=function(t,e){var r=l.Point.create(t,e);return this.x+=r.x,this.y+=r.y,this},n.prototype.scale=function(t,e,r){r===void 0&&(r=new l.Point);var o=this.origin.scale(t,e,r);return this.x=o.x,this.y=o.y,this.width*=t,this.height*=e,this},n.prototype.rotate=function(t,e){if(e===void 0&&(e=this.getCenter()),t!==0){var r=l.Angle.toRad(t),o=Math.cos(r),a=Math.sin(r),s=this.getOrigin(),u=this.getTopRight(),c=this.getBottomRight(),h=this.getBottomLeft();s=l.Point.rotateEx(s,o,a,e),u=l.Point.rotateEx(u,o,a,e),c=l.Point.rotateEx(c,o,a,e),h=l.Point.rotateEx(h,o,a,e);var d=new n(s.x,s.y,0,0);d.add(u.x,u.y,0,0),d.add(c.x,c.y,0,0),d.add(h.x,h.y,0,0),this.update(d)}return this},n.prototype.rotate90=function(){var t=(this.width-this.height)/2;this.x+=t,this.y-=t;var e=this.width;return this.width=this.height,this.height=e,this},n.prototype.moveAndExpand=function(t){var e=n.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},n.prototype.getMaxScaleToFit=function(t,e){e===void 0&&(e=this.center);var r=n.clone(t),o=e.x,a=e.y,s=1/0,u=1/0,c=1/0,h=1/0,d=1/0,g=1/0,C=1/0,A=1/0,D=r.topLeft;D.x<o&&(s=(this.x-o)/(D.x-o)),D.y<a&&(d=(this.y-a)/(D.y-a));var k=r.bottomRight;k.x>o&&(u=(this.x+this.width-o)/(k.x-o)),k.y>a&&(g=(this.y+this.height-a)/(k.y-a));var O=r.topRight;O.x>o&&(c=(this.x+this.width-o)/(O.x-o)),O.y<a&&(C=(this.y-a)/(O.y-a));var F=r.bottomLeft;return F.x<o&&(h=(this.x-o)/(F.x-o)),F.y>a&&(A=(this.y+this.height-a)/(F.y-a)),{sx:Math.min(s,u,c,h),sy:Math.min(d,g,C,A)}},n.prototype.getMaxUniformScaleToFit=function(t,e){e===void 0&&(e=this.center);var r=this.getMaxScaleToFit(t,e);return Math.min(r.sx,r.sy)},n.prototype.containsPoint=function(t,e){return Sg(this,l.Point.create(t,e))},n.prototype.containsRect=function(t,e,r,o){var a=n.create(t,e,r,o),s=this.x,u=this.y,c=this.width,h=this.height,d=a.x,g=a.y,C=a.width,A=a.height;return c!==0&&h!==0&&C!==0&&A!==0&&d>=s&&g>=u&&d+C<=s+c&&g+A<=u+h},n.prototype.intersectsWithLine=function(t){var e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],r=[],o=[];return e.forEach(function(a){var s=t.intersectsWithLine(a);s!==null&&o.indexOf(s.toString())<0&&(r.push(s),o.push(s.toString()))}),r.length>0?r:null},n.prototype.intersectsWithLineFromCenterToPoint=function(t,e){var r=l.Point.clone(t),o=this.center,a=null;e!=null&&e!==0&&r.rotate(e,o);for(var s=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],u=new l.Line(o,r),c=s.length-1;c>=0;c-=1){var h=s[c].intersectsWithLine(u);if(h!==null){a=h;break}}return a&&e!=null&&e!==0&&a.rotate(-e,o),a},n.prototype.intersectsWithRect=function(t,e,r,o){var a=n.create(t,e,r,o);if(!this.isIntersectWithRect(a))return null;var s=this.origin,u=this.corner,c=a.origin,h=a.corner,d=Math.max(s.x,c.x),g=Math.max(s.y,c.y);return new n(d,g,Math.min(u.x,h.x)-d,Math.min(u.y,h.y)-g)},n.prototype.isIntersectWithRect=function(t,e,r,o){var a=n.create(t,e,r,o),s=this.origin,u=this.corner,c=a.origin,h=a.corner;return!(h.x<=s.x||h.y<=s.y||c.x>=u.x||c.y>=u.y)},n.prototype.normalize=function(){var t=this.x,e=this.y,r=this.width,o=this.height;return this.width<0&&(t=this.x+this.width,r=-this.width),this.height<0&&(e=this.y+this.height,o=-this.height),this.x=t,this.y=e,this.width=r,this.height=o,this},n.prototype.union=function(t){var e=n.clone(t),r=this.origin,o=this.corner,a=e.origin,s=e.corner,u=Math.min(r.x,a.x),c=Math.min(r.y,a.y);return new n(u,c,Math.max(o.x,s.x)-u,Math.max(o.y,s.y)-c)},n.prototype.getNearestSideToPoint=function(t){var e=l.Point.clone(t),r=e.x-this.x,o=this.x+this.width-e.x,a=e.y-this.y,s=r,u="left";return o<s&&(s=o,u="right"),a<s&&(s=a,u="top"),this.y+this.height-e.y<s&&(u="bottom"),u},n.prototype.getNearestPointToPoint=function(t){var e=l.Point.clone(t);if(this.containsPoint(e))switch(this.getNearestSideToPoint(e)){case"right":return new l.Point(this.x+this.width,e.y);case"left":return new l.Point(this.x,e.y);case"bottom":return new l.Point(e.x,this.y+this.height);case"top":return new l.Point(e.x,this.y)}return e.adhereToRect(this)},n.prototype.equals=function(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.serialize=function(){return this.x+" "+this.y+" "+this.width+" "+this.height},n}(zo),(Wa=l.Rectangle||(l.Rectangle={})).toStringTag="X6.Geometry."+Wa.name,Wa.isRectangle=function(i){if(i==null)return!1;if(i instanceof Wa)return!0;var n=i[Symbol.toStringTag],t=i;return(n==null||n===Wa.toStringTag)&&typeof t.x=="number"&&typeof t.y=="number"&&typeof t.width=="number"&&typeof t.height=="number"&&typeof t.inflate=="function"&&typeof t.moveAndExpand=="function"},function(i){i.isRectangleLike=function(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.width=="number"&&typeof n.height=="number"}}(l.Rectangle||(l.Rectangle={})),function(i){function n(t){return i.isRectangle(t)?t.clone():Array.isArray(t)?new i(t[0],t[1],t[2],t[3]):new i(t.x,t.y,t.width,t.height)}i.create=function(t,e,r,o){return t==null||typeof t=="number"?new i(t,e,r,o):n(t)},i.clone=n,i.fromSize=function(t){return new i(0,0,t.width,t.height)},i.fromPositionAndSize=function(t,e){return new i(t.x,t.y,e.width,e.height)},i.fromEllipse=function(t){return new i(t.x-t.a,t.y-t.b,2*t.a,2*t.b)}}(l.Rectangle||(l.Rectangle={})),l.Line=function(i){function n(t,e,r,o){var a=i.call(this)||this;return typeof t=="number"&&typeof e=="number"?(a.start=new l.Point(t,e),a.end=new l.Point(r,o)):(a.start=l.Point.create(t),a.end=l.Point.create(e)),a}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"center",{get:function(){return new l.Point((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},enumerable:!1,configurable:!0}),n.prototype.getCenter=function(){return this.center},n.prototype.round=function(t){return t===void 0&&(t=0),this.start.round(t),this.end.round(t),this},n.prototype.translate=function(t,e){return typeof t=="number"?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this},n.prototype.rotate=function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},n.prototype.scale=function(t,e,r){return this.start.scale(t,e,r),this.end.scale(t,e,r),this},n.prototype.length=function(){return Math.sqrt(this.squaredLength())},n.prototype.squaredLength=function(){var t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e},n.prototype.setLength=function(t){var e=this.length();if(!e)return this;var r=t/e;return this.scale(r,r,this.start)},n.prototype.parallel=function(t){var e=this.clone();if(!e.isDifferentiable())return e;var r=e.start,o=e.end,a=r.clone().rotate(270,o),s=o.clone().rotate(90,r);return r.move(s,t),o.move(a,t),e},n.prototype.vector=function(){return new l.Point(this.end.x-this.start.x,this.end.y-this.start.y)},n.prototype.angle=function(){var t=new l.Point(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},n.prototype.bbox=function(){var t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),r=Math.max(this.start.x,this.end.x),o=Math.max(this.start.y,this.end.y);return new l.Rectangle(t,e,r-t,o-e)},n.prototype.bearing=function(){return this.start.bearing(this.end)},n.prototype.closestPoint=function(t){return this.pointAt(this.closestPointNormalizedLength(t))},n.prototype.closestPointLength=function(t){return this.closestPointNormalizedLength(t)*this.length()},n.prototype.closestPointTangent=function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},n.prototype.closestPointNormalizedLength=function(t){var e=this.vector().dot(new n(this.start,t).vector()),r=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(r)?0:r},n.prototype.pointAt=function(t){var e=this.start,r=this.end;return t<=0?e.clone():t>=1?r.clone():e.lerp(r,t)},n.prototype.pointAtLength=function(t){var e=this.start,r=this.end,o=!0;t<0&&(o=!1,t=-t);var a=this.length();if(t>=a)return o?r.clone():e.clone();var s=(o?t:a-t)/a;return this.pointAt(s)},n.prototype.divideAt=function(t){var e=this.pointAt(t);return[new n(this.start,e),new n(e,this.end)]},n.prototype.divideAtLength=function(t){var e=this.pointAtLength(t);return[new n(this.start,e),new n(e,this.end)]},n.prototype.containsPoint=function(t){var e=this.start,r=this.end;if(e.cross(t,r)!==0)return!1;var o=this.length();return!(new n(e,t).length()>o)&&!(new n(t,r).length()>o)},n.prototype.intersect=function(t,e){var r=t.intersectsWithLine(this,e);return r?Array.isArray(r)?r:[r]:null},n.prototype.intersectsWithLine=function(t){var e=new l.Point(this.end.x-this.start.x,this.end.y-this.start.y),r=new l.Point(t.end.x-t.start.x,t.end.y-t.start.y),o=e.x*r.y-e.y*r.x,a=new l.Point(t.start.x-this.start.x,t.start.y-this.start.y),s=a.x*r.y-a.y*r.x,u=a.x*e.y-a.y*e.x;if(o===0||s*o<0||u*o<0)return null;if(o>0){if(s>o||u>o)return null}else if(s<o||u<o)return null;return new l.Point(this.start.x+s*e.x/o,this.start.y+s*e.y/o)},n.prototype.isDifferentiable=function(){return!this.start.equals(this.end)},n.prototype.pointOffset=function(t){var e=l.Point.clone(t),r=this.start,o=this.end;return((o.x-r.x)*(e.y-r.y)-(o.y-r.y)*(e.x-r.x))/this.length()},n.prototype.pointSquaredDistance=function(t,e){var r=l.Point.create(t,e);return this.closestPoint(r).squaredDistance(r)},n.prototype.pointDistance=function(t,e){var r=l.Point.create(t,e);return this.closestPoint(r).distance(r)},n.prototype.tangentAt=function(t){if(!this.isDifferentiable())return null;var e=this.start,r=this.end,o=this.pointAt(t),a=new n(e,r);return a.translate(o.x-e.x,o.y-e.y),a},n.prototype.tangentAtLength=function(t){if(!this.isDifferentiable())return null;var e=this.start,r=this.end,o=this.pointAtLength(t),a=new n(e,r);return a.translate(o.x-e.x,o.y-e.y),a},n.prototype.relativeCcw=function(t,e){var r=l.Point.create(t,e),o=r.x-this.start.x,a=r.y-this.start.y,s=this.end.x-this.start.x,u=this.end.y-this.start.y,c=o*u-a*s;return c===0&&(c=o*s+a*u)>0&&(c=(o-=s)*s+(a-=u)*u)<0&&(c=0),c<0?-1:c>0?1:0},n.prototype.equals=function(t){return t!=null&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},n.prototype.clone=function(){return new n(this.start,this.end)},n.prototype.toJSON=function(){return{start:this.start.toJSON(),end:this.end.toJSON()}},n.prototype.serialize=function(){return[this.start.serialize(),this.end.serialize()].join(" ")},n}(zo),(Xa=l.Line||(l.Line={})).toStringTag="X6.Geometry."+Xa.name,Xa.isLine=function(i){if(i==null)return!1;if(i instanceof Xa)return!0;var n=i[Symbol.toStringTag],t=i;try{if((n==null||n===Xa.toStringTag)&&l.Point.isPoint(t.start)&&l.Point.isPoint(t.end)&&typeof t.vector=="function"&&typeof t.bearing=="function"&&typeof t.parallel=="function"&&typeof t.intersect=="function")return!0}catch{return!1}return!1},l.Ellipse=function(i){function n(t,e,r,o){var a=i.call(this)||this;return a.x=t==null?0:t,a.y=e==null?0:e,a.a=r==null?0:r,a.b=o==null?0:o,a}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"center",{get:function(){return new l.Point(this.x,this.y)},enumerable:!1,configurable:!0}),n.prototype.bbox=function(){return l.Rectangle.fromEllipse(this)},n.prototype.getCenter=function(){return this.center},n.prototype.inflate=function(t,e){var r=t,o=e!=null?e:t;return this.a+=2*r,this.b+=2*o,this},n.prototype.normalizedDistance=function(t,e){var r=l.Point.create(t,e),o=r.x-this.x,a=r.y-this.y,s=this.a,u=this.b;return o*o/(s*s)+a*a/(u*u)},n.prototype.containsPoint=function(t,e){return this.normalizedDistance(t,e)<=1},n.prototype.intersectsWithLine=function(t){var e=[],r=this.a,o=this.b,a=t.start,s=t.end,u=t.vector(),c=a.diff(new l.Point(this.x,this.y)),h=new l.Point(u.x/(r*r),u.y/(o*o)),d=new l.Point(c.x/(r*r),c.y/(o*o)),g=u.dot(h),C=u.dot(d),A=C*C-g*(c.dot(d)-1);if(A<0)return null;if(A>0){var D=Math.sqrt(A),k=(-C-D)/g,O=(-C+D)/g;if((k<0||k>1)&&(O<0||O>1))return null;k>=0&&k<=1&&e.push(a.lerp(s,k)),O>=0&&O<=1&&e.push(a.lerp(s,O))}else{var F=-C/g;if(!(F>=0&&F<=1))return null;e.push(a.lerp(s,F))}return e},n.prototype.intersectsWithLineFromCenterToPoint=function(t,e){e===void 0&&(e=0);var r=l.Point.clone(t);e&&r.rotate(e,this.getCenter());var o,a=r.x-this.x,s=r.y-this.y;if(a===0)return o=this.bbox().getNearestPointToPoint(r),e?o.rotate(-e,this.getCenter()):o;var u=s/a,c=u*u,h=this.a*this.a,d=this.b*this.b,g=Math.sqrt(1/(1/h+c/d)),C=u*(g=a<0?-g:g);return o=new l.Point(this.x+g,this.y+C),e?o.rotate(-e,this.getCenter()):o},n.prototype.tangentTheta=function(t){var e,r,o=l.Point.clone(t),a=o.x,s=o.y,u=this.a,c=this.b,h=this.bbox().center,d=h.x,g=h.y,C=a>h.x+u/2,A=a<h.x-u/2;return C||A?e=u*u/(a-d)-u*u*(s-g)*((r=a>h.x?s-30:s+30)-g)/(c*c*(a-d))+d:r=c*c/(s-g)-c*c*(a-d)*((e=s>h.y?a+30:a-30)-d)/(u*u*(s-g))+g,new l.Point(e,r).theta(o)},n.prototype.scale=function(t,e){return this.a*=t,this.b*=e,this},n.prototype.rotate=function(t,e){var r=l.Rectangle.fromEllipse(this);r.rotate(t,e);var o=n.fromRect(r);return this.a=o.a,this.b=o.b,this.x=o.x,this.y=o.y,this},n.prototype.translate=function(t,e){var r=l.Point.create(t,e);return this.x+=r.x,this.y+=r.y,this},n.prototype.equals=function(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},n.prototype.clone=function(){return new n(this.x,this.y,this.a,this.b)},n.prototype.toJSON=function(){return{x:this.x,y:this.y,a:this.a,b:this.b}},n.prototype.serialize=function(){return this.x+" "+this.y+" "+this.a+" "+this.b},n}(zo),function(i){i.toStringTag="X6.Geometry."+i.name,i.isEllipse=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return(t==null||t===i.toStringTag)&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.a=="number"&&typeof e.b=="number"&&typeof e.inflate=="function"&&typeof e.normalizedDistance=="function"}}(l.Ellipse||(l.Ellipse={})),function(i){function n(t){return i.isEllipse(t)?t.clone():Array.isArray(t)?new i(t[0],t[1],t[2],t[3]):new i(t.x,t.y,t.a,t.b)}i.create=function(t,e,r,o){return t==null||typeof t=="number"?new i(t,e,r,o):n(t)},i.parse=n,i.fromRect=function(t){var e=t.center;return new i(e.x,e.y,t.width/2,t.height/2)}}(l.Ellipse||(l.Ellipse={})),l.Polyline=function(i){function n(t){var e=i.call(this)||this;if(t!=null){if(typeof t=="string")return n.parse(t);e.points=t.map(function(r){return l.Point.create(r)})}else e.points=[];return e}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){return this.points.length===0?null:this.points[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this.points.length===0?null:this.points[this.points.length-1]},enumerable:!1,configurable:!0}),n.prototype.scale=function(t,e,r){return r===void 0&&(r=new l.Point),this.points.forEach(function(o){return o.scale(t,e,r)}),this},n.prototype.rotate=function(t,e){return this.points.forEach(function(r){return r.rotate(t,e)}),this},n.prototype.translate=function(t,e){var r=l.Point.create(t,e);return this.points.forEach(function(o){return o.translate(r.x,r.y)}),this},n.prototype.bbox=function(){if(this.points.length===0)return new l.Rectangle;for(var t=1/0,e=-1/0,r=1/0,o=-1/0,a=this.points,s=0,u=a.length;s<u;s+=1){var c=a[s],h=c.x,d=c.y;h<t&&(t=h),h>e&&(e=h),d<r&&(r=d),d>o&&(o=d)}return new l.Rectangle(t,r,e-t,o-r)},n.prototype.closestPoint=function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},n.prototype.closestPointLength=function(t){var e=this.points,r=e.length;if(r===0||r===1)return 0;for(var o=0,a=0,s=1/0,u=0,c=r-1;u<c;u+=1){var h=new l.Line(e[u],e[u+1]),d=h.length(),g=h.closestPointNormalizedLength(t),C=h.pointAt(g).squaredDistance(t);C<s&&(s=C,a=o+g*d),o+=d}return a},n.prototype.closestPointNormalizedLength=function(t){var e=this.closestPointLength(t);if(e===0)return 0;var r=this.length();return r===0?0:e/r},n.prototype.closestPointTangent=function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},n.prototype.containsPoint=function(t){if(this.points.length===0)return!1;for(var e=l.Point.clone(t),r=e.x,o=e.y,a=this.points,s=a.length,u=s-1,c=0,h=0;h<s;h+=1){var d=a[u],g=a[h];if(e.equals(d))return!0;var C=new l.Line(d,g);if(C.containsPoint(t))return!0;if(o<=d.y&&o>g.y||o>d.y&&o<=g.y){var A=d.x-r>g.x-r?d.x-r:g.x-r;if(A>=0){var D=new l.Point(r+A,o),k=new l.Line(t,D);C.intersectsWithLine(k)&&(c+=1)}}u=h}return c%2==1},n.prototype.intersectsWithLine=function(t){for(var e=[],r=0,o=this.points.length-1;r<o;r+=1){var a=this.points[r],s=this.points[r+1],u=t.intersectsWithLine(new l.Line(a,s));u&&e.push(u)}return e.length>0?e:null},n.prototype.isDifferentiable=function(){for(var t=0,e=this.points.length-1;t<e;t+=1){var r=this.points[t],o=this.points[t+1];if(new l.Line(r,o).isDifferentiable())return!0}return!1},n.prototype.length=function(){for(var t=0,e=0,r=this.points.length-1;e<r;e+=1){var o=this.points[e],a=this.points[e+1];t+=o.distance(a)}return t},n.prototype.pointAt=function(t){var e=this.points,r=e.length;if(r===0)return null;if(r===1||t<=0)return e[0].clone();if(t>=1)return e[r-1].clone();var o=this.length()*t;return this.pointAtLength(o)},n.prototype.pointAtLength=function(t){var e=this.points,r=e.length;if(r===0)return null;if(r===1)return e[0].clone();var o=!0;t<0&&(o=!1,t=-t);for(var a=0,s=0,u=r-1;s<u;s+=1){var c=o?s:u-1-s,h=e[c],d=e[c+1],g=new l.Line(h,d),C=h.distance(d);if(t<=a+C)return g.pointAtLength((o?1:-1)*(t-a));a+=C}return(o?e[r-1]:e[0]).clone()},n.prototype.tangentAt=function(t){var e=this.points.length;if(e===0||e===1)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length()*t;return this.tangentAtLength(r)},n.prototype.tangentAtLength=function(t){var e=this.points,r=e.length;if(r===0||r===1)return null;var o,a=!0;t<0&&(a=!1,t=-t);for(var s=0,u=0,c=r-1;u<c;u+=1){var h=a?u:c-1-u,d=e[h],g=e[h+1],C=new l.Line(d,g),A=d.distance(g);if(C.isDifferentiable()){if(t<=s+A)return C.tangentAtLength((a?1:-1)*(t-s));o=C}s+=A}if(o){var D=a?1:0;return o.tangentAt(D)}return null},n.prototype.simplify=function(t){t===void 0&&(t={});var e=this.points;if(e.length<3)return this;for(var r=t.threshold||0,o=0;e[o+2];){var a=o+1,s=o+2,u=e[o],c=e[a],h=e[s];new l.Line(u,h).closestPoint(c).distance(c)<=r?e.splice(a,1):o+=1}return this},n.prototype.toHull=function(){var t=this.points,e=t.length;if(e===0)return new n;for(var r=t[0],o=1;o<e;o+=1)(t[o].y<r.y||t[o].y===r.y&&t[o].x>r.x)&&(r=t[o]);var a=[];for(o=0;o<e;o+=1){var s=r.theta(t[o]);s===0&&(s=360),a.push([t[o],o,s])}if(a.sort(function(Dt,ft){var At=Dt[2]-ft[2];return At===0&&(At=ft[1]-Dt[1]),At}),a.length>2){var u=a[a.length-1];a.unshift(u)}for(var c,h={},d=[],g=function(Dt){return Dt[0].toString()+"@"+Dt[1]};a.length!==0;){var C=a.pop(),A=C[0];if(!h[g(C)])for(var D=!1;!D;)if(d.length<2)d.push(C),D=!0;else{var k=d.pop(),O=k[0],F=d.pop(),B=F[0],z=B.cross(O,A);if(z<0)d.push(F),d.push(k),d.push(C),D=!0;else if(z===0){var Y=O.angleBetween(B,A);Math.abs(Y-180)<1e-10||O.equals(A)||B.equals(O)?(h[g(k)]=O,d.push(F)):Math.abs((Y+1)%360-1)<1e-10&&(d.push(F),a.push(k))}else h[g(k)]=O,d.push(F)}}d.length>2&&d.pop();for(var w=-1,Q=(o=0,d.length);o<Q;o+=1){var J=d[o][1];(c===void 0||J<c)&&(c=J,w=o)}var nt=[];if(w>0){var lt=d.slice(w),ut=d.slice(0,w);nt=lt.concat(ut)}else nt=d;var xt=[];for(o=0,Q=nt.length;o<Q;o+=1)xt.push(nt[o][0]);return new n(xt)},n.prototype.equals=function(t){var e=this;return t!=null&&t.points.length===this.points.length&&t.points.every(function(r,o){return r.equals(e.points[o])})},n.prototype.clone=function(){return new n(this.points.map(function(t){return t.clone()}))},n.prototype.toJSON=function(){return this.points.map(function(t){return t.toJSON()})},n.prototype.serialize=function(){return this.points.map(function(t){return t.x+", "+t.y}).join(" ")},n}(zo),function(i){i.toStringTag="X6.Geometry."+i.name,i.isPolyline=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return(t==null||t===i.toStringTag)&&typeof e.toHull=="function"&&typeof e.simplify=="function"}}(l.Polyline||(l.Polyline={})),function(i){i.parse=function(n){var t=n.trim();if(t==="")return new i;for(var e=[],r=t.split(/\s*,\s*|\s+/),o=0,a=r.length;o<a;o+=2)e.push({x:+r[o],y:+r[o+1]});return new i(e)}}(l.Polyline||(l.Polyline={})),l.Curve=function(i){function n(t,e,r,o){var a=i.call(this)||this;return a.PRECISION=3,a.start=l.Point.create(t),a.controlPoint1=l.Point.create(e),a.controlPoint2=l.Point.create(r),a.end=l.Point.create(o),a}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.bbox=function(){for(var t,e,r,o,a,s,u,c,h,d,g,C=this.start,A=this.controlPoint1,D=this.controlPoint2,k=this.end,O=C.x,F=C.y,B=A.x,z=A.y,Y=D.x,w=D.y,Q=k.x,J=k.y,nt=[],lt=[],ut=[[],[]],xt=0;xt<2;xt+=1)if(xt===0?(e=6*O-12*B+6*Y,t=-3*O+9*B-9*Y+3*Q,r=3*B-3*O):(e=6*F-12*z+6*w,t=-3*F+9*z-9*w+3*J,r=3*z-3*F),Math.abs(t)<1e-12){if(Math.abs(e)<1e-12)continue;(o=-r/e)>0&&o<1&&lt.push(o)}else u=e*e-4*r*t,c=Math.sqrt(u),u<0||((a=(-e+c)/(2*t))>0&&a<1&&lt.push(a),(s=(-e-c)/(2*t))>0&&s<1&&lt.push(s));for(var Dt=lt.length,ft=Dt;Dt;)h=(g=1-(o=lt[Dt-=1]))*g*g*O+3*g*g*o*B+3*g*o*o*Y+o*o*o*Q,ut[0][Dt]=h,d=g*g*g*F+3*g*g*o*z+3*g*o*o*w+o*o*o*J,ut[1][Dt]=d,nt[Dt]={X:h,Y:d};lt[ft]=0,lt[ft+1]=1,nt[ft]={X:O,Y:F},nt[ft+1]={X:Q,Y:J},ut[0][ft]=O,ut[1][ft]=F,ut[0][ft+1]=Q,ut[1][ft+1]=J,lt.length=ft+2,ut[0].length=ft+2,ut[1].length=ft+2,nt.length=ft+2;var At=Math.min.apply(null,ut[0]),Ot=Math.min.apply(null,ut[1]),Pt=Math.max.apply(null,ut[0]),It=Math.max.apply(null,ut[1]);return new l.Rectangle(At,Ot,Pt-At,It-Ot)},n.prototype.closestPoint=function(t,e){return e===void 0&&(e={}),this.pointAtT(this.closestPointT(t,e))},n.prototype.closestPointLength=function(t,e){e===void 0&&(e={});var r=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,r),r)},n.prototype.closestPointNormalizedLength=function(t,e){e===void 0&&(e={});var r=this.getOptions(e),o=this.closestPointLength(t,r);if(!o)return 0;var a=this.length(r);return a===0?0:o/a},n.prototype.closestPointT=function(t,e){e===void 0&&(e={});var r=this.getPrecision(e),o=this.getDivisions(e),a=Math.pow(10,-r),s=null,u=0,c=0,h=0,d=0,g=0,C=null,A=o.length,D=A>0?1/A:0;for(o.forEach(function(J,nt){var lt=J.start.distance(t),ut=J.end.distance(t),xt=lt+ut;(C==null||xt<C)&&(s=J,u=nt*D,c=(nt+1)*D,h=lt,d=ut,C=xt,g=J.endpointDistance())});;){var k=h?Math.abs(h-d)/h:0,O=d!=null?Math.abs(h-d)/d:0;if(k<a||O<a||!h||h<g*a||!d||d<g*a)return h<=d?u:c;var F=s.divide(.5);D/=2;var B=F[0].start.distance(t),z=F[0].end.distance(t),Y=B+z,w=F[1].start.distance(t),Q=F[1].end.distance(t);Y<=w+Q?(s=F[0],c-=D,h=B,d=z):(s=F[1],u+=D,h=w,d=Q)}},n.prototype.closestPointTangent=function(t,e){return e===void 0&&(e={}),this.tangentAtT(this.closestPointT(t,e))},n.prototype.containsPoint=function(t,e){return e===void 0&&(e={}),this.toPolyline(e).containsPoint(t)},n.prototype.divideAt=function(t,e){if(e===void 0&&(e={}),t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var r=this.tAt(t,e);return this.divideAtT(r)},n.prototype.divideAtLength=function(t,e){e===void 0&&(e={});var r=this.tAtLength(t,e);return this.divideAtT(r)},n.prototype.divide=function(t){return this.divideAtT(t)},n.prototype.divideAtT=function(t){var e=this.start,r=this.controlPoint1,o=this.controlPoint2,a=this.end;if(t<=0)return[new n(e,e,e,e),new n(e,r,o,a)];if(t>=1)return[new n(e,r,o,a),new n(a,a,a,a)];var s=this.getSkeletonPoints(t),u=s.startControlPoint1,c=s.startControlPoint2,h=s.divider,d=s.dividerControlPoint1,g=s.dividerControlPoint2;return[new n(e,u,c,h),new n(h,d,g,a)]},n.prototype.endpointDistance=function(){return this.start.distance(this.end)},n.prototype.getSkeletonPoints=function(t){var e=this.start,r=this.controlPoint1,o=this.controlPoint2,a=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:o.clone()};if(t>=1)return{startControlPoint1:r.clone(),startControlPoint2:o.clone(),divider:a.clone(),dividerControlPoint1:a.clone(),dividerControlPoint2:a.clone()};var s=new l.Line(e,r).pointAt(t),u=new l.Line(r,o).pointAt(t),c=new l.Line(o,a).pointAt(t),h=new l.Line(s,u).pointAt(t),d=new l.Line(u,c).pointAt(t);return{startControlPoint1:s,startControlPoint2:h,divider:new l.Line(h,d).pointAt(t),dividerControlPoint1:d,dividerControlPoint2:c}},n.prototype.getSubdivisions=function(t){t===void 0&&(t={});var e=this.getPrecision(t),r=[new n(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return r;for(var o=this.endpointDistance(),a=Math.pow(10,-e),s=0,u=function(){s+=1;var h=[];r.forEach(function(g){var C=g.divide(.5);h.push(C[0],C[1])});var d=h.reduce(function(g,C){return g+C.endpointDistance()},0);if(s>1&&(d!==0?(d-o)/d:0)<a)return{value:h};r=h,o=d};;){var c=u();if(typeof c=="object")return c.value}},n.prototype.length=function(t){return t===void 0&&(t={}),this.getDivisions(t).reduce(function(e,r){return e+r.endpointDistance()},0)},n.prototype.lengthAtT=function(t,e){if(e===void 0&&(e={}),t<=0)return 0;var r=e.precision===void 0?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:r})},n.prototype.pointAt=function(t,e){if(e===void 0&&(e={}),t<=0)return this.start.clone();if(t>=1)return this.end.clone();var r=this.tAt(t,e);return this.pointAtT(r)},n.prototype.pointAtLength=function(t,e){e===void 0&&(e={});var r=this.tAtLength(t,e);return this.pointAtT(r)},n.prototype.pointAtT=function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},n.prototype.isDifferentiable=function(){var t=this.start,e=this.controlPoint1,r=this.controlPoint2,o=this.end;return!(t.equals(e)&&e.equals(r)&&r.equals(o))},n.prototype.tangentAt=function(t,e){if(e===void 0&&(e={}),!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var r=this.tAt(t,e);return this.tangentAtT(r)},n.prototype.tangentAtLength=function(t,e){if(e===void 0&&(e={}),!this.isDifferentiable())return null;var r=this.tAtLength(t,e);return this.tangentAtT(r)},n.prototype.tangentAtT=function(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);var e=this.getSkeletonPoints(t),r=e.startControlPoint2,o=e.dividerControlPoint1,a=e.divider,s=new l.Line(r,o);return s.translate(a.x-r.x,a.y-r.y),s},n.prototype.getPrecision=function(t){return t===void 0&&(t={}),t.precision==null?this.PRECISION:t.precision},n.prototype.getDivisions=function(t){if(t===void 0&&(t={}),t.subdivisions!=null)return t.subdivisions;var e=this.getPrecision(t);return this.getSubdivisions({precision:e})},n.prototype.getOptions=function(t){return t===void 0&&(t={}),{precision:this.getPrecision(t),subdivisions:this.getDivisions(t)}},n.prototype.tAt=function(t,e){if(e===void 0&&(e={}),t<=0)return 0;if(t>=1)return 1;var r=this.getOptions(e),o=this.length(r)*t;return this.tAtLength(o,r)},n.prototype.tAtLength=function(t,e){e===void 0&&(e={});var r=!0;t<0&&(r=!1,t=-t);for(var o,a,s=this.getPrecision(e),u=this.getDivisions(e),c={precision:s,subdivisions:u},h=null,d=0,g=0,C=0,A=u.length,D=A>0?1/A:0,k=0;k<A;k+=1){var O=r?k:A-1-k,F=u[k],B=F.endpointDistance();if(t<=C+B){h=F,o=O*D,a=(O+1)*D,d=r?t-C:B+C-t,g=r?B+C-t:t-C;break}C+=B}if(h==null)return r?1:0;for(var z=this.length(c),Y=Math.pow(10,-s);;){if((z!==0?d/z:0)<Y)return o;if((z!==0?g/z:0)<Y)return a;var w=void 0,Q=void 0,J=h.divide(.5);D/=2;var nt=J[0].endpointDistance(),lt=J[1].endpointDistance();d<=nt?(h=J[0],a-=D,Q=nt-(w=d)):(h=J[1],o+=D,Q=lt-(w=d-nt)),d=w,g=Q}},n.prototype.toPoints=function(t){t===void 0&&(t={});var e=this.getDivisions(t),r=[e[0].start.clone()];return e.forEach(function(o){return r.push(o.end.clone())}),r},n.prototype.toPolyline=function(t){return t===void 0&&(t={}),new l.Polyline(this.toPoints(t))},n.prototype.scale=function(t,e,r){return this.start.scale(t,e,r),this.controlPoint1.scale(t,e,r),this.controlPoint2.scale(t,e,r),this.end.scale(t,e,r),this},n.prototype.rotate=function(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this},n.prototype.translate=function(t,e){return typeof t=="number"?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this},n.prototype.equals=function(t){return t!=null&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)},n.prototype.clone=function(){return new n(this.start,this.controlPoint1,this.controlPoint2,this.end)},n.prototype.toJSON=function(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}},n.prototype.serialize=function(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")},n}(zo),(Ya=l.Curve||(l.Curve={})).toStringTag="X6.Geometry."+Ya.name,Ya.isCurve=function(i){if(i==null)return!1;if(i instanceof Ya)return!0;var n=i[Symbol.toStringTag],t=i;try{if((n==null||n===Ya.toStringTag)&&l.Point.isPoint(t.start)&&l.Point.isPoint(t.controlPoint1)&&l.Point.isPoint(t.controlPoint2)&&l.Point.isPoint(t.end)&&typeof t.toPoints=="function"&&typeof t.toPolyline=="function")return!0}catch{return!1}return!1},function(i){function n(t){var e=t.length,r=[],o=[],a=2;r[0]=t[0]/a;for(var s=1;s<e;s+=1)o[s]=1/a,a=(s<e-1?4:3.5)-o[s],r[s]=(t[s]-r[s-1])/a;for(s=1;s<e;s+=1)r[e-s-1]-=o[e-s]*r[e-s];return r}i.throughPoints=function(t){if(t==null||Array.isArray(t)&&t.length<2)throw new Error("At least 2 points are required");for(var e=function(c){var h=c.map(function(F){return l.Point.clone(F)}),d=[],g=[],C=h.length-1;if(C===1)return d[0]=new l.Point((2*h[0].x+h[1].x)/3,(2*h[0].y+h[1].y)/3),g[0]=new l.Point(2*d[0].x-h[0].x,2*d[0].y-h[0].y),[d,g];for(var A=[],D=1;D<C-1;D+=1)A[D]=4*h[D].x+2*h[D+1].x;A[0]=h[0].x+2*h[1].x,A[C-1]=(8*h[C-1].x+h[C].x)/2;var k=n(A);for(D=1;D<C-1;D+=1)A[D]=4*h[D].y+2*h[D+1].y;A[0]=h[0].y+2*h[1].y,A[C-1]=(8*h[C-1].y+h[C].y)/2;var O=n(A);for(D=0;D<C;D+=1)d.push(new l.Point(k[D],O[D])),D<C-1?g.push(new l.Point(2*h[D+1].x-k[D+1],2*h[D+1].y-O[D+1])):g.push(new l.Point((h[C].x+k[C-1])/2,(h[C].y+O[C-1])/2));return[d,g]}(t),r=[],o=0,a=e[0].length;o<a;o+=1){var s=new l.Point(e[0][o].x,e[0][o].y),u=new l.Point(e[1][o].x,e[1][o].y);r.push(new i(t[o],s,u,t[o+1]))}return r}}(l.Curve||(l.Curve={}));var Ka=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.isVisible=!0,t.isSegment=!0,t.isSubpathStart=!1,t}return x(n,i),Object.defineProperty(n.prototype,"end",{get:function(){return this.endPoint},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end},enumerable:!1,configurable:!0}),n.prototype.closestPointT=function(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")},n.prototype.lengthAtT=function(t,e){if(t<=0)return 0;var r=this.length();return t>=1?r:r*t},n.prototype.divideAtT=function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")},n.prototype.pointAtT=function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")},n.prototype.tangentAtT=function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")},n}(zo),ro=function(i){function n(t,e){var r=i.call(this)||this;return l.Line.isLine(t)?r.endPoint=t.end.clone().round(2):r.endPoint=l.Point.create(t,e).round(2),r}return x(n,i),Object.defineProperty(n.prototype,"type",{get:function(){return"L"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"line",{get:function(){return new l.Line(this.start,this.end)},enumerable:!1,configurable:!0}),n.prototype.bbox=function(){return this.line.bbox()},n.prototype.closestPoint=function(t){return this.line.closestPoint(t)},n.prototype.closestPointLength=function(t){return this.line.closestPointLength(t)},n.prototype.closestPointNormalizedLength=function(t){return this.line.closestPointNormalizedLength(t)},n.prototype.closestPointTangent=function(t){return this.line.closestPointTangent(t)},n.prototype.length=function(){return this.line.length()},n.prototype.divideAt=function(t){var e=this.line.divideAt(t);return[new n(e[0]),new n(e[1])]},n.prototype.divideAtLength=function(t){var e=this.line.divideAtLength(t);return[new n(e[0]),new n(e[1])]},n.prototype.getSubdivisions=function(){return[]},n.prototype.pointAt=function(t){return this.line.pointAt(t)},n.prototype.pointAtLength=function(t){return this.line.pointAtLength(t)},n.prototype.tangentAt=function(t){return this.line.tangentAt(t)},n.prototype.tangentAtLength=function(t){return this.line.tangentAtLength(t)},n.prototype.isDifferentiable=function(){return this.previousSegment!=null&&!this.start.equals(this.end)},n.prototype.clone=function(){return new n(this.end)},n.prototype.scale=function(t,e,r){return this.end.scale(t,e,r),this},n.prototype.rotate=function(t,e){return this.end.rotate(t,e),this},n.prototype.translate=function(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this},n.prototype.equals=function(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)},n.prototype.toJSON=function(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}},n.prototype.serialize=function(){var t=this.end;return this.type+" "+t.x+" "+t.y},n}(Ka);(function(i){i.create=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.length,r=n[0];if(l.Line.isLine(r))return new i(r);if(l.Point.isPointLike(r))return e===1?new i(r):n.map(function(c){return new i(c)});if(e===2)return new i(+n[0],+n[1]);for(var o=[],a=0;a<e;a+=2){var s=+n[a],u=+n[a+1];o.push(new i(s,u))}return o}})(ro||(ro={}));var Rl=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"end",{get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return"Z"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"line",{get:function(){return new l.Line(this.start,this.end)},enumerable:!1,configurable:!0}),n.prototype.bbox=function(){return this.line.bbox()},n.prototype.closestPoint=function(t){return this.line.closestPoint(t)},n.prototype.closestPointLength=function(t){return this.line.closestPointLength(t)},n.prototype.closestPointNormalizedLength=function(t){return this.line.closestPointNormalizedLength(t)},n.prototype.closestPointTangent=function(t){return this.line.closestPointTangent(t)},n.prototype.length=function(){return this.line.length()},n.prototype.divideAt=function(t){var e=this.line.divideAt(t);return[e[1].isDifferentiable()?new ro(e[0]):this.clone(),new ro(e[1])]},n.prototype.divideAtLength=function(t){var e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new ro(e[0]):this.clone(),new ro(e[1])]},n.prototype.getSubdivisions=function(){return[]},n.prototype.pointAt=function(t){return this.line.pointAt(t)},n.prototype.pointAtLength=function(t){return this.line.pointAtLength(t)},n.prototype.tangentAt=function(t){return this.line.tangentAt(t)},n.prototype.tangentAtLength=function(t){return this.line.tangentAtLength(t)},n.prototype.isDifferentiable=function(){return!(!this.previousSegment||!this.subpathStartSegment)&&!this.start.equals(this.end)},n.prototype.scale=function(){return this},n.prototype.rotate=function(){return this},n.prototype.translate=function(){return this},n.prototype.equals=function(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)},n.prototype.clone=function(){return new n},n.prototype.toJSON=function(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}},n.prototype.serialize=function(){return this.type},n}(Ka);(function(i){i.create=function(){return new i}})(Rl||(Rl={}));var Il=function(i){function n(t,e){var r=i.call(this)||this;return r.isVisible=!1,r.isSubpathStart=!0,l.Line.isLine(t)||l.Curve.isCurve(t)?r.endPoint=t.end.clone().round(2):r.endPoint=l.Point.create(t,e).round(2),r}return x(n,i),Object.defineProperty(n.prototype,"start",{get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return"M"},enumerable:!1,configurable:!0}),n.prototype.bbox=function(){return null},n.prototype.closestPoint=function(){return this.end.clone()},n.prototype.closestPointLength=function(){return 0},n.prototype.closestPointNormalizedLength=function(){return 0},n.prototype.closestPointT=function(){return 1},n.prototype.closestPointTangent=function(){return null},n.prototype.length=function(){return 0},n.prototype.lengthAtT=function(){return 0},n.prototype.divideAt=function(){return[this.clone(),this.clone()]},n.prototype.divideAtLength=function(){return[this.clone(),this.clone()]},n.prototype.getSubdivisions=function(){return[]},n.prototype.pointAt=function(){return this.end.clone()},n.prototype.pointAtLength=function(){return this.end.clone()},n.prototype.pointAtT=function(){return this.end.clone()},n.prototype.tangentAt=function(){return null},n.prototype.tangentAtLength=function(){return null},n.prototype.tangentAtT=function(){return null},n.prototype.isDifferentiable=function(){return!1},n.prototype.scale=function(t,e,r){return this.end.scale(t,e,r),this},n.prototype.rotate=function(t,e){return this.end.rotate(t,e),this},n.prototype.translate=function(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this},n.prototype.clone=function(){return new n(this.end)},n.prototype.equals=function(t){return this.type===t.type&&this.end.equals(t.end)},n.prototype.toJSON=function(){return{type:this.type,end:this.end.toJSON()}},n.prototype.serialize=function(){var t=this.end;return this.type+" "+t.x+" "+t.y},n}(Ka);(function(i){i.create=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.length,r=n[0];if(l.Line.isLine(r))return new i(r);if(l.Curve.isCurve(r))return new i(r);if(l.Point.isPointLike(r)){if(e===1)return new i(r);for(var o=[],a=0;a<e;a+=1)a===0?o.push(new i(n[a])):o.push(new ro(n[a]));return o}if(e===2)return new i(+n[0],+n[1]);var s=[];for(a=0;a<e;a+=2){var u=+n[a],c=+n[a+1];a===0?s.push(new i(u,c)):s.push(new ro(u,c))}return s}})(Il||(Il={}));var jl=function(i){function n(t,e,r,o,a,s){var u=i.call(this)||this;return l.Curve.isCurve(t)?(u.controlPoint1=t.controlPoint1.clone().round(2),u.controlPoint2=t.controlPoint2.clone().round(2),u.endPoint=t.end.clone().round(2)):typeof t=="number"?(u.controlPoint1=new l.Point(t,e).round(2),u.controlPoint2=new l.Point(r,o).round(2),u.endPoint=new l.Point(a,s).round(2)):(u.controlPoint1=l.Point.create(t).round(2),u.controlPoint2=l.Point.create(e).round(2),u.endPoint=l.Point.create(r).round(2)),u}return x(n,i),Object.defineProperty(n.prototype,"type",{get:function(){return"C"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"curve",{get:function(){return new l.Curve(this.start,this.controlPoint1,this.controlPoint2,this.end)},enumerable:!1,configurable:!0}),n.prototype.bbox=function(){return this.curve.bbox()},n.prototype.closestPoint=function(t){return this.curve.closestPoint(t)},n.prototype.closestPointLength=function(t){return this.curve.closestPointLength(t)},n.prototype.closestPointNormalizedLength=function(t){return this.curve.closestPointNormalizedLength(t)},n.prototype.closestPointTangent=function(t){return this.curve.closestPointTangent(t)},n.prototype.length=function(){return this.curve.length()},n.prototype.divideAt=function(t,e){e===void 0&&(e={});var r=this.curve.divideAt(t,e);return[new n(r[0]),new n(r[1])]},n.prototype.divideAtLength=function(t,e){e===void 0&&(e={});var r=this.curve.divideAtLength(t,e);return[new n(r[0]),new n(r[1])]},n.prototype.divideAtT=function(t){var e=this.curve.divideAtT(t);return[new n(e[0]),new n(e[1])]},n.prototype.getSubdivisions=function(){return[]},n.prototype.pointAt=function(t){return this.curve.pointAt(t)},n.prototype.pointAtLength=function(t){return this.curve.pointAtLength(t)},n.prototype.tangentAt=function(t){return this.curve.tangentAt(t)},n.prototype.tangentAtLength=function(t){return this.curve.tangentAtLength(t)},n.prototype.isDifferentiable=function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,r=this.controlPoint2,o=this.end;return!(t.equals(e)&&e.equals(r)&&r.equals(o))},n.prototype.scale=function(t,e,r){return this.controlPoint1.scale(t,e,r),this.controlPoint2.scale(t,e,r),this.end.scale(t,e,r),this},n.prototype.rotate=function(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this},n.prototype.translate=function(t,e){return typeof t=="number"?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this},n.prototype.equals=function(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)},n.prototype.clone=function(){return new n(this.controlPoint1,this.controlPoint2,this.end)},n.prototype.toJSON=function(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}},n.prototype.serialize=function(){var t=this.controlPoint1,e=this.controlPoint2,r=this.end;return[this.type,t.x,t.y,e.x,e.y,r.x,r.y].join(" ")},n}(Ka);function Bl(i,n,t){return{x:i*Math.cos(t)-n*Math.sin(t),y:i*Math.sin(t)+n*Math.cos(t)}}function Ag(i,n,t,e,r,o){var a=.3333333333333333,s=2/3;return[a*i+s*t,a*n+s*e,a*r+s*t,a*o+s*e,r,o]}function Mg(i,n,t,e,r,o,a,s,u,c){var h,d,g,C,A,D=120*Math.PI/180,k=Math.PI/180*(+r||0),O=[];if(c)d=c[0],g=c[1],C=c[2],A=c[3];else{i=(h=Bl(i,n,-k)).x,n=h.y;var F=(i-(s=(h=Bl(s,u,-k)).x))/2,B=(n-(u=h.y))/2,z=F*F/(t*t)+B*B/(e*e);z>1&&(t*=z=Math.sqrt(z),e*=z);var Y=t*t,w=e*e,Q=(o===a?-1:1)*Math.sqrt(Math.abs((Y*w-Y*B*B-w*F*F)/(Y*B*B+w*F*F)));C=Q*t*B/e+(i+s)/2,A=Q*-e*F/t+(n+u)/2,d=Math.asin((n-A)/e),g=Math.asin((u-A)/e),d=i<C?Math.PI-d:d,g=s<C?Math.PI-g:g,d<0&&(d=2*Math.PI+d),g<0&&(g=2*Math.PI+g),a&&d>g&&(d-=2*Math.PI),!a&&g>d&&(g-=2*Math.PI)}var J=g-d;if(Math.abs(J)>D){var nt=g,lt=s,ut=u;g=d+D*(a&&g>d?1:-1),O=Mg(s=C+t*Math.cos(g),u=A+e*Math.sin(g),t,e,r,0,a,lt,ut,[g,nt,C,A])}J=g-d;var xt=Math.cos(d),Dt=Math.sin(d),ft=Math.cos(g),At=Math.sin(g),Ot=Math.tan(J/4),Pt=4/3*(t*Ot),It=4/3*(e*Ot),Vt=[i,n],Rt=[i+Pt*Dt,n-It*xt],Zt=[s+Pt*At,u-It*ft],de=[s,u];if(Rt[0]=2*Vt[0]-Rt[0],Rt[1]=2*Vt[1]-Rt[1],c)return[Rt,Zt,de].concat(O);for(var Qe=[],Ue=(O=[Rt,Zt,de].concat(O).join().split(",")).length,be=0;be<Ue;be+=1)Qe[be]=be%2?Bl(+O[be-1],+O[be],k).y:Bl(+O[be],+O[be+1],k).x;return Qe}function Kb(i){var n=function(A){if(!A)return null;var D=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+D+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+D+"]*,?["+D+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+D+"]*,?["+D+"]*","ig"),F={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},B=[];return A.replace(k,function(z,Y,w){var Q=[],J=Y.toLowerCase();w.replace(O,function(lt,ut){return ut&&Q.push(+ut),lt}),J==="m"&&Q.length>2&&(B.push(T([Y],Q.splice(0,2),!0)),J="l",Y=Y==="m"?"l":"L");for(var nt=F[J];Q.length>=nt&&(B.push(T([Y],Q.splice(0,nt),!0)),nt););return z}),B}(i);if(!n||!n.length)return[["M",0,0]];for(var t=0,e=0,r=0,o=0,a=[],s=0,u=n.length;s<u;s+=1){var c=[];a.push(c);var h=n[s],d=h[0];if(d!==d.toUpperCase())switch(c[0]=d.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+t,c[7]=+h[7]+e;break;case"V":c[1]=+h[1]+e;break;case"H":c[1]=+h[1]+t;break;case"M":r=+h[1]+t,o=+h[2]+e;for(var g=1,C=h.length;g<C;g+=1)c[g]=+h[g]+(g%2?t:e);break;default:for(g=1,C=h.length;g<C;g+=1)c[g]=+h[g]+(g%2?t:e)}else for(g=0,C=h.length;g<C;g+=1)c[g]=h[g];switch(c[0]){case"Z":t=+r,e=+o;break;case"H":t=c[1];break;case"V":e=c[1];break;case"M":r=c[c.length-2],o=c[c.length-1],t=c[c.length-2],e=c[c.length-1];break;default:t=c[c.length-2],e=c[c.length-1]}}return a}function Jb(i){var n=Kb(i),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function e(g,C,A){var D,k;if(!g)return["C",C.x,C.y,C.x,C.y,C.x,C.y];switch(g[0]in{T:1,Q:1}||(C.qx=null,C.qy=null),g[0]){case"M":C.X=g[1],C.Y=g[2];break;case"A":return parseFloat(g[1])===0||parseFloat(g[2])===0?["L",g[6],g[7]]:["C"].concat(Mg.apply(0,[C.x,C.y].concat(g.slice(1))));case"S":return A==="C"||A==="S"?(D=2*C.x-C.bx,k=2*C.y-C.by):(D=C.x,k=C.y),["C",D,k].concat(g.slice(1));case"T":return A==="Q"||A==="T"?(C.qx=2*C.x-C.qx,C.qy=2*C.y-C.qy):(C.qx=C.x,C.qy=C.y),["C"].concat(Ag(C.x,C.y,C.qx,C.qy,g[1],g[2]));case"Q":return C.qx=g[1],C.qy=g[2],["C"].concat(Ag(C.x,C.y,g[1],g[2],g[3],g[4]));case"H":return["L"].concat(g[1],C.y);case"V":return["L"].concat(C.x,g[1])}return g}function r(g,C){if(g[C].length>7){g[C].shift();for(var A=g[C];A.length;)o[C]="A",C+=1,g.splice(C,0,["C"].concat(A.splice(0,6)));g.splice(C,1),s=n.length}}for(var o=[],a="",s=n.length,u=0;u<s;u+=1){var c="";n[u]&&(c=n[u][0]),c!=="C"&&(o[u]=c,u>0&&(a=o[u-1])),n[u]=e(n[u],t,a),o[u]!=="A"&&c==="C"&&(o[u]="C"),r(n,u);var h=n[u],d=h.length;t.x=h[d-2],t.y=h[d-1],t.bx=parseFloat(h[d-4])||t.x,t.by=parseFloat(h[d-3])||t.y}return n[0][0]&&n[0][0]==="M"||n.unshift(["M",0,0]),n}function Zb(i){return Jb(i).map(function(n){return n.map(function(t){return typeof t=="string"?t:di(t,2)})}).join(",").split(",").join(" ")}(function(i){i.create=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.length,r=n[0];if(l.Curve.isCurve(r))return new i(r);if(l.Point.isPointLike(r)){if(e===3)return new i(n[0],n[1],n[2]);for(var o=[],a=0;a<e;a+=3)o.push(new i(n[a],n[a+1],n[a+2]));return o}if(e===6)return new i(n[0],n[1],n[2],n[3],n[4],n[5]);var s=[];for(a=0;a<e;a+=6)s.push(new i(n[a],n[a+1],n[a+2],n[a+3],n[a+4],n[a+5]));return s}})(jl||(jl={}));var qb=new RegExp("^[\\s\\dLMCZz,.]*$");function Qb(i){return typeof i=="string"&&qb.test(i)}function uh(i,n){return(i%n+n)%n}function Tg(i,n){n===void 0&&(n={});var t=[];return i&&i.length&&i.forEach(function(e){Array.isArray(e)?t.push({x:e[0],y:e[1]}):t.push({x:e.x,y:e.y})}),function(e,r,o,a,s){var u=[],c=e[e.length-1],h=r!=null&&r>0,d=r||0;if(a&&h){var g=(e=e.slice())[0],C=new l.Point(c.x+(g.x-c.x)/2,c.y+(g.y-c.y)/2);e.splice(0,0,C)}var A=e[0],D=1;for(o?u.push("M",A.x,A.y):u.push("L",A.x,A.y);D<(a?e.length:e.length-1);){var k=e[uh(D,e.length)],O=A.x-k.x,F=A.y-k.y;if(h&&(O!==0||F!==0)&&(s==null||s.indexOf(D-1)<0)){var B=Math.sqrt(O*O+F*F),z=O*Math.min(d,B/2)/B,Y=F*Math.min(d,B/2)/B,w=k.x+z,Q=k.y+Y;u.push("L",w,Q);for(var J=e[uh(D+1,e.length)];D<e.length-2&&Math.round(J.x-k.x)===0&&Math.round(J.y-k.y)===0;)J=e[uh(D+2,e.length)],D+=1;O=J.x-k.x,F=J.y-k.y,B=Math.max(1,Math.sqrt(O*O+F*F));var nt=O*Math.min(d,B/2)/B,lt=F*Math.min(d,B/2)/B,ut=k.x+nt,xt=k.y+lt;u.push("Q",k.x,k.y,ut,xt),k=new l.Point(ut,xt)}else u.push("L",k.x,k.y);A=k,D+=1}return a?u.push("Z"):u.push("L",c.x,c.y),u.map(function(Dt){return typeof Dt=="string"?Dt:+Dt.toFixed(3)}).join(" ")}(t,n.round,n.initialMove==null||n.initialMove,n.close,n.exclude)}function zl(i,n,t,e,r,o,a,s,u){if(r===void 0&&(r=0),o===void 0&&(o=0),a===void 0&&(a=0),t===0||e===0)return[];s-=i,u-=n,t=Math.abs(t),e=Math.abs(e);var c,h=-s/2,d=-u/2,g=Math.cos(r*Math.PI/180),C=Math.sin(r*Math.PI/180),A=g*h+C*d,D=-1*C*h+g*d,k=A*A,O=D*D,F=t*t,B=e*e,z=k/F+O/B;if(z>1)t=Math.sqrt(z)*t,e=Math.sqrt(z)*e,c=0;else{var Y=1;o===a&&(Y=-1),c=Y*Math.sqrt((F*B-F*O-B*k)/(F*O+B*k))}var w=c*t*D/e,Q=-1*c*e*A/t,J=g*w-C*Q+s/2,nt=C*w+g*Q+u/2,lt=Math.atan2((D-Q)/e,(A-w)/t)-Math.atan2(0,1),ut=lt>=0?lt:2*Math.PI+lt,xt=(lt=Math.atan2((-D-Q)/e,(-A-w)/t)-Math.atan2((D-Q)/e,(A-w)/t))>=0?lt:2*Math.PI+lt;a===0&&xt>0?xt-=2*Math.PI:a!==0&&xt<0&&(xt+=2*Math.PI);for(var Dt=2*xt/Math.PI,ft=Math.ceil(Dt<0?-1*Dt:Dt),At=xt/ft,Ot=8/3*Math.sin(At/4)*Math.sin(At/4)/Math.sin(At/2),Pt=g*t,It=g*e,Vt=C*t,Rt=C*e,Zt=Math.cos(ut),de=Math.sin(ut),Qe=-Ot*(Pt*de+Rt*Zt),Ue=-Ot*(Vt*de-It*Zt),be=0,Ie=0,ve=[],je=0;je<ft;je+=1){ut+=At,be=Pt*(Zt=Math.cos(ut))-Rt*(de=Math.sin(ut))+J,Ie=Vt*Zt+It*de+nt;var Rn=-Ot*(Pt*de+Rt*Zt),Te=-Ot*(Vt*de-It*Zt),Ge=6*je;ve[Ge]=Number(Qe+i),ve[Ge+1]=Number(Ue+n),ve[Ge+2]=Number(be-Rn+i),ve[Ge+3]=Number(Ie-Te+n),ve[Ge+4]=Number(be+i),ve[Ge+5]=Number(Ie+n),Qe=be+Rn,Ue=Ie+Te}return ve.map(function(Lr){return+Lr.toFixed(2)})}function _b(i,n,t,e,r,o,a,s,u){r===void 0&&(r=0),o===void 0&&(o=0),a===void 0&&(a=0);var c=[],h=zl(i,n,t,e,r,o,a,s,u);if(h!=null)for(var d=0,g=h.length;d<g;d+=6)c.push("C",h[d],h[d+1],h[d+2],h[d+3],h[d+4],h[d+5]);return c.join(" ")}function t1(i,n,t){for(var e,r=t.eol,o=t.baseSize,a=t.lineHeight,s=0,u={},c=n.length-1,h=0;h<=c;h+=1){var d=n[h],g=null;if(typeof d=="object"){var C=d.attrs,A=l.Vector.create("tspan",C);e=A.node;var D=d.t;r&&h===c&&(D+=r),e.textContent=D;var k=C.class;k&&A.addClass(k),t.includeAnnotationIndices&&A.attr("annotations",d.annotations.join(",")),(g=parseFloat(C["font-size"]))===void 0&&(g=o),g&&g>s&&(s=g)}else r&&h===c&&(d+=r),e=document.createTextNode(d||" "),o&&o>s&&(s=o);i.appendChild(e)}return s&&(u.maxFontSize=s),a?u.lineHeight=a:s&&(u.lineHeight=1.2*s),u}l.Path=function(i){function n(t){var e=i.call(this)||this;if(e.PRECISION=3,e.segments=[],Array.isArray(t))if(l.Line.isLine(t[0])||l.Curve.isCurve(t[0])){var r=null;t.forEach(function(o,a){a===0&&e.appendSegment(n.createSegment("M",o.start)),r==null||r.end.equals(o.start)||e.appendSegment(n.createSegment("M",o.start)),l.Line.isLine(o)?e.appendSegment(n.createSegment("L",o.end)):l.Curve.isCurve(o)&&e.appendSegment(n.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),r=o})}else t.forEach(function(o){o.isSegment&&e.appendSegment(o)});else t!=null&&(l.Line.isLine(t)?(e.appendSegment(n.createSegment("M",t.start)),e.appendSegment(n.createSegment("L",t.end))):l.Curve.isCurve(t)?(e.appendSegment(n.createSegment("M",t.start)),e.appendSegment(n.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):l.Polyline.isPolyline(t)?t.points&&t.points.length&&t.points.forEach(function(o,a){var s=a===0?n.createSegment("M",o):n.createSegment("L",o);e.appendSegment(s)}):t.isSegment&&e.appendSegment(t));return e}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var r=0;r<e;r+=1){var o=t[r];if(o.isVisible)return o.start}return t[e-1].end},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var r=e-1;r>=0;r-=1){var o=t[r];if(o.isVisible)return o.end}return t[e-1].end},enumerable:!1,configurable:!0}),n.prototype.moveTo=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.appendSegment((t=Il.create).call.apply(t,T([null],e,!1)))},n.prototype.lineTo=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.appendSegment((t=ro.create).call.apply(t,T([null],e,!1)))},n.prototype.curveTo=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.appendSegment((t=jl.create).call.apply(t,T([null],e,!1)))},n.prototype.arcTo=function(t,e,r,o,a,s,u){var c=this.end||new l.Point,h=typeof s=="number"?zl(c.x,c.y,t,e,r,o,a,s,u):zl(c.x,c.y,t,e,r,o,a,s.x,s.y);if(h!=null)for(var d=0,g=h.length;d<g;d+=6)this.curveTo(h[d],h[d+1],h[d+2],h[d+3],h[d+4],h[d+5]);return this},n.prototype.quadTo=function(t,e,r,o){var a=this.end||new l.Point,s=["M",a.x,a.y];if(typeof t=="number")s.push("Q",t,e,r,o);else{var u=e;s.push("Q",t.x,t.y,u.x,u.y)}var c=n.parse(s.join(" "));return this.appendSegment(c.segments.slice(1)),this},n.prototype.close=function(){return this.appendSegment(Rl.create())},n.prototype.drawPoints=function(t,e){e===void 0&&(e={});var r=Tg(t,e),o=n.parse(r);o&&o.segments&&this.appendSegment(o.segments)},n.prototype.bbox=function(){var t,e=this.segments,r=e.length;if(r===0)return null;for(var o=0;o<r;o+=1){var a=e[o];if(a.isVisible){var s=a.bbox();s!=null&&(t=t?t.union(s):s)}}if(t!=null)return t;var u=e[r-1];return new l.Rectangle(u.end.x,u.end.y,0,0)},n.prototype.appendSegment=function(t){var e,r=this.segments.length,o=r!==0?this.segments[r-1]:null;if(Array.isArray(t))for(var a=0,s=t.length;a<s;a+=1){var u=t[a];e=this.prepareSegment(u,o,null),this.segments.push(e),o=e}else t!=null&&t.isSegment&&(e=this.prepareSegment(t,o,null),this.segments.push(e));return this},n.prototype.insertSegment=function(t,e){var r,o=this.segments.length;if(t<0&&(t=o+t+1),t>o||t<0)throw new Error("Index out of range.");var a=null,s=null;if(o!==0&&(t>=1?s=(a=this.segments[t-1]).nextSegment:(a=null,s=this.segments[0])),Array.isArray(e))for(var u=0,c=e.length;u<c;u+=1){var h=e[u];r=this.prepareSegment(h,a,s),this.segments.splice(t+u,0,r),a=r}else r=this.prepareSegment(e,a,s),this.segments.splice(t,0,r);return this},n.prototype.removeSegment=function(t){var e=this.fixIndex(t),r=this.segments.splice(e,1)[0],o=r.previousSegment,a=r.nextSegment;return o&&(o.nextSegment=a),a&&(a.previousSegment=o),r.isSubpathStart&&a&&this.updateSubpathStartSegment(a),r},n.prototype.replaceSegment=function(t,e){var r,o=this.fixIndex(t),a=this.segments[o],s=a.previousSegment,u=a.nextSegment,c=a.isSubpathStart;if(Array.isArray(e)){this.segments.splice(t,1);for(var h=0,d=e.length;h<d;h+=1){var g=e[h];r=this.prepareSegment(g,s,u),this.segments.splice(t+h,0,r),s=r,c&&r.isSubpathStart&&(c=!1)}}else r=this.prepareSegment(e,s,u),this.segments.splice(o,1,r),c&&r.isSubpathStart&&(c=!1);c&&u&&this.updateSubpathStartSegment(u)},n.prototype.getSegment=function(t){var e=this.fixIndex(t);return this.segments[e]},n.prototype.fixIndex=function(t){var e=this.segments.length;if(e===0)throw new Error("Path has no segments.");for(var r=t;r<0;)r=e+r;if(r>=e||r<0)throw new Error("Index out of range.");return r},n.prototype.segmentAt=function(t,e){e===void 0&&(e={});var r=this.segmentIndexAt(t,e);return r?this.getSegment(r):null},n.prototype.segmentAtLength=function(t,e){e===void 0&&(e={});var r=this.segmentIndexAtLength(t,e);return r?this.getSegment(r):null},n.prototype.segmentIndexAt=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;var r=na(t,0,1),o=this.getOptions(e),a=this.length(o)*r;return this.segmentIndexAtLength(a,o)},n.prototype.segmentIndexAtLength=function(t,e){e===void 0&&(e={});var r=this.segments.length;if(r===0)return null;var o=!0;t<0&&(o=!1,t=-t);for(var a=this.getPrecision(e),s=this.getSubdivisions(e),u=0,c=null,h=0;h<r;h+=1){var d=o?h:r-1-h,g=this.segments[d],C=s[d],A=g.length({precision:a,subdivisions:C});if(g.isVisible){if(t<=u+A)return d;c=d}u+=A}return c},n.prototype.getSegmentSubdivisions=function(t){t===void 0&&(t={});for(var e=this.getPrecision(t),r=[],o=0,a=this.segments.length;o<a;o+=1){var s=this.segments[o].getSubdivisions({precision:e});r.push(s)}return r},n.prototype.updateSubpathStartSegment=function(t){for(var e=t.previousSegment,r=t;r&&!r.isSubpathStart;)r.subpathStartSegment=e!=null?e.subpathStartSegment:null,e=r,r=r.nextSegment},n.prototype.prepareSegment=function(t,e,r){t.previousSegment=e,t.nextSegment=r,e!=null&&(e.nextSegment=t),r!=null&&(r.previousSegment=t);var o=t;return t.isSubpathStart&&(t.subpathStartSegment=t,o=r),o!=null&&this.updateSubpathStartSegment(o),t},n.prototype.closestPoint=function(t,e){e===void 0&&(e={});var r=this.closestPointT(t,e);return r?this.pointAtT(r):null},n.prototype.closestPointLength=function(t,e){e===void 0&&(e={});var r=this.getOptions(e),o=this.closestPointT(t,r);return o?this.lengthAtT(o,r):0},n.prototype.closestPointNormalizedLength=function(t,e){e===void 0&&(e={});var r=this.getOptions(e),o=this.closestPointLength(t,r);if(o===0)return 0;var a=this.length(r);return a===0?0:o/a},n.prototype.closestPointT=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;for(var r,o=this.getPrecision(e),a=this.getSubdivisions(e),s=1/0,u=0,c=this.segments.length;u<c;u+=1){var h=this.segments[u],d=a[u];if(h.isVisible){var g=h.closestPointT(t,{precision:o,subdivisions:d}),C=Pg(h.pointAtT(g),t);C<s&&(r={segmentIndex:u,value:g},s=C)}}return r||{segmentIndex:this.segments.length-1,value:1}},n.prototype.closestPointTangent=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;for(var r,o=this.getPrecision(e),a=this.getSubdivisions(e),s=1/0,u=0,c=this.segments.length;u<c;u+=1){var h=this.segments[u],d=a[u];if(h.isDifferentiable()){var g=h.closestPointT(t,{precision:o,subdivisions:d}),C=Pg(h.pointAtT(g),t);C<s&&(r=h.tangentAtT(g),s=C)}}return r||null},n.prototype.containsPoint=function(t,e){e===void 0&&(e={});var r=this.toPolylines(e);if(!r)return!1;for(var o=0,a=0,s=r.length;a<s;a+=1)r[a].containsPoint(t)&&(o+=1);return o%2==1},n.prototype.pointAt=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var r=this.getOptions(e),o=this.length(r)*t;return this.pointAtLength(o,r)},n.prototype.pointAtLength=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;if(t===0)return this.start.clone();var r=!0;t<0&&(r=!1,t=-t);for(var o,a=this.getPrecision(e),s=this.getSubdivisions(e),u=0,c=0,h=this.segments.length;c<h;c+=1){var d=r?c:h-1-c,g=this.segments[d],C=s[d],A=g.length({precision:a,subdivisions:C});if(g.isVisible){if(t<=u+A)return g.pointAtLength((r?1:-1)*(t-u),{precision:a,subdivisions:C});o=g}u+=A}return o?r?o.end:o.start:this.segments[this.segments.length-1].end.clone()},n.prototype.pointAtT=function(t){var e=this.segments,r=e.length;if(r===0)return null;var o=t.segmentIndex;if(o<0)return e[0].pointAtT(0);if(o>=r)return e[r-1].pointAtT(1);var a=na(t.value,0,1);return e[o].pointAtT(a)},n.prototype.divideAt=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;var r=na(t,0,1),o=this.getOptions(e),a=this.length(o)*r;return this.divideAtLength(a,o)},n.prototype.divideAtLength=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o,a,s,u,c,h=this.getPrecision(e),d=this.getSubdivisions(e),g=0,C=0,A=this.segments.length;C<A;C+=1){var D=r?C:A-1-C,k=this.getSegment(D),O={precision:h,subdivisions:d[D]},F=k.length(O);if(k.isDifferentiable()&&(s=k,u=D,t<=g+F)){a=D,o=k.divideAtLength((r?1:-1)*(t-g),O);break}g+=F}if(!s)return null;o||(a=u,c=r?1:0,o=s.divideAtT(c));var B=this.clone(),z=a;B.replaceSegment(z,o);var Y=z,w=z+1,Q=z+2;o[0].isDifferentiable()||(B.removeSegment(Y),w-=1,Q-=1);var J=B.getSegment(w).start;B.insertSegment(w,n.createSegment("M",J)),Q+=1,o[1].isDifferentiable()||(B.removeSegment(Q-1),Q-=1);var nt=Q-Y-1;for(C=Q,A=B.segments.length;C<A;C+=1){var lt=this.getSegment(C-nt);if((k=B.getSegment(C)).type==="Z"&&!lt.subpathStartSegment.end.equals(k.subpathStartSegment.end)){var ut=n.createSegment("L",lt.end);B.replaceSegment(C,ut)}}return[new n(B.segments.slice(0,w)),new n(B.segments.slice(w))]},n.prototype.intersectsWithLine=function(t,e){e===void 0&&(e={});var r=this.toPolylines(e);if(r==null)return null;for(var o=null,a=0,s=r.length;a<s;a+=1){var u=r[a],c=t.intersect(u);c&&(o==null&&(o=[]),Array.isArray(c)?o.push.apply(o,c):o.push(c))}return o},n.prototype.isDifferentiable=function(){for(var t=0,e=this.segments.length;t<e;t+=1)if(this.segments[t].isDifferentiable())return!0;return!1},n.prototype.isValid=function(){var t=this.segments;return t.length===0||t[0].type==="M"},n.prototype.length=function(t){if(t===void 0&&(t={}),this.segments.length===0)return 0;for(var e=this.getSubdivisions(t),r=0,o=0,a=this.segments.length;o<a;o+=1){var s=this.segments[o],u=e[o];r+=s.length({subdivisions:u})}return r},n.prototype.lengthAtT=function(t,e){e===void 0&&(e={});var r=this.segments.length;if(r===0)return 0;var o=t.segmentIndex;if(o<0)return 0;var a=na(t.value,0,1);o>=r&&(o=r-1,a=1);for(var s=this.getPrecision(e),u=this.getSubdivisions(e),c=0,h=0;h<o;h+=1){var d=this.segments[h],g=u[h];c+=d.length({precision:s,subdivisions:g})}var C=this.segments[o],A=u[o];return c+=C.lengthAtT(a,{precision:s,subdivisions:A})},n.prototype.tangentAt=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;var r=na(t,0,1),o=this.getOptions(e),a=this.length(o)*r;return this.tangentAtLength(a,o)},n.prototype.tangentAtLength=function(t,e){if(e===void 0&&(e={}),this.segments.length===0)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o,a=this.getPrecision(e),s=this.getSubdivisions(e),u=0,c=0,h=this.segments.length;c<h;c+=1){var d=r?c:h-1-c,g=this.segments[d],C=s[d],A=g.length({precision:a,subdivisions:C});if(g.isDifferentiable()){if(t<=u+A)return g.tangentAtLength((r?1:-1)*(t-u),{precision:a,subdivisions:C});o=g}u+=A}if(o){var D=r?1:0;return o.tangentAtT(D)}return null},n.prototype.tangentAtT=function(t){var e=this.segments.length;if(e===0)return null;var r=t.segmentIndex;if(r<0)return this.segments[0].tangentAtT(0);if(r>=e)return this.segments[e-1].tangentAtT(1);var o=na(t.value,0,1);return this.segments[r].tangentAtT(o)},n.prototype.getPrecision=function(t){return t===void 0&&(t={}),t.precision==null?this.PRECISION:t.precision},n.prototype.getSubdivisions=function(t){if(t===void 0&&(t={}),t.segmentSubdivisions==null){var e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions},n.prototype.getOptions=function(t){return t===void 0&&(t={}),{precision:this.getPrecision(t),segmentSubdivisions:this.getSubdivisions(t)}},n.prototype.toPoints=function(t){t===void 0&&(t={});var e=this.segments,r=e.length;if(r===0)return null;for(var o=this.getSubdivisions(t),a=[],s=[],u=0;u<r;u+=1){var c=e[u];if(c.isVisible){var h=o[u];h.length>0?h.forEach(function(d){return s.push(d.start)}):s.push(c.start)}else s.length>0&&(s.push(e[u-1].end),a.push(s),s=[])}return s.length>0&&(s.push(this.end),a.push(s)),a},n.prototype.toPolylines=function(t){t===void 0&&(t={});var e=this.toPoints(t);return e?e.map(function(r){return new l.Polyline(r)}):null},n.prototype.scale=function(t,e,r){return this.segments.forEach(function(o){return o.scale(t,e,r)}),this},n.prototype.rotate=function(t,e){return this.segments.forEach(function(r){return r.rotate(t,e)}),this},n.prototype.translate=function(t,e){return typeof t=="number"?this.segments.forEach(function(r){return r.translate(t,e)}):this.segments.forEach(function(r){return r.translate(t)}),this},n.prototype.clone=function(){var t=new n;return this.segments.forEach(function(e){return t.appendSegment(e.clone())}),t},n.prototype.equals=function(t){if(t==null)return!1;var e=this.segments,r=t.segments,o=e.length;if(r.length!==o)return!1;for(var a=0;a<o;a+=1){var s=e[a],u=r[a];if(s.type!==u.type||!s.equals(u))return!1}return!0},n.prototype.toJSON=function(){return this.segments.map(function(t){return t.toJSON()})},n.prototype.serialize=function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(function(t){return t.serialize()}).join(" ")},n.prototype.toString=function(){return this.serialize()},n}(zo),function(i){i.toStringTag="X6.Geometry."+i.name,i.isPath=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return!(t!=null&&t!==i.toStringTag||!Array.isArray(e.segments)||typeof e.moveTo!="function"||typeof e.lineTo!="function"||typeof e.curveTo!="function")}}(l.Path||(l.Path={})),function(i){function n(t){for(var e,r,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(t==="M")return(e=Il.create).call.apply(e,T([null],a,!1));if(t==="L")return(r=ro.create).call.apply(r,T([null],a,!1));if(t==="C")return(o=jl.create).call.apply(o,T([null],a,!1));if(t==="z"||t==="Z")return Rl.create();throw new Error('Invalid path segment type "'+t+'"')}i.parse=function(t){if(!t)return new i;var e=new i,r=i.normalize(t).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(r!=null)for(var o=0,a=r.length;o<a;o+=1){var s=r[o].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g);if(s!=null){var u=s[0],c=s.slice(1).map(function(d){return+d}),h=n.call.apply(n,T([null,u],c,!1));e.appendSegment(h)}}return e},i.createSegment=n}(l.Path||(l.Path={})),function(i){i.normalize=Zb,i.isValid=Qb,i.drawArc=_b,i.drawPoints=Tg,i.arcToCurves=zl}(l.Path||(l.Path={})),l.Vector=function(){function i(n,t,e){if(!n)throw new TypeError("Invalid element to create vector");var r;if(i.isVector(n))r=n.node;else if(typeof n=="string")if(n.toLowerCase()==="svg")r=Ga();else if(n[0]==="<"){var o=Ga(n);r=document.importNode(o.firstChild,!0)}else r=document.createElementNS(yn.svg,n);else r=n;this.node=r,t&&this.setAttributes(t),e&&this.append(e)}return Object.defineProperty(i.prototype,Symbol.toStringTag,{get:function(){return i.toStringTag},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.node.nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.node.id},set:function(n){this.node.id=n},enumerable:!1,configurable:!0}),i.prototype.transform=function(n,t){return n==null?fi(this.node):(fi(this.node,n,t),this)},i.prototype.translate=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e={}),n==null?Ch(this.node):(Ch(this.node,n,t,e),this)},i.prototype.rotate=function(n,t,e,r){return r===void 0&&(r={}),n==null?Hl(this.node):(Hl(this.node,n,t,e,r),this)},i.prototype.scale=function(n,t){return n==null?bo(this.node):(bo(this.node,n,t),this)},i.prototype.getTransformToElement=function(n){var t=i.toNode(n);return mo(this.node,t)},i.prototype.removeAttribute=function(n){return rh(this.node,n),this},i.prototype.getAttribute=function(n){return vg(this.node,n)},i.prototype.setAttribute=function(n,t){return Ol(this.node,n,t),this},i.prototype.setAttributes=function(n){return oh(this.node,n),this},i.prototype.attr=function(n,t){return n==null?Se(this.node):typeof n=="string"&&t===void 0?Se(this.node,n):(typeof n=="object"?Se(this.node,n):Se(this.node,n,t),this)},i.prototype.svg=function(){return this.node instanceof SVGSVGElement?this:i.create(this.node.ownerSVGElement)},i.prototype.defs=function(){var n=this.svg()||this,t=n.node.getElementsByTagName("defs")[0];return t?i.create(t):i.create("defs").appendTo(n)},i.prototype.text=function(n,t){return t===void 0&&(t={}),ch(this.node,n,t),this},i.prototype.tagName=function(){return El(this.node)},i.prototype.clone=function(){return i.create(this.node.cloneNode(!0))},i.prototype.remove=function(){return no(this.node),this},i.prototype.empty=function(){return Ml(this.node),this},i.prototype.append=function(n){return _i(this.node,i.toNodes(n)),this},i.prototype.appendTo=function(n){return gg(this.node,i.isVector(n)?n.node:n),this},i.prototype.prepend=function(n){return fg(this.node,i.toNodes(n)),this},i.prototype.before=function(n){return Tl(this.node,i.toNodes(n)),this},i.prototype.replace=function(n){return this.node.parentNode&&this.node.parentNode.replaceChild(i.toNode(n),this.node),i.create(n)},i.prototype.first=function(){return this.node.firstChild?i.create(this.node.firstChild):null},i.prototype.last=function(){return this.node.lastChild?i.create(this.node.lastChild):null},i.prototype.get=function(n){var t=this.node.childNodes[n];return t?i.create(t):null},i.prototype.indexOf=function(n){return Array.prototype.slice.call(this.node.childNodes).indexOf(i.toNode(n))},i.prototype.find=function(n){var t=[],e=dg(this.node,n);if(e)for(var r=0,o=e.length;r<o;r+=1)t.push(i.create(e[r]));return t},i.prototype.findOne=function(n){var t=Pl(this.node,n);return t?i.create(t):null},i.prototype.findParentByClass=function(n,t){var e=th(this.node,n,t);return e?i.create(e):null},i.prototype.matches=function(n){var t=this.node;this.node.matches;var e=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return e&&e.call(t,n)},i.prototype.contains=function(n){return Al(this.node,i.isVector(n)?n.node:n)},i.prototype.wrap=function(n){var t=i.create(n),e=this.node.parentNode;return e!=null&&e.insertBefore(t.node,this.node),t.append(this)},i.prototype.parent=function(n){var t=this;if(t.node.parentNode==null)return null;if(t=i.create(t.node.parentNode),n==null)return t;do if(typeof n=="string"?t.matches(n):t instanceof n)return t;while(t=i.create(t.node.parentNode));return t},i.prototype.children=function(){for(var n=this.node.childNodes,t=[],e=0;e<n.length;e+=1)n[e].nodeType===1&&t.push(i.create(n[e]));return t},i.prototype.eachChild=function(n,t){for(var e=this.children(),r=0,o=e.length;r<o;r+=1)n.call(e[r],e[r],r,e),t&&e[r].eachChild(n,t);return this},i.prototype.index=function(){return Sl(this.node)},i.prototype.hasClass=function(n){return Qi(this.node,n)},i.prototype.addClass=function(n){return Ee(this.node,n),this},i.prototype.removeClass=function(n){return mr(this.node,n),this},i.prototype.toggleClass=function(n,t){return qc(this.node,n,t),this},i.prototype.toLocalPoint=function(n,t){return $g(this.node,n,t)},i.prototype.toGeometryShape=function(){return bh(this.node)},i.prototype.translateCenterToPoint=function(n){var t=this.getBBox({target:this.svg()}).getCenter();return this.translate(n.x-t.x,n.y-t.y),this},i.prototype.translateAndAutoOrient=function(n,t,e){return Ul(this.node,n,t,e),this},i.prototype.animate=function(n){return Wg(this.node,n)},i.prototype.animateTransform=function(n){return Xg(this.node,n)},i.prototype.animateAlongPath=function(n,t){return Jg(this.node,n,t)},i.prototype.normalizePath=function(){return this.tagName()==="path"&&this.attr("d",l.Path.normalize(this.attr("d"))),this},i.prototype.bbox=function(n,t){return Ug(this.node,n,t)},i.prototype.getBBox=function(n){return n===void 0&&(n={}),An(this.node,{recursive:n.recursive,target:n.target?i.toNode(n.target):null})},i.prototype.sample=function(n){return n===void 0&&(n=1),this.node instanceof SVGPathElement?ph(this.node,n):[]},i.prototype.toPath=function(){return i.create(fh(this.node))},i.prototype.toPathData=function(){return gh(this.node)},i}(),function(i){function n(r){if(r==null)return!1;if(r instanceof i)return!0;var o=r[Symbol.toStringTag],a=r;return(o==null||o===i.toStringTag)&&a.node instanceof SVGElement&&typeof a.animate=="function"&&typeof a.sample=="function"&&typeof a.normalizePath=="function"&&typeof a.toPath=="function"}function t(r,o,a){return new i(r,o,a)}function e(r){return n(r)?r.node:r}i.toStringTag="X6."+i.name,i.isVector=n,i.create=t,i.createVectors=function(r){if(r[0]==="<"){for(var o=Ga(r),a=[],s=0,u=o.childNodes.length;s<u;s+=1){var c=o.childNodes[s];a.push(t(document.importNode(c,!0)))}return a}return[t(r)]},i.toNode=e,i.toNodes=function(r){return Array.isArray(r)?r.map(function(o){return e(o)}):[e(r)]}}(l.Vector||(l.Vector={}));var Dg=/em$/;function Vl(i,n){var t=parseFloat(i);return Dg.test(i)?t*n:t}function ch(i,n,t){t===void 0&&(t={}),n=mg(n);var e=t.eol,r=t.textPath,o=t.textVerticalAnchor,a=o==="middle"||o==="bottom"||o==="top",s=t.x;s===void 0&&(s=i.getAttribute("x")||0);var u=t.includeAnnotationIndices,c=t.annotations;c&&!Array.isArray(c)&&(c=[c]);var h=t.lineHeight,d=h==="auto",g=d?"1.5em":h||"1em";Ml(i),Se(i,{"xml:space":"preserve",display:n||t.displayEmpty?null:"none"});var C,A,D=Se(i,"font-size"),k=parseFloat(D);k||(k=16,!a&&!c||D||Se(i,"font-size",""+k)),r?(typeof r=="string"&&(r={d:r}),C=function(ft,At){var Ot=l.Vector.create(At),Pt=l.Vector.create("textPath"),It=ft.d;if(It&&ft["xlink:href"]===void 0){var Vt=l.Vector.create("path").attr("d",It).appendTo(Ot.defs());Pt.attr("xlink:href","#"+Vt.id)}return typeof ft=="object"&&Pt.attr(ft),Pt.node}(r,i)):C=document.createDocumentFragment();for(var O,F=0,B=n.split(`
`),z=[],Y=B.length-1,w=0;w<=Y;w+=1){A=g;var Q="v-line",J=_n("tspan"),nt=void 0,lt=B[w];if(lt)if(c){var ut=(nt=t1(J,yg(lt,c,{offset:-F,includeAnnotationIndices:u}),{eol:w!==Y&&e,baseSize:k,lineHeight:d?null:g,includeAnnotationIndices:u})).lineHeight;ut&&d&&w!==0&&(A=ut),w===0&&(O=.8*nt.maxFontSize)}else e&&w!==Y&&(lt+=e),J.textContent=lt;else{J.textContent="-",Q+=" v-empty-line";var xt=J.style;xt.fillOpacity=0,xt.strokeOpacity=0,c&&(nt={})}nt&&z.push(nt),w>0&&J.setAttribute("dy",A),(w>0||r)&&J.setAttribute("x",s),J.className.baseVal=Q,C.appendChild(J),F+=lt.length+1}if(a)if(c)A=function(ft,At,Ot,Pt){if(!Array.isArray(At))return 0;var It=At.length;if(!It)return 0;for(var Vt=At[0],Rt=Vl(Vt.maxFontSize,Ot)||Ot,Zt=0,de=Vl(Pt,Ot),Qe=1;Qe<It;Qe+=1)Zt+=Vl((Vt=At[Qe]).lineHeight,Ot)||de;var Ue,be=Vl(Vt.maxFontSize,Ot)||Ot;switch(ft){case"middle":Ue=Rt/2-.15*be-Zt/2;break;case"bottom":Ue=-.25*be-Zt;break;default:case"top":Ue=.8*Rt}return Ue}(o,z,k,g);else if(o==="top")A="0.8em";else{var Dt=void 0;switch(Y>0?(Dt=parseFloat(g)||1,Dt*=Y,Dg.test(g)||(Dt/=k)):Dt=0,o){case"middle":A=.3-Dt/2+"em";break;case"bottom":A=-Dt-.3+"em"}}else o===0?A="0em":o?A=o:(A=0,i.getAttribute("y")==null&&i.setAttribute("y",""+(O||"0.8em")));C.firstChild.setAttribute("dy",A),i.appendChild(C)}function hh(i,n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=n.width,o=n.height,a=e.svgDocument||_n("svg"),s=_n("text"),u=_n("tspan"),c=document.createTextNode("");Se(s,t),s.appendChild(u),s.style.opacity="0",s.style.display="block",u.style.display="block",u.appendChild(c),a.appendChild(s);var h=a.parentNode==null;h&&document.body.appendChild(a);for(var d,g,C,A=e.eol||`
`,D=e.separator||" ",k=e.hyphen?new RegExp(e.hyphen):/[^\w\d]/,O=e.breakWord!==!1,F=[],B={},z=[],Y=function(Qe,Ue,be,Ie){var ve=[],je=[];if(Ue!=null){var Rn=Qe.split(Ue);if(ve.push.apply(ve,Rn),typeof Ue=="string")for(var Te=0,Ge=Rn.length-1;Te<Ge;Te+=1)je.push(Ue);else{var Lr=Qe.match(new RegExp(Ue,"g"));for(Te=0,Ge=Rn.length-1;Te<Ge;Te+=1)je.push(Lr?Lr[Te]:"")}}else{var mn="";for(Te=0,Ge=Qe.length;Te<Ge;Te+=1){var qt=Qe[Te];qt===" "?(ve.push(mn),je.push(" "),mn=""):qt.match(/[^\x00-\xff]/)?(mn.length&&(ve.push(mn),je.push("")),ve.push(qt),je.push(""),mn=""):mn+=qt}mn.length&&ve.push(mn)}for(Te=0;Te<ve.length;Te+=1)if((mn=ve[Te]).indexOf(be)>=0&&mn.length>1){for(var Hn=0,qh=(Rn=mn.split(be)).length-1;Hn<qh;Hn+=1)Rn.splice(2*Hn+1,0,be);var bu=Rn.filter(function(Cu){return Cu!==""});ve.splice.apply(ve,T([Te,1],bu,!1)),(Lr=bu.map(function(){return""})).pop(),je.splice.apply(je,T([Te,0],Lr,!1))}for(Te=0;Te<ve.length;Te+=1){var Pi=(mn=ve[Te]).search(Ie);Pi>0&&Pi<mn.length-1&&(ve.splice(Te,1,mn.substring(0,Pi+1),mn.substring(Pi+1)),je.splice(Te,0,""))}return{words:ve,separators:je}}(i,e.separator,A,k),w=Y.words,Q=Y.separators,J=0,nt=0,lt=w.length;J<lt;J+=1){var ut=w[J];if(ut)if(ut!==A){if(z[nt]!=null?(C=Q[J-1]||"",c.data=""+z[nt]+C+ut):c.data=ut,u.getComputedTextLength()<=r)z[nt]=c.data,B[nt]=Q[J],d&&(F[nt]=!0,nt+=1,d=0);else{if(O){if(!z[nt]||d){var xt=!!d,Dt=ut.length===1;if(d=ut.length-1,xt||Dt){if(Dt){if(!z[nt]){z=[];break}w.splice(J,2,ut+w[J+1]),Q.splice(J+1,1),F[nt]=!0,nt+=1,lt-=1,J-=1;continue}w[J]=ut.substring(0,d),w[J+1]=ut.substring(d)+w[J+1]}else w.splice(J,1,ut.substring(0,d),ut.substring(d)),Q.splice(J,0,""),lt+=1,nt&&!F[nt-1]&&(nt-=1);J-=1;continue}}else if(!z[nt]){z[nt]=ut,F[nt]=!0,nt+=1;continue}nt+=1,J-=1}if(o!=null){if(g==null){var ft=void 0;g=(ft=t.lineHeight==="auto"?{value:1.5,unit:"em"}:lg(t.lineHeight,["em"])||{value:1,unit:"em"}).value,ft.unit==="em"&&(l.Platform.IS_FIREFOX?g*=u.getBBox().height:g*=s.getBBox().height)}if(g*z.length>o){var At=Math.floor(o/g)-1,Ot=z[At],Pt=z[At+1];if(z.splice(At+1),Ot==null)break;var It=e.ellipsis;if(!It)break;typeof It!="string"&&(It="\u2026");var Vt=Ot;Pt&&O&&(Vt+=C+Pt);var Rt=Vt.length,Zt=void 0,de=void 0;do{if(de=Vt[Rt],Zt=Vt.substring(0,Rt),de?de.match(D)&&(Zt+=de):Zt+=B[At],Zt+=It,c.data=Zt,u.getComputedTextLength()<=r){z[At]=Zt;break}Rt-=1}while(Rt>=0);break}}}else F[nt]=!0,z[nt+=1]=""}return no(h?a:s),z.join(A)}var Gl=.551784;function Xn(i,n,t){t===void 0&&(t=NaN);var e=i.getAttribute(n);if(e==null)return t;var r=parseFloat(e);return Number.isNaN(r)?t:r}function ph(i,n){n===void 0&&(n=1);for(var t,e=i.getTotalLength(),r=[],o=0;o<e;)t=i.getPointAtLength(o),r.push({distance:o,x:t.x,y:t.y}),o+=n;return r}function Og(i){return["M",Xn(i,"x1"),Xn(i,"y1"),"L",Xn(i,"x2"),Xn(i,"y2")].join(" ")}function Ng(i){var n=Ja(i);return n.length===0?null:Lg(n)+" Z"}function kg(i){var n=Ja(i);return n.length===0?null:Lg(n)}function Lg(i){return"M "+i.map(function(n){return n.x+" "+n.y}).join(" L")}function Ja(i){var n=[],t=i.points;if(t)for(var e=0,r=t.numberOfItems;e<r;e+=1)n.push(t.getItem(e));return n}function Fg(i){var n=Xn(i,"cx",0),t=Xn(i,"cy",0),e=Xn(i,"r"),r=e*Gl;return["M",n,t-e,"C",n+r,t-e,n+e,t-r,n+e,t,"C",n+e,t+r,n+r,t+e,n,t+e,"C",n-r,t+e,n-e,t+r,n-e,t,"C",n-e,t-r,n-r,t-e,n,t-e,"Z"].join(" ")}function Rg(i){var n=Xn(i,"cx",0),t=Xn(i,"cy",0),e=Xn(i,"rx"),r=Xn(i,"ry")||e,o=e*Gl,a=r*Gl;return["M",n,t-r,"C",n+o,t-r,n+e,t-a,n+e,t,"C",n+e,t+a,n+o,t+r,n,t+r,"C",n-o,t+r,n-e,t+a,n-e,t,"C",n-e,t-a,n-o,t-r,n,t-r,"Z"].join(" ")}function Ig(i){return dh({x:Xn(i,"x",0),y:Xn(i,"y",0),width:Xn(i,"width",0),height:Xn(i,"height",0),rx:Xn(i,"rx",0),ry:Xn(i,"ry",0)})}function dh(i){var n=i.x,t=i.y,e=i.width,r=i.height,o=Math.min(i.rx||i["top-rx"]||0,e/2),a=Math.min(i.rx||i["bottom-rx"]||0,e/2),s=Math.min(i.ry||i["top-ry"]||0,r/2),u=Math.min(i.ry||i["bottom-ry"]||0,r/2);return(o||a||s||u?["M",n,t+s,"v",r-s-u,"a",a,u,0,0,0,a,u,"h",e-2*a,"a",a,u,0,0,0,a,-u,"v",-(r-u-s),"a",o,s,0,0,0,-o,-s,"h",-(e-2*o),"a",o,s,0,0,0,-o,s,"Z"]:["M",n,t,"H",n+e,"V",t+r,"H",n,"V",t,"Z"]).join(" ")}function fh(i){var n=_n("path");Se(n,Se(i));var t=gh(i);return t&&n.setAttribute("d",t),n}function gh(i){var n=i.tagName.toLowerCase();switch(n){case"path":return i.getAttribute("d");case"line":return Og(i);case"polygon":return Ng(i);case"polyline":return kg(i);case"ellipse":return Rg(i);case"circle":return Fg(i);case"rect":return Ig(i)}throw new Error('"'+n+'" cannot be converted to svg path element.')}function jg(i,n,t,e){var r=2*Math.PI-1e-6,o=i,a=n,s=t,u=e;if(u<s){var c=s;s=u,u=c}var h=u-s,d=h<Math.PI?"0":"1",g=Math.cos(s),C=Math.sin(s),A=Math.cos(u),D=Math.sin(u);return h>=r?o?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+o+"A"+o+","+o+" 0 1,0 0,"+-o+"A"+o+","+o+" 0 1,0 0,"+o+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":o?"M"+a*g+","+a*C+"A"+a+","+a+" 0 "+d+",1 "+a*A+","+a*D+"L"+o*A+","+o*D+"A"+o+","+o+" 0 "+d+",0 "+o*g+","+o*C+"Z":"M"+a*g+","+a*C+"A"+a+","+a+" 0 "+d+",1 "+a*A+","+a*D+"L0,0Z"}var Za=_n("svg"),e1=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,Bg=/[ ,]+/,n1=/^(\w+)\((.*)\)/;function vh(i,n){var t=Za.createSVGPoint();return t.x=i,t.y=n,t}function Pn(i){var n=Za.createSVGMatrix();if(i!=null){var t=i,e=n;for(var r in t)e[r]=t[r]}return n}function ra(i){return i!=null?(i instanceof DOMMatrix||(i=Pn(i)),Za.createSVGTransformFromMatrix(i)):Za.createSVGTransform()}function oa(i){var n=Pn(),t=i!=null&&i.match(e1);if(!t)return n;for(var e=0,r=t.length;e<r;e+=1){var o=t[e].match(n1);if(o){var a=void 0,s=void 0,u=void 0,c=void 0,h=void 0,d=Pn(),g=o[2].split(Bg);switch(o[1].toLowerCase()){case"scale":a=parseFloat(g[0]),s=g[1]===void 0?a:parseFloat(g[1]),d=d.scaleNonUniform(a,s);break;case"translate":u=parseFloat(g[0]),c=parseFloat(g[1]),d=d.translate(u,c);break;case"rotate":h=parseFloat(g[0]),u=parseFloat(g[1])||0,c=parseFloat(g[2])||0,d=u!==0||c!==0?d.translate(u,c).rotate(h).translate(-u,-c):d.rotate(h);break;case"skewx":h=parseFloat(g[0]),d=d.skewX(h);break;case"skewy":h=parseFloat(g[0]),d=d.skewY(h);break;case"matrix":d.a=parseFloat(g[0]),d.b=parseFloat(g[1]),d.c=parseFloat(g[2]),d.d=parseFloat(g[3]),d.e=parseFloat(g[4]),d.f=parseFloat(g[5]);break;default:continue}n=n.multiply(d)}}return n}function Vo(i){var n=i||{};return"matrix("+(n.a!=null?n.a:1)+","+(n.b!=null?n.b:0)+","+(n.c!=null?n.c:0)+","+(n.d!=null?n.d:1)+","+(n.e!=null?n.e:0)+","+(n.f!=null?n.f:0)+")"}function qa(i){var n,t,e;if(i){var r=Bg;if(i.trim().indexOf("matrix")>=0){var o=mh(oa(i));n=[o.translateX,o.translateY],t=[o.rotation],e=[o.scaleX,o.scaleY];var a=[];n[0]===0&&n[1]===0||a.push("translate("+n.join(",")+")"),e[0]===1&&e[1]===1||a.push("scale("+e.join(",")+")"),t[0]!==0&&a.push("rotate("+t[0]+")"),i=a.join(" ")}else{var s=i.match(/translate\((.*?)\)/);s&&(n=s[1].split(r));var u=i.match(/rotate\((.*?)\)/);u&&(t=u[1].split(r));var c=i.match(/scale\((.*?)\)/);c&&(e=c[1].split(r))}}var h=e&&e[0]?parseFloat(e[0]):1;return{raw:i||"",translation:{tx:n&&n[0]?parseInt(n[0],10):0,ty:n&&n[1]?parseInt(n[1],10):0},rotation:{angle:t&&t[0]?parseInt(t[0],10):0,cx:t&&t[1]?parseInt(t[1],10):void 0,cy:t&&t[2]?parseInt(t[2],10):void 0},scale:{sx:h,sy:e&&e[1]?parseFloat(e[1]):h}}}function yh(i,n){return{x:n.x*i.a+n.y*i.c+0,y:n.x*i.b+n.y*i.d+0}}function mh(i){var n=yh(i,{x:0,y:1}),t=yh(i,{x:1,y:0}),e=180/Math.PI*Math.atan2(n.y,n.x)-90;return{skewX:e,skewY:180/Math.PI*Math.atan2(t.y,t.x),translateX:i.e,translateY:i.f,scaleX:Math.sqrt(i.a*i.a+i.b*i.b),scaleY:Math.sqrt(i.c*i.c+i.d*i.d),rotation:e}}function zg(i){var n,t,e,r;return i?(n=i.a==null?1:i.a,r=i.d==null?1:i.d,t=i.b,e=i.c):n=r=1,{sx:t?Math.sqrt(n*n+t*t):n,sy:e?Math.sqrt(e*e+r*r):r}}function Vg(i){var n={x:0,y:1};return i&&(n=yh(i,n)),{angle:l.Angle.normalize(l.Angle.toDeg(Math.atan2(n.y,n.x))-90)}}function Gg(i){return{tx:i&&i.e||0,ty:i&&i.f||0}}function Ur(i,n){var t=vh(i.x,i.y).matrixTransform(n);return new l.Point(t.x,t.y)}function Hg(i,n){return new l.Line(Ur(i.start,n),Ur(i.end,n))}function tr(i,n){var t=Za.createSVGPoint();t.x=i.x,t.y=i.y;var e=t.matrixTransform(n);t.x=i.x+i.width,t.y=i.y;var r=t.matrixTransform(n);t.x=i.x+i.width,t.y=i.y+i.height;var o=t.matrixTransform(n);t.x=i.x,t.y=i.y+i.height;var a=t.matrixTransform(n),s=Math.min(e.x,r.x,o.x,a.x),u=Math.max(e.x,r.x,o.x,a.x),c=Math.min(e.y,r.y,o.y,a.y),h=Math.max(e.y,r.y,o.y,a.y);return new l.Rectangle(s,c,u-s,h-c)}function Ug(i,n,t){var e,r=i.ownerSVGElement;if(!r)return new l.Rectangle(0,0,0,0);try{e=i.getBBox()}catch{e={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}return n?l.Rectangle.create(e):tr(e,mo(i,t||r))}function An(i,n){var t;if(n===void 0&&(n={}),!i.ownerSVGElement||!Bo(i)){if(Ha(i)){var e=Zg(i),r=e.left,o=e.top,a=e.width,s=e.height;return new l.Rectangle(r,o,a,s)}return new l.Rectangle(0,0,0,0)}var u=n.target;if(!n.recursive){try{t=i.getBBox()}catch{t={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}return u?tr(t,mo(i,u)):l.Rectangle.create(t)}var c=i.childNodes,h=c.length;if(h===0)return An(i,{target:u});u||(u=i);for(var d=0;d<h;d+=1){var g=c[d],C=void 0;C=g.childNodes.length===0?An(g,{target:u}):An(g,{target:u,recursive:!0}),t=t?t.union(C):C}return t}function mo(i,n){if(Bo(n)&&Bo(i)){var t=n.getScreenCTM(),e=i.getScreenCTM();if(t&&e)return t.inverse().multiply(e)}return Pn()}function $g(i,n,t){var e=i instanceof SVGSVGElement?i:i.ownerSVGElement,r=e.createSVGPoint();r.x=n,r.y=t;try{var o=e.getScreenCTM(),a=r.matrixTransform(o.inverse()),s=mo(i,e).inverse();return a.matrixTransform(s)}catch{return r}}function bh(i){var n=function(r){var o=i.getAttribute(r),a=o?parseFloat(o):0;return Number.isNaN(a)?0:a};switch(i instanceof SVGElement&&i.nodeName.toLowerCase()){case"rect":return new l.Rectangle(n("x"),n("y"),n("width"),n("height"));case"circle":return new l.Ellipse(n("cx"),n("cy"),n("r"),n("r"));case"ellipse":return new l.Ellipse(n("cx"),n("cy"),n("rx"),n("ry"));case"polyline":var t=Ja(i);return new l.Polyline(t);case"polygon":return(t=Ja(i)).length>1&&t.push(t[0]),new l.Polyline(t);case"path":var e=i.getAttribute("d");return l.Path.isValid(e)||(e=l.Path.normalize(e)),l.Path.parse(e);case"line":return new l.Line(n("x1"),n("y1"),n("x2"),n("y2"))}return An(i)}function Wg(i,n){return Yg(i,n,"animate")}function Xg(i,n){return Yg(i,n,"animateTransform")}function Yg(i,n,t){var e=_n(t);i.appendChild(e);try{return Kg(e,n)}catch{}return function(){}}function Kg(i,n){var t=n.start,e=n.complete,r=n.repeat;Se(i,f(n,["start","complete","repeat"])),t&&i.addEventListener("beginEvent",t),e&&i.addEventListener("endEvent",e),r&&i.addEventListener("repeatEvent",r);var o=i;return setTimeout(function(){o.beginElement()}),function(){return o.endElement()}}function Jg(i,n,t){var e=Va(t),r=_n("animateMotion"),o=_n("mpath");Se(o,{"xlink:href":"#"+e}),r.appendChild(o),i.appendChild(r);try{return Kg(r,n)}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var a=r;a.animators=[];var s=window,u=a.getAttribute("id");u&&(s.id2anim[u]=a);for(var c=s.getTargets(a),h=0,d=c.length;h<d;h+=1){var g=c[h],C=new s.Animator(a,g,h);s.animators.push(C),a.animators[h]=C,C.register()}}}return function(){}}function Zg(i){var n=0,t=0,e=0,r=0;if(i){for(var o=i;o;)n+=o.offsetLeft,t+=o.offsetTop,(o=o.offsetParent)&&(n+=parseInt(Fl(o,"borderLeft"),10),t+=parseInt(Fl(o,"borderTop"),10));e=i.offsetWidth,r=i.offsetHeight}return{left:n,top:t,width:e,height:r}}function fi(i,n,t){if(t===void 0&&(t={}),n==null)return oa(Se(i,"transform"));if(t.absolute)i.setAttribute("transform",Vo(n));else{var e=i.transform,r=ra(n);e.baseVal.appendItem(r)}}function Ch(i,n,t,e){t===void 0&&(t=0),e===void 0&&(e={});var r=Se(i,"transform"),o=qa(r);if(n==null)return o.translation;r=(r=o.raw).replace(/translate\([^)]*\)/g,"").trim();var a="translate("+(e.absolute?n:o.translation.tx+n)+","+(e.absolute?t:o.translation.ty+t)+")";i.setAttribute("transform",(a+" "+r).trim())}function Hl(i,n,t,e,r){r===void 0&&(r={});var o=Se(i,"transform"),a=qa(o);if(n==null)return a.rotation;o=(o=a.raw).replace(/rotate\([^)]*\)/g,"").trim(),n%=360;var s="rotate("+(r.absolute?n:a.rotation.angle+n)+(t!=null&&e!=null?","+t+","+e:"")+")";i.setAttribute("transform",(o+" "+s).trim())}function bo(i,n,t){var e=Se(i,"transform"),r=qa(e);if(n==null)return r.scale;t=t==null?n:t,e=(e=r.raw).replace(/scale\([^)]*\)/g,"").trim();var o="scale("+n+","+t+")";i.setAttribute("transform",(e+" "+o).trim())}function Ul(i,n,t,e){var r=l.Point.create(n),o=l.Point.create(t);e||(e=i instanceof SVGSVGElement?i:i.ownerSVGElement);var a=bo(i);i.setAttribute("transform","");var s=An(i,{target:e}).scale(a.sx,a.sy),u=ra();u.setTranslate(-s.x-s.width/2,-s.y-s.height/2);var c=ra(),h=r.angleBetween(o,r.clone().translate(1,0));h&&c.setRotate(h,0,0);var d=ra(),g=r.clone().move(o,s.width/2);d.setTranslate(2*r.x-g.x,2*r.y-g.y);var C=mo(i,e),A=ra();A.setMatrix(d.matrix.multiply(c.matrix.multiply(u.matrix.multiply(C.scale(a.sx,a.sy))))),i.setAttribute("transform",Vo(A.matrix))}var xh=function(){function i(n,t,e){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=l.Platform.isEventSupported("wheel")?"wheel":"mousewheel",this.target=n,this.onWheelCallback=t,this.onWheelGuard=e,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}return i.prototype.enable=function(){l.Platform.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):I(this.target).on("mousewheel",this.onWheel)},i.prototype.disable=function(){l.Platform.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):I(this.target).off("mousewheel")},i.prototype.onWheel=function(n){var t,e=this;(this.onWheelGuard==null||this.onWheelGuard(n))&&(this.deltaX+=n.deltaX,this.deltaY+=n.deltaY,n.preventDefault(),this.deltaX===0&&this.deltaY===0||(n.stopPropagation(),t=!0),t===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(function(){e.didWheel(n)})))},i.prototype.didWheel=function(n){this.animationFrameId=0,this.onWheelCallback(n,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0},i}(),r1=l.Vector.isVector,o1=l.Vector.create,i1=l.Vector.createVectors,a1=Object.freeze({__proto__:null,requestAnimationFrame:kl,cancelAnimationFrame:Ll,CASE_SENSITIVE_ATTR:nh,getAttribute:vg,removeAttribute:rh,setAttribute:Ol,setAttributes:oh,attr:Se,qualifyAttr:ih,kebablizeAttrs:ta,styleToObject:Ua,mergeAttrs:Nl,uniqueId:hg,ensureId:Va,isSVGGraphicsElement:Bo,ns:yn,svgVersion:pg,createElement:Qc,createElementNS:wl,createSvgElement:_n,createSvgDocument:Ga,parseXML:_c,tagName:El,index:Sl,find:dg,findOne:Pl,findParentByClass:th,contains:Al,remove:no,empty:Ml,append:_i,prepend:fg,before:Tl,appendTo:gg,isHTMLElement:Ha,clickable:Dl,isInputElement:eh,getClass:hi,hasClass:Qi,addClass:Ee,removeClass:mr,toggleClass:qc,setPrefixedStyle:function(i,n,t){var e=xg(n);e!=null&&(i[e]=t),i[n]=t},getComputedStyle:Fl,hasScrollbars:function(i){var n=Fl(i);return n!=null&&(n.overflow==="scroll"||n.overflow==="auto")},getVendorPrefixedName:xg,clearSelection:Yb,text:ch,breakText:hh,KAPPA:Gl,sample:ph,lineToPathData:Og,polygonToPathData:Ng,polylineToPathData:kg,getPointsFromSvgElement:Ja,circleToPathData:Fg,ellipseToPathData:Rg,rectangleToPathData:Ig,rectToPathData:dh,toPath:fh,toPathData:gh,createSlicePathData:jg,bbox:Ug,getBBox:An,getBBoxByElementAttr:function(i){for(var n=i,t=n?n.tagName.toLowerCase():"";t==="g";)t=(n=n.firstElementChild)?n.tagName.toLowerCase():"";var e,r,o=function(a){var s=n.getAttribute(a),u=s?parseFloat(s):0;return Number.isNaN(u)?0:u};switch(t){case"rect":r=new l.Rectangle(o("x"),o("y"),o("width"),o("height"));break;case"circle":e=o("r"),r=new l.Rectangle(o("cx")-e,o("cy")-e,2*e,2*e)}return r},getMatrixByElementAttr:function(i,n){var t=Pn();if(Bo(n)&&Bo(i)){for(var e=i,r=[];e&&e!==n;){var o=oa(e.getAttribute("transform")||null);r.push(o),e=e.parentNode}r.reverse().forEach(function(a){t=t.multiply(a)})}return t},getTransformToElement:mo,toLocalPoint:$g,toGeometryShape:bh,getIntersection:function(i,n,t){var e=i instanceof SVGSVGElement?i:i.ownerSVGElement,r=An(t=t||e),o=r.getCenter();if(!r.intersectsWithLineFromCenterToPoint(n))return null;var a=null,s=i.tagName.toLowerCase();if(s==="rect"){var u=new l.Rectangle(parseFloat(i.getAttribute("x")||"0"),parseFloat(i.getAttribute("y")||"0"),parseFloat(i.getAttribute("width")||"0"),parseFloat(i.getAttribute("height")||"0")),c=mo(i,t),h=mh(c),d=e.createSVGTransform();d.setRotate(-h.rotation,o.x,o.y);var g=tr(u,d.matrix.multiply(c));a=l.Rectangle.create(g).intersectsWithLineFromCenterToPoint(n,h.rotation)}else if(s==="path"||s==="polygon"||s==="polyline"||s==="circle"||s==="ellipse"){for(var C=ph(s==="path"?i:fh(i)),A=1/0,D=[],k=0,O=C.length;k<O;k+=1){var F=C[k],B=vh(F.x,F.y);B=B.matrixTransform(mo(i,t));var z=l.Point.create(B),Y=z.distance(o),w=1.1*z.distance(n),Q=Y+w;Q<A?(A=Q,D=[{sample:F,refDistance:w}]):Q<A+1&&D.push({sample:F,refDistance:w})}D.sort(function(J,nt){return J.refDistance-nt.refDistance}),D[0]&&(a=l.Point.create(D[0].sample))}return a},animate:Wg,animateTransform:Xg,animateAlongPath:Jg,getBoundingOffsetRect:Zg,createSVGPoint:vh,createSVGMatrix:Pn,createSVGTransform:ra,transformStringToMatrix:oa,matrixToTransformString:Vo,parseTransformString:qa,decomposeMatrix:mh,matrixToScale:zg,matrixToRotation:Vg,matrixToTranslation:Gg,transformPoint:Ur,transformLine:Hg,transformPolyline:function(i,n){var t=i instanceof l.Polyline?i.points:i;return Array.isArray(t)||(t=[]),new l.Polyline(t.map(function(e){return Ur(e,n)}))},transformRectangle:tr,transform:fi,translate:Ch,rotate:Hl,scale:bo,translateAndAutoOrient:Ul,MouseWheelHandle:xh,isVector:r1,createVector:o1,createVectors:i1});function qg(i,n){var t=this;n===void 0&&(n=60);var e=null;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e&&clearTimeout(e),e=window.setTimeout(function(){i.apply(t,r)},n)}}var $l,Qa,Wl,wh,Eh,Sh,Ph,Qg,Ah,s1=typeof ResizeObserver<"u"?function(i){var n=null,t=[],e=qg(function(){t.forEach(function(o){o(i)})}),r=function(){n&&(n.disconnect(),t=[],n=null)};return{element:i,bind:function(o){var a;n||((a=new ResizeObserver(e)).observe(i),e(),n=a),t.indexOf(o)===-1&&t.push(o)},destroy:r,unbind:function(o){var a=t.indexOf(o);a!==-1&&t.splice(a,1),t.length===0&&n&&r()}}}:function(i){var n=null,t=[],e=qg(function(){t.forEach(function(o){return o(i)})}),r=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",e),n.parentNode.removeChild(n),n=null,t=[])};return{element:i,bind:function(o){n||(n=function(){getComputedStyle(i).position==="static"&&(i.style.position="relative");var a=document.createElement("object");return a.onload=function(){a.contentDocument.defaultView.addEventListener("resize",e),e()},a.style.display="block",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%",a.style.overflow="hidden",a.style.pointerEvents="none",a.style.zIndex="-1",a.style.opacity="0",a.setAttribute("tabindex","-1"),a.type="text/html",i.appendChild(a),a.data="about:blank",a}()),t.indexOf(o)===-1&&t.push(o)},destroy:r,unbind:function(o){var a=t.indexOf(o);a!==-1&&t.splice(a,1),t.length===0&&n&&r()}}};l.SizeSensor=void 0,function(i){var n=new WeakMap;function t(e){var r=n.get(e);return r||(r=s1(e),n.set(e,r),r)}i.bind=function(e,r){var o=t(e);return o.bind(r),function(){return o.unbind(r)}},i.clear=function(e){(function(r){r.destroy(),n.delete(r.element)})(t(e))}}(l.SizeSensor||(l.SizeSensor={})),l.Scheduler=void 0,$l=l.Scheduler||(l.Scheduler={}),Qa=[],Wl=[],wh=0,Eh=function(){return performance.now()},Sh=function(i){return i[0]},Ph=function(i){return Wl.push(i)===1&&Qg()},Qg=function(){var i=function(){var r,o;return(o=(r=Wl.splice(0,Wl.length))[0])===null||o===void 0?void 0:o.call(r)};if(typeof MessageChannel<"u"){var n=new MessageChannel,t=n.port1,e=n.port2;return t.onmessage=i,function(){return e.postMessage(null)}}return function(){return setTimeout(i)}}(),Ah=function(){wh=Eh()+16.666666666666668;for(var i=Sh(Qa);i&&!$l.shouldYield();){var n=i.callback,t=i.data;i.callback=null;var e=n&&n(t);e?i.callback=e:Qa.shift(),i=Sh(Qa)}i&&Ph(Ah)},$l.scheduleTask=function(i,n){var t={callback:i,data:n};Qa.push(t),Ph(Ah)},$l.shouldYield=function(){var i,n;return((n=(i=navigator)===null||i===void 0?void 0:i.scheduling)===null||n===void 0?void 0:n.isInputPending())||Eh()>=wh};var rn=function(){function i(n){this.options=y({},n),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}return Object.defineProperty(i.prototype,"names",{get:function(){return Object.keys(this.data)},enumerable:!1,configurable:!0}),i.prototype.register=function(n,t,e){var r=this;if(e===void 0&&(e=!1),typeof n!="object"){!this.exist(n)||e||l.Platform.isApplyingHMR()||this.onDuplicated(n);var o=this.options.process,a=o?Lt(o,this,n,t):t;return this.data[n]=a,a}Object.keys(n).forEach(function(s){r.register(s,n[s],t)})},i.prototype.unregister=function(n){var t=n?this.data[n]:null;return delete this.data[n],t},i.prototype.get=function(n){return n?this.data[n]:null},i.prototype.exist=function(n){return!!n&&this.data[n]!=null},i.prototype.onDuplicated=function(n){try{throw this.options.onConflict&&Lt(this.options.onConflict,this,n),new Error($i(this.options.type)+" with name '"+n+"' already registered.")}catch(t){throw t}},i.prototype.onNotFound=function(n,t){throw new Error(this.getSpellingSuggestion(n,t))},i.prototype.getSpellingSuggestion=function(n,t){var e=this.getSpellingSuggestionForName(n),r=t?t+" "+Bf(this.options.type):this.options.type;return $i(r)+" with name '"+n+"' does not exist."+(e?" Did you mean '"+e+"'?":"")},i.prototype.getSpellingSuggestionForName=function(n){return sg(n,Object.keys(this.data),function(t){return t})},i}();(function(i){i.create=function(n){return new i(n)}})(rn||(rn={}));var _g,tv,l1={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},ev={position:Xl("x","width","origin")},nv={position:Xl("y","height","origin")},u1={position:Xl("x","width","corner")},c1={position:Xl("y","height","corner")},rv={set:Go("width","width")},ov={set:Go("height","height")},h1={set:Go("rx","width")},p1={set:Go("ry","height")},iv={set:(_g=Go("r","width"),tv=Go("r","height"),function(i,n){var t=n.refBBox;return Lt(t.height>t.width?_g:tv,this,i,n)})},d1={set:function(i,n){var t=n.refBBox,e=parseFloat(i),r=Gr(i);r&&(e/=100);var o,a=Math.sqrt(t.height*t.height+t.width*t.width);return Number.isFinite(e)&&(o=r||e>=0&&e<=1?e*a:Math.max(e+a,0)),{r:o}}},f1={set:Go("cx","width")},g1={set:Go("cy","height")},av={set:uv({resetOffset:!0})},v1={set:uv({resetOffset:!1})},sv={set:cv({resetOffset:!0})},y1={set:cv({resetOffset:!1})},m1=iv,b1=av,C1=sv,x1=ev,w1=nv,E1=rv,S1=ov;function Xl(i,n,t){return function(e,r){var o=r.refBBox;if(e==null)return null;var a,s=parseFloat(e),u=Gr(e);if(u&&(s/=100),Number.isFinite(s)){var c=o[t];a=u||s>0&&s<1?c[i]+o[n]*s:c[i]+s}var h=new l.Point;return h[i]=a||0,h}}function Go(i,n){return function(t,e){var r=e.refBBox,o=parseFloat(t),a=Gr(t);a&&(o/=100);var s={};if(Number.isFinite(o)){var u=a||o>=0&&o<=1?o*r[n]:Math.max(o+r[n],0);s[i]=u}return s}}function lv(i,n){var t="x6-shape",e=n&&n.resetOffset;return function(r,o){var a=o.view,s=o.elem,u=o.refBBox,c=a.$(s),h=c.data(t);if(!h||h.value!==r){var d=i(r);h={value:r,shape:d,shapeBBox:d.bbox()},c.data(t,h)}var g=h.shape.clone(),C=h.shapeBBox.clone(),A=C.getOrigin(),D=u.getOrigin();C.x=D.x,C.y=D.y;var k=u.getMaxScaleToFit(C,D),O=C.width===0||u.width===0?1:k.sx,F=C.height===0||u.height===0?1:k.sy;return g.scale(O,F,A),e&&g.translate(-A.x,-A.y),g}}function uv(i){var n=lv(function(t){return l.Path.parse(t)},i);return function(t,e){return{d:n(t,e).serialize()}}}function cv(i){var n=lv(function(t){return new l.Polyline(t)},i);return function(t,e){return{points:n(t,e).serialize()}}}var P1={qualify:ar,set:function(i,n){return"url(#"+n.view.graph.defineGradient(i)+")"}},A1={qualify:ar,set:function(i,n){var t=n.view,e=t.cell,r=y({},i);if(e.isEdge()&&r.type==="linearGradient"){var o=t,a=o.sourcePoint,s=o.targetPoint;r.id="gradient-"+r.type+"-"+e.id,r.attrs=y(y({},r.attrs),{x1:a.x,y1:a.y,x2:s.x,y2:s.y,gradientUnits:"userSpaceOnUse"}),t.graph.defs.remove(r.id)}return"url(#"+t.graph.defineGradient(r)+")"}},hv={qualify:function(i,n){var t=n.attrs;return t.textWrap==null||!ar(t.textWrap)},set:function(i,n){var t=n.view,e=n.elem,r=n.attrs,o="x6-text",a=t.$(e),s=a.data(o),u=function(D){try{return JSON.parse(D)}catch{return D}},c={x:r.x,eol:r.eol,annotations:u(r.annotations),textPath:u(r["text-path"]||r.textPath),textVerticalAnchor:r["text-vertical-anchor"]||r.textVerticalAnchor,displayEmpty:(r["display-empty"]||r.displayEmpty)==="true",lineHeight:r["line-height"]||r.lineHeight},h=r["font-size"]||r.fontSize,d=JSON.stringify([i,c]);if(h&&e.setAttribute("font-size",h),s==null||s!==d){var g=c.textPath;if(g!=null&&typeof g=="object"){var C=g.selector;if(typeof C=="string"){var A=t.find(C)[0];A instanceof SVGPathElement&&(Va(A),c.textPath=y({"xlink:href":"#"+A.id},g))}}ch(e,""+i,c),a.data(o,d)}}},M1={qualify:ar,set:function(i,n){var t=n.view,e=n.elem,r=n.attrs,o=n.refBBox,a=i,s=a.width||0;Gr(s)?o.width*=parseFloat(s)/100:s<=0?o.width+=s:o.width=s;var u,c=a.height||0;Gr(c)?o.height*=parseFloat(c)/100:c<=0?o.height+=c:o.height=c;var h=a.text;h==null&&(h=r.text),u=h!=null?hh(""+h,o,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight},{svgDocument:t.graph.view.svg,ellipsis:a.ellipsis,hyphen:a.hyphen,breakWord:a.breakWord}):"",Lt(hv.set,this,u,{view:t,elem:e,attrs:r,refBBox:o,cell:t.cell})}},ia=function(i,n){return n.attrs.text!==void 0},T1={qualify:ia},D1={qualify:ia},O1={qualify:ia},N1={qualify:ia},k1={qualify:ia},L1={qualify:ia},F1={qualify:function(i,n){return n.elem instanceof SVGElement},set:function(i,n){var t=n.view,e=n.elem,r="x6-title",o=""+i,a=t.$(e),s=a.data(r);if(s==null||s!==o){a.data(r,o);var u=e.firstChild;if(u&&u.tagName.toUpperCase()==="TITLE")u.textContent=o;else{var c=document.createElementNS(e.namespaceURI,"title");c.textContent=o,e.insertBefore(c,u)}}}},R1={offset:pv("x","width","right")},I1={offset:pv("y","height","bottom")};function pv(i,n,t){return function(e,r){var o,a=r.refBBox,s=new l.Point;return o=e==="middle"?a[n]/2:e===t?a[n]:typeof e=="number"&&Number.isFinite(e)?e>-1&&e<1?-a[n]*e:-e:Gr(e)?a[n]*parseFloat(e)/100:0,s[i]=-(a[i]+o),s}}var j1={qualify:ar,set:function(i,n){var t=n.view,e=n.elem;t.$(e).css(i)}},B1={qualify:ar,set:function(i,n){return"url(#"+n.view.graph.defineFilter(i)+")"}};function Ho(i,n,t){var e,r;typeof n=="object"?(e=n.x,r=n.y):(e=n,r=t);var o=l.Path.parse(i),a=o.bbox();if(a){var s=-a.height/2-a.y,u=-a.width/2-a.x;typeof e=="number"&&(u-=e),typeof r=="number"&&(s-=r),o.translate(u,s)}return o.serialize()}function dv(i,n,t,e,r){e===void 0&&(e=3/4),r===void 0&&(r={});var o=i.size||10,a=i.width||o,s=i.height||o,u=new l.Path,c={};if(n)u.moveTo(a,0).lineTo(0,s/2).lineTo(a,s),c.fill="none";else{if(u.moveTo(0,s/2),u.lineTo(a,0),!t){var h=Jn(e,0,1);u.lineTo(a*h,s/2)}u.lineTo(a,s),u.close()}return y(y(y({},c),r),{tagName:"path",d:Ho(u.serialize(),{x:i.offset!=null?i.offset:-a/2})})}var Co,fv=function(i){var n=i.r,t=f(i,["r"]),e=n||5;return y(y({cx:e},t),{tagName:"circle",r:e})},z1=Object.freeze({__proto__:null,block:function(i){return dv({size:i.size,width:i.width,height:i.height,offset:i.offset},i.open===!0,!0,void 0,f(i,["size","width","height","offset","open"]))},classic:function(i){return dv({size:i.size,width:i.width,height:i.height,offset:i.offset},!1,!1,i.factor,f(i,["size","width","height","offset","factor"]))},diamond:function(i){var n=i.size,t=i.width,e=i.height,r=i.offset,o=f(i,["size","width","height","offset"]),a=n||10,s=t||a,u=e||a,c=new l.Path;return c.moveTo(0,u/2).lineTo(s/2,0).lineTo(s,u/2).lineTo(s/2,u).close(),y(y({},o),{tagName:"path",d:Ho(c.serialize(),r==null?-s/2:r)})},path:function(i){var n=i.d,t=i.offsetX,e=i.offsetY,r=f(i,["d","offsetX","offsetY"]);return y(y({},r),{tagName:"path",d:Ho(n,t,e)})},cross:function(i){var n=i.size,t=i.width,e=i.height,r=i.offset,o=f(i,["size","width","height","offset"]),a=n||10,s=t||a,u=e||a,c=new l.Path;return c.moveTo(0,0).lineTo(s,u).moveTo(0,u).lineTo(s,0),y(y({},o),{tagName:"path",fill:"none",d:Ho(c.serialize(),r||-s/2)})},async:function(i){var n=i.width,t=i.height,e=i.offset,r=i.open,o=i.flip,a=f(i,["width","height","offset","open","flip"]),s=t||6,u=n||10,c=r===!0,h=o===!0,d=y(y({},a),{tagName:"path"});h&&(s=-s);var g=new l.Path;return g.moveTo(0,s).lineTo(u,0),c?d.fill="none":(g.lineTo(u,s),g.close()),d.d=Ho(g.serialize(),{x:e||-u/2,y:s/2}),d},circle:fv,circlePlus:function(i){var n=i.r,t=f(i,["r"]),e=n||5,r=new l.Path;return r.moveTo(e,0).lineTo(e,2*e),r.moveTo(0,e).lineTo(2*e,e),{children:[y(y({},fv({r:e})),{fill:"none"}),y(y({},t),{tagName:"path",d:Ho(r.serialize(),-e)})]}},ellipse:function(i){var n=i.rx,t=i.ry,e=f(i,["rx","ry"]),r=n||5,o=t||5;return y(y({cx:r},e),{tagName:"ellipse",rx:r,ry:o})}});function Mh(i){return typeof i=="string"||ar(i)}(function(i){i.presets=z1,i.registry=rn.create({type:"marker"}),i.registry.register(i.presets,!0)})(Co||(Co={})),function(i){i.normalize=Ho}(Co||(Co={}));var V1={qualify:Mh,set:function(i,n){return Th("marker-start",i,n.view,n.attrs)}},G1={qualify:Mh,set:function(i,n){return Th("marker-end",i,n.view,n.attrs,{transform:"rotate(180)"})}},H1={qualify:Mh,set:function(i,n){return Th("marker-mid",i,n.view,n.attrs)}};function Th(i,n,t,e,r){var o;r===void 0&&(r={});var a=typeof n=="string"?{name:n}:n,s=a.name,u=a.args,c=f(a,["name","args"]),h=c;if(s&&typeof s=="string"){var d=Co.registry.get(s);if(!d)return Co.registry.onNotFound(s);h=d(y(y({},c),u))}var g=y(y(y({},function(C,A){var D={},k=C.stroke;typeof k=="string"&&(D.stroke=k,D.fill=k);var O=C.strokeOpacity;if(O==null&&(O=C["stroke-opacity"]),O==null&&(O=C.opacity),O!=null&&(D["stroke-opacity"]=O,D["fill-opacity"]=O),A!=="marker-mid"){var F=parseFloat(C.strokeWidth||C["stroke-width"]);if(Number.isFinite(F)&&F>1){var B=Math.ceil(F/2);D.refX=A==="marker-start"?B:-B}}return D}(e,i)),r),h);return(o={})[i]="url(#"+t.graph.defineMarker(g)+")",o}var _a=function(i,n){return n.view.cell.isEdge()},U1={qualify:_a,set:function(i,n){var t,e,r,o,a,s=n.view,u=i.reverse||!1,c=i.stubs||0;if(Number.isFinite(c)&&c!==0)if(u){var h;C=void 0,d=s.getConnectionLength()||0,c<0?(C=(d+c)/2,h=-c):(C=c,h=d-2*c),a=(o=(r=(e=(t=(g=s.getConnection())==null?void 0:g.divideAtLength(C))===null||t===void 0?void 0:t[1])===null||e===void 0?void 0:e.divideAtLength(h))===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.serialize()}else{var d,g,C=void 0;if(c<0?C=((d=s.getConnectionLength()||0)+c)/2:C=c,g=s.getConnection()){var A=g.divideAtLength(C),D=g.divideAtLength(-C);A&&D&&(a=A[0].serialize()+" "+D[1].serialize())}}return{d:a||s.getConnectionPathData()}}},gv={qualify:_a,set:Yl("getTangentAtLength",{rotate:!0})},$1={qualify:_a,set:Yl("getTangentAtLength",{rotate:!1})},vv={qualify:_a,set:Yl("getTangentAtRatio",{rotate:!0})},W1={qualify:_a,set:Yl("getTangentAtRatio",{rotate:!1})},X1=gv,Y1=vv;function Yl(i,n){var t={x:1,y:0};return function(e,r){var o,a,s=r.view,u=s[i](Number(e));return u?(a=n.rotate?u.vector().vectorAngle(t):0,o=u.start):(o=s.path.start,a=0),a===0?{transform:"translate("+o.x+","+o.y+"')"}:{transform:"translate("+o.x+","+o.y+"') rotate("+a+")"}}}var $r,K1=Object.freeze({__proto__:null,ref:{},refX:ev,refY:nv,refDx:u1,refDy:c1,refWidth:rv,refHeight:ov,refRx:h1,refRy:p1,refRInscribed:iv,refRCircumscribed:d1,refCx:f1,refCy:g1,refDResetOffset:av,refDKeepOffset:v1,refPointsResetOffset:sv,refPointsKeepOffset:y1,refR:m1,refD:b1,refPoints:C1,refX2:x1,refY2:w1,refWidth2:E1,refHeight2:S1,fill:P1,stroke:A1,text:hv,textWrap:M1,lineHeight:T1,textVerticalAnchor:D1,textPath:O1,annotations:N1,eol:k1,displayEmpty:L1,title:F1,xAlign:R1,yAlign:I1,resetOffset:{offset:function(i,n){var t=n.refBBox;return i?{x:-t.x,y:-t.y}:{x:0,y:0}}},style:j1,html:{set:function(i,n){var t=n.view,e=n.elem;t.$(e).html(""+i)}},filter:B1,port:{set:function(i){return i!=null&&typeof i=="object"&&i.id?i.id:i}},sourceMarker:V1,targetMarker:G1,vertexMarker:H1,connection:U1,atConnectionLengthKeepGradient:gv,atConnectionLengthIgnoreGradient:$1,atConnectionRatioKeepGradient:vv,atConnectionRatioIgnoreGradient:W1,atConnectionLength:X1,atConnectionRatio:Y1});(function(i){i.isValidDefinition=function(n,t,e){return!!(n!=null&&(typeof n=="string"||typeof n.qualify!="function"||Lt(n.qualify,this,t,e)))}})($r||($r={})),function(i){i.presets=y(y({},l1),K1),i.registry=rn.create({type:"attribute definition"}),i.registry.register(i.presets,!0)}($r||($r={}));var J1={color:"#aaaaaa",thickness:1,markup:"rect",update:function(i,n){var t=n.thickness*n.sx,e=n.thickness*n.sy;Se(i,{width:t,height:e,rx:t,ry:e,fill:n.color})}},Z1={color:"#aaaaaa",thickness:1,markup:"rect",update:function(i,n){var t=n.sx<=1?n.thickness*n.sx:n.thickness;Se(i,{width:t,height:t,rx:t,ry:t,fill:n.color})}},q1={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update:function(i,n){var t=n.width,e=n.height,r=n.thickness;Se(i,{d:t-r>=0&&e-r>=0?["M",t,0,"H0 M0 0 V0",e].join(" "):"M 0 0 0 0",stroke:n.color,"stroke-width":n.thickness})}},Q1=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update:function(i,n){var t=n.width,e=n.height,r=n.thickness;Se(i,{d:t-r>=0&&e-r>=0?["M",t,0,"H0 M0 0 V0",e].join(" "):"M 0 0 0 0",stroke:n.color,"stroke-width":n.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update:function(i,n){var t,e=n.factor||1,r=n.width*e,o=n.height*e,a=n.thickness;t=r-a>=0&&o-a>=0?["M",r,0,"H0 M0 0 V0",o].join(" "):"M 0 0 0 0",n.width=r,n.height=o,Se(i,{d:t,stroke:n.color,"stroke-width":n.thickness})}}],_1=Object.freeze({__proto__:null,dot:J1,fixedDot:Z1,mesh:q1,doubleMesh:Q1}),xo=function(){function i(){this.patterns={},this.root=l.Vector.create(Ga(),{width:"100%",height:"100%"},[_n("defs")]).node}return i.prototype.add=function(n,t){var e=this.root.childNodes[0];e&&e.appendChild(t),this.patterns[n]=t,l.Vector.create("rect",{width:"100%",height:"100%",fill:"url(#"+n+")"}).appendTo(this.root)},i.prototype.get=function(n){return this.patterns[n]},i.prototype.has=function(n){return this.patterns[n]!=null},i}();function Dh(i,n){return i!=null?i:n}function Vn(i,n){return i!=null&&Number.isFinite(i)?i:n}(function(i){i.presets=_1,i.registry=rn.create({type:"grid"}),i.registry.register(i.presets,!0)})(xo||(xo={}));var gi,tC=Object.freeze({__proto__:null,outline:function(i){i===void 0&&(i={});var n=Dh(i.color,"blue"),t=Vn(i.width,1),e=Vn(i.margin,2);return(`
    <filter>
      <feFlood flood-color="`+n+'" flood-opacity="'+Vn(i.opacity,1)+`" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="`+(e+t)+`" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="`+e+`" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `).trim()},highlight:function(i){i===void 0&&(i={});var n=Dh(i.color,"red"),t=Vn(i.blur,0),e=Vn(i.width,1);return(`
      <filter>
        <feFlood flood-color="`+n+'" flood-opacity="'+Vn(i.opacity,1)+`" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="`+e+`"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="`+t+`"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `).trim()},blur:function(i){i===void 0&&(i={});var n=Vn(i.x,2);return(`
    <filter>
      <feGaussianBlur stdDeviation="`+(i.y!=null&&Number.isFinite(i.y)?[n,i.y]:n)+`"/>
    </filter>
  `).trim()},dropShadow:function(i){i===void 0&&(i={});var n=Vn(i.dx,0),t=Vn(i.dy,0),e=Dh(i.color,"black"),r=Vn(i.blur,4),o=Vn(i.opacity,1);return"SVGFEDropShadowElement"in window?(`<filter>
         <feDropShadow stdDeviation="`+r+'" dx="'+n+'" dy="'+t+'" flood-color="'+e+'" flood-opacity="'+o+`" />
       </filter>`).trim():(`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="`+r+`" />
         <feOffset dx="`+n+'" dy="'+t+`" result="offsetblur" />
         <feFlood flood-color="`+e+`" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="`+o+`" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`).trim()},grayScale:function(i){i===void 0&&(i={});var n=Vn(i.amount,1),t=.7152-.7152*(1-n);return(`
    <filter>
      <feColorMatrix type="matrix" values="`+(.2126+.7874*(1-n))+" "+t+" "+(.0722-.0722*(1-n))+" 0 0 "+(.2126-.2126*(1-n))+" "+(.7152+.2848*(1-n))+" "+(.0722-.0722*(1-n))+" 0 0 "+(.2126-.2126*(1-n))+" "+t+" "+(.0722+.9278*(1-n))+` 0 0 0 0 0 1 0"/>
    </filter>
  `).trim()},sepia:function(i){i===void 0&&(i={});var n=Vn(i.amount,1);return(`
      <filter>
        <feColorMatrix type="matrix" values="`+(.393+.607*(1-n))+" "+(.769-.769*(1-n))+" "+(.189-.189*(1-n))+" 0 0 "+(.349-.349*(1-n))+" "+(.686+.314*(1-n))+" "+(.168-.168*(1-n))+" 0 0 "+(.272-.272*(1-n))+" "+(.534-.534*(1-n))+" "+(.131+.869*(1-n))+` 0 0 0 0 0 1 0"/>
      </filter>
    `).trim()},saturate:function(i){return i===void 0&&(i={}),(`
      <filter>
        <feColorMatrix type="saturate" values="`+(1-Vn(i.amount,1))+`"/>
      </filter>
    `).trim()},hueRotate:function(i){return i===void 0&&(i={}),(`
      <filter>
        <feColorMatrix type="hueRotate" values="`+Vn(i.angle,0)+`"/>
      </filter>
    `).trim()},invert:function(i){i===void 0&&(i={});var n=Vn(i.amount,1),t=1-n;return(`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="`+n+" "+t+`"/>
          <feFuncG type="table" tableValues="`+n+" "+t+`"/>
          <feFuncB type="table" tableValues="`+n+" "+t+`"/>
        </feComponentTransfer>
      </filter>
    `).trim()},brightness:function(i){i===void 0&&(i={});var n=Vn(i.amount,1);return(`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="`+n+`"/>
        <feFuncG type="linear" slope="`+n+`"/>
        <feFuncB type="linear" slope="`+n+`"/>
      </feComponentTransfer>
    </filter>
  `).trim()},contrast:function(i){i===void 0&&(i={});var n=Vn(i.amount,1),t=.5-n/2;return(`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="`+n+'" intercept="'+t+`"/>
        <feFuncG type="linear" slope="`+n+'" intercept="'+t+`"/>
        <feFuncB type="linear" slope="`+n+'" intercept="'+t+`"/>
      </feComponentTransfer>
    </filter>
  `).trim()}});(function(i){i.presets=tC,i.registry=rn.create({type:"filter"}),i.registry.register(i.presets,!0)})(gi||(gi={}));var aa,yv=function(i){var n=document.createElement("canvas"),t=i.width,e=i.height;n.width=2*t,n.height=e;var r=n.getContext("2d");return r.drawImage(i,0,0,t,e),r.translate(2*t,0),r.scale(-1,1),r.drawImage(i,0,0,t,e),n},mv=function(i){var n=document.createElement("canvas"),t=i.width,e=i.height;n.width=t,n.height=2*e;var r=n.getContext("2d");return r.drawImage(i,0,0,t,e),r.translate(0,2*e),r.scale(1,-1),r.drawImage(i,0,0,t,e),n},bv=function(i){var n=document.createElement("canvas"),t=i.width,e=i.height;n.width=2*t,n.height=2*e;var r=n.getContext("2d");return r.drawImage(i,0,0,t,e),r.setTransform(-1,0,0,-1,n.width,n.height),r.drawImage(i,0,0,t,e),r.setTransform(-1,0,0,1,n.width,0),r.drawImage(i,0,0,t,e),r.setTransform(1,0,0,-1,0,n.height),r.drawImage(i,0,0,t,e),n},eC=Object.freeze({__proto__:null,flipX:yv,flipY:mv,flipXY:bv,watermark:function(i,n){var t=i.width,e=i.height,r=document.createElement("canvas");r.width=3*t,r.height=3*e;for(var o=r.getContext("2d"),a=n.angle!=null?-n.angle:-20,s=l.Angle.toRad(a),u=r.width/4,c=r.height/4,h=0;h<4;h+=1)for(var d=0;d<4;d+=1)(h+d)%2>0&&(o.setTransform(1,0,0,1,(2*h-1)*u,(2*d-1)*c),o.rotate(s),o.drawImage(i,-t/2,-e/2,t,e));return r}});(function(i){i.presets=y({},eC),i.presets["flip-x"]=yv,i.presets["flip-y"]=mv,i.presets["flip-xy"]=bv,i.registry=rn.create({type:"background pattern"}),i.registry.register(i.presets,!0)})(aa||(aa={}));var lr={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track:function(i){lr.trackable=i}};l.Util=void 0,function(i){i.snapToGrid=lh,i.normalizeMarker=Ho,i.prefix=function(n){return lr.prefixCls+"-"+n}}(l.Util||(l.Util={})),function(i){i.makeTree=function(n,t,e,r){var o=this;r===void 0&&(r=[]);var a=typeof t.children=="function"?t.children(n):n[t.children||"children"];return e||(e=t.createNode(n),r.push(e)),Array.isArray(a)&&a.forEach(function(s){var u=t.createNode(s),c=t.createEdge(e,u);r.push(u,c),o.makeTree(s,t,u,r)}),r}}(l.Util||(l.Util={}));var Uo,Cv=l.Util.prefix("highlighted"),nC={highlight:function(i,n,t){Ee(n,t&&t.className||Cv)},unhighlight:function(i,n,t){mr(n,t&&t.className||Cv)}},xv=l.Util.prefix("highlight-opacity"),rC={highlight:function(i,n){Ee(n,xv)},unhighlight:function(i,n){mr(n,xv)}},oC={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},iC={highlight:function(i,n,t){var e=Uo.getHighlighterId(n,t);if(!Uo.hasCache(e)){t=kc({},t,oC);var r,o,a=l.Vector.create(n);try{r=a.toPathData()}catch{o=a.bbox(!0),r=dh(y(y({},t),o))}var s=_n("path");if(Se(s,y({d:r,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},t.attrs?ta(t.attrs):null)),i.isEdgeElement(n))Se(s,"d",i.getConnectionPathData());else{var u=a.getTransformToElement(i.container),c=t.padding;if(c){o==null&&(o=a.bbox(!0));var h=o.x+o.width/2,d=o.y+o.height/2;o=tr(o,u);var g=Math.max(o.width,1),C=Math.max(o.height,1),A=(g+c)/g,D=(C+c)/C,k=Pn({a:A,b:0,c:0,d:D,e:h-A*h,f:d-D*d});u=u.multiply(k)}fi(s,u)}Ee(s,l.Util.prefix("highlight-stroke"));var O=i.cell,F=function(){return Uo.removeHighlighter(e)};O.on("removed",F),O.model&&O.model.on("reseted",F),i.container.appendChild(s),Uo.setCache(e,s)}},unhighlight:function(i,n,t){Uo.removeHighlighter(Uo.getHighlighterId(n,t))}};(function(i){i.getHighlighterId=function(t,e){return Va(t),t.id+JSON.stringify(e)};var n={};i.setCache=function(t,e){n[t]=e},i.hasCache=function(t){return n[t]!=null},i.removeHighlighter=function(t){var e=n[t];e&&(no(e),delete n[t])}})(Uo||(Uo={}));var oo,aC=Object.freeze({__proto__:null,className:nC,opacity:rC,stroke:iC});function Oh(i,n){return n===void 0&&(n={}),new l.Point(Dr(n.x,i.width),Dr(n.y,i.height))}function Nh(i,n,t){return y({angle:n,position:i.toJSON()},t)}(function(i){i.check=function(n,t){if(typeof t.highlight!="function")throw new Error("Highlighter '"+n+"' is missing required `highlight()` method");if(typeof t.unhighlight!="function")throw new Error("Highlighter '"+n+"' is missing required `unhighlight()` method")}})(oo||(oo={})),function(i){i.presets=aC,i.registry=rn.create({type:"highlighter"}),i.registry.register(i.presets,!0)}(oo||(oo={}));function wv(i,n,t,e){var r=n.getCenter(),o=n.getTopCenter(),a=n.width/n.height,s=l.Ellipse.fromRect(n),u=i.length;return i.map(function(c,h){var d=t+e(h,u),g=o.clone().rotate(-d,r).scale(a,1,r),C=c.compensateRotate?-s.tangentTheta(g):0;return(c.dx||c.dy)&&g.translate(c.dx||0,c.dy||0),c.dr&&g.move(r,c.dr),Nh(g.round(),C,c)})}function ts(i,n,t,e){var r=new l.Line(n,t),o=i.length;return i.map(function(a,s){var u=a.strict,c=f(a,["strict"]),h=u||e.strict?(s+1)/(o+1):(s+.5)/o,d=r.pointAt(h);return(c.dx||c.dy)&&d.translate(c.dx||0,c.dy||0),Nh(d.round(),0,c)})}var $o,sC=Object.freeze({__proto__:null,absolute:function(i,n){return i.map(function(t){var e=t.x,r=t.y,o=t.angle;return Nh(Oh(n,{x:e,y:r}),o||0)})},ellipse:function(i,n,t){var e=t.start||0,r=t.step||20;return wv(i,n,e,function(o,a){return(o+.5-a/2)*r})},ellipseSpread:function(i,n,t){var e=t.start||0,r=t.step||360/i.length;return wv(i,n,e,function(o){return o*r})},line:function(i,n,t){return ts(i,Oh(n,t.start||n.getOrigin()),Oh(n,t.end||n.getCorner()),t)},left:function(i,n,t){return ts(i,n.getTopLeft(),n.getBottomLeft(),t)},right:function(i,n,t){return ts(i,n.getTopRight(),n.getBottomRight(),t)},top:function(i,n,t){return ts(i,n.getTopLeft(),n.getTopRight(),t)},bottom:function(i,n,t){return ts(i,n.getBottomLeft(),n.getBottomRight(),t)}});(function(i){i.presets=sC,i.registry=rn.create({type:"port layout"}),i.registry.register(i.presets,!0)})($o||($o={}));var lC={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Wo(i,n){var t=n||{},e=t.x,r=t.y,o=t.angle,a=t.attrs;return kc({},{angle:o,attrs:a,position:{x:e,y:r}},i,lC)}function Ev(i,n,t,e){var r,o,a,s,u=e.offset!=null?e.offset:15,c=n.getCenter().theta(i),h=Pv(n),d=0;return c<h[1]||c>h[2]?(r=".3em",o=u,a=0,s="start"):c<h[0]?(r="0",o=0,a=-u,t?(d=-90,s="start"):s="middle"):c<h[3]?(r=".3em",o=-u,a=0,s="end"):(r=".6em",o=0,a=u,t?(d=90,s="start"):s="middle"),Wo({position:{x:Math.round(o),y:Math.round(a)},angle:d,attrs:{".":{y:r,"text-anchor":s}}},e)}function Sv(i,n,t,e){var r,o,a,s,u=e.offset!=null?e.offset:15,c=n.getCenter().theta(i),h=Pv(n),d=0;return c<h[1]||c>h[2]?(r=".3em",o=-u,a=0,s="end"):c<h[0]?(r=".6em",o=0,a=u,t?(d=90,s="start"):s="middle"):c<h[3]?(r=".3em",o=u,a=0,s="start"):(r="0em",o=0,a=-u,t?(d=-90,s="start"):s="middle"),Wo({position:{x:Math.round(o),y:Math.round(a)},angle:d,attrs:{".":{y:r,"text-anchor":s}}},e)}function Pv(i){var n=i.getCenter(),t=n.theta(i.getTopLeft()),e=n.theta(i.getBottomLeft()),r=n.theta(i.getBottomRight());return[t,n.theta(i.getTopRight()),r,e]}function Av(i,n,t){var e,r=t.offset!=null?t.offset:20,o=new l.Point(0,0),a=-i.theta(o),s=".3em",u=a;return(a+90)%180==0?(e=n?"end":"middle",n||a!==-270||(s="0em")):a>-270&&a<-90?(e="start",u=a-180):e="end",Wo({position:i.clone().move(o,r).diff(i).round().round().toJSON(),angle:n?u:0,attrs:{".":{y:s,"text-anchor":e}}},t)}var vi,uC=Object.freeze({__proto__:null,manual:function(i,n,t){return Wo({position:n.getTopLeft()},t)},left:function(i,n,t){return Wo({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},t)},right:function(i,n,t){return Wo({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},t)},top:function(i,n,t){return Wo({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},t)},bottom:function(i,n,t){return Wo({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},t)},outside:function(i,n,t){return Ev(i,n,!1,t)},outsideOriented:function(i,n,t){return Ev(i,n,!0,t)},inside:function(i,n,t){return Sv(i,n,!1,t)},insideOriented:function(i,n,t){return Sv(i,n,!0,t)},radial:function(i,n,t){return Av(i.diff(n.getCenter()),!1,t)},radialOriented:function(i,n,t){return Av(i.diff(n.getCenter()),!0,t)}});(function(i){i.presets=uC,i.registry=rn.create({type:"port label layout"}),i.registry.register(i.presets,!0)})(vi||(vi={})),l.Color=function(){function i(n,t,e,r){return n==null?this.set(255,255,255,1):typeof n=="number"?this.set(n,t,e,r):typeof n=="string"?i.fromString(n)||this:Array.isArray(n)?this.set(n):void this.set(n.r,n.g,n.b,n.a==null?1:n.a)}return i.prototype.blend=function(n,t,e){this.set(n.r+(t.r-n.r)*e,n.g+(t.g-n.g)*e,n.b+(t.b-n.b)*e,n.a+(t.a-n.a)*e)},i.prototype.lighten=function(n){var t=i.lighten(this.toArray(),n);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]},i.prototype.darken=function(n){this.lighten(-n)},i.prototype.set=function(n,t,e,r){var o=Array.isArray(n)?n[0]:n,a=Array.isArray(n)?n[1]:t,s=Array.isArray(n)?n[2]:e,u=Array.isArray(n)?n[3]:r;return this.r=Math.round(Jn(o,0,255)),this.g=Math.round(Jn(a,0,255)),this.b=Math.round(Jn(s,0,255)),this.a=u==null?1:Jn(u,0,1),this},i.prototype.toHex=function(){var n=this;return"#"+["r","g","b"].map(function(t){var e=n[t].toString(16);return e.length<2?"0"+e:e}).join("")},i.prototype.toRGBA=function(){return this.toArray()},i.prototype.toHSLA=function(){return i.rgba2hsla(this.r,this.g,this.b,this.a)},i.prototype.toCSS=function(n){var t=this.r+","+this.g+","+this.b+",";return n?"rgb("+t+")":"rgba("+t+","+this.a+")"},i.prototype.toGrey=function(){return i.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)},i.prototype.toArray=function(){return[this.r,this.g,this.b,this.a]},i.prototype.toString=function(){return this.toCSS()},i}(),function(i){function n(h){return new i(T(T([],s(h),!0),[1],!1))}function t(h){var d=h.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(d){var g=d[1].split(/\s*,\s*/).map(function(C){return parseInt(C,10)});return new i(g)}return null}function e(h,d,g){g<0&&++g,g>1&&--g;var C=6*g;return C<1?h+(d-h)*C:2*g<1?d:3*g<2?h+(d-h)*(2/3-g)*6:h}function r(h){var d=h.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(d){var g=d[2].split(/\s*,\s*/),C=(parseFloat(g[0])%360+360)%360/360,A=parseFloat(g[1])/100,D=parseFloat(g[2])/100,k=g[3]==null?1:parseInt(g[3],10);return new i(o(C,A,D,k))}return null}function o(h,d,g,C){var A=Array.isArray(h)?h[0]:h,D=Array.isArray(h)?h[1]:d,k=Array.isArray(h)?h[2]:g,O=Array.isArray(h)?h[3]:C,F=k<=.5?k*(D+1):k+D-k*D,B=2*k-F;return[256*e(B,F,A+1/3),256*e(B,F,A),256*e(B,F,A-1/3),O==null?1:O]}function a(h){return new i(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),h?void 0:parseFloat(Math.random().toFixed(2)))}function s(h){var d=h.indexOf("#")===0?h:"#"+h,g=Number("0x"+d.substr(1));if(d.length!==4&&d.length!==7||Number.isNaN(g))throw new Error("Invalid hex color.");var C=d.length===4?4:8,A=(1<<C)-1,D=["b","g","r"].map(function(){var k=g&A;return g>>=C,C===4?17*k:k});return[D[2],D[1],D[0]]}function u(h,d,g){var C=function(A){return A.length<2?"0"+A:A};return""+C(h.toString(16))+C(d.toString(16))+C(g.toString(16))}function c(h,d){if(typeof h=="string"){var g=h[0]==="#",C=parseInt(g?h.substr(1):h,16),A=Jn((C>>16)+d,0,255),D=Jn((C>>8&255)+d,0,255);return(g?"#":"")+(Jn((255&C)+d,0,255)|D<<8|A<<16).toString(16)}var k=s(c(u(h[0],h[1],h[2]),d));return[k[0],k[1],k[2],h[3]]}i.fromArray=function(h){return new i(h)},i.fromHex=n,i.fromRGBA=t,i.fromHSLA=r,i.fromString=function(h){if(h.startsWith("#"))return n(h);if(h.startsWith("rgb"))return t(h);var d=i.named[h];return d?n(d):r(h)},i.makeGrey=function(h,d){return i.fromArray([h,h,h,d])},i.rgba2hsla=function(h,d,g,C){var A=Array.isArray(h)?h[0]:h,D=Array.isArray(h)?h[1]:d,k=Array.isArray(h)?h[2]:g,O=Array.isArray(h)?h[3]:C,F=Math.max(A,D,k),B=Math.min(A,D,k),z=(F+B)/2,Y=0,w=0;if(B!==F){var Q=F-B;switch(w=z>.5?Q/(2-F-B):Q/(F+B),F){case A:Y=(D-k)/Q+(D<k?6:0);break;case D:Y=(k-A)/Q+2;break;case k:Y=(A-D)/Q+4}Y/=6}return[Y,w,z,O==null?1:O]},i.hsla2rgba=o,i.random=a,i.randomHex=function(){for(var h="#",d=0;d<6;d+=1)h+="0123456789ABCDEF"[Math.floor(16*Math.random())];return h},i.randomRGBA=function(h){return a(h).toString()},i.invert=function(h,d){if(typeof h=="string"){var g=h[0]==="#",C=s(h),A=C[0],D=C[1],k=C[2];return d?.299*A+.587*D+.114*k>186?"#000000":"#ffffff":(g?"#":"")+u(255-A,255-D,255-k)}var O=h[0],F=h[1],B=h[2],z=h[3];return d?.299*O+.587*F+.114*B>186?[0,0,0,z]:[255,255,255,z]:[255-O,255-F,255-B,z]},i.lighten=function(h,d){return c(h,d)},i.darken=function(h,d){return c(h,-d)}}(l.Color||(l.Color={})),(l.Color||(l.Color={})).named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var es,Mv=function(){function i(){this.listeners={}}return i.prototype.on=function(n,t,e){return t==null||(this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(t,e)),this},i.prototype.once=function(n,t,e){var r=this,o=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r.off(n,o),es.call([t,e],a)};return this.on(n,o,this)},i.prototype.off=function(n,t,e){if(!(n||t||e))return this.listeners={},this;var r=this.listeners;return(n?[n]:Object.keys(r)).forEach(function(o){var a=r[o];if(a)if(t||e)for(var s=a.length-2;s>=0;s-=2)t&&a[s]!==t||e&&a[s+1]!==e||a.splice(s,2);else delete r[o]}),this},i.prototype.trigger=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r=!0;if(n!=="*"){var o=this.listeners[n];o!=null&&(r=es.call(T([],o,!0),t))}var a=this.listeners["*"];return a!=null?xl([r,es.call(T([],a,!0),T([n],t,!0))]):r},i.prototype.emit=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.trigger.apply(this,T([n],t,!1))},i}();(function(i){i.call=function(n,t){for(var e=[],r=0;r<n.length;r+=2){var o=bl(n[r],n[r+1],Array.isArray(t)?t:[t]);e.push(o)}return xl(e)}})(es||(es={})),l.Disposable=function(){function i(){}return Object.defineProperty(i.prototype,"disposed",{get:function(){return this._disposed===!0},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){this._disposed=!0},i}(),(l.Disposable||(l.Disposable={})).dispose=function(){return function(i,n,t){var e=t.value,r=i.__proto__;t.value=function(){this.disposed||(e.call(this),r.dispose.call(this))}}};var Tv,cC=function(){function i(n){this.callback=n}return Object.defineProperty(i.prototype,"disposed",{get:function(){return!this.callback},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){if(this.callback){var n=this.callback;this.callback=null,n()}},i}();l.DisposableSet=function(){function i(){this.isDisposed=!1,this.items=new Set}return Object.defineProperty(i.prototype,"disposed",{get:function(){return this.isDisposed},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(function(n){n.dispose()}),this.items.clear())},i.prototype.contains=function(n){return this.items.has(n)},i.prototype.add=function(n){this.items.add(n)},i.prototype.remove=function(n){this.items.delete(n)},i.prototype.clear=function(){this.items.clear()},i}(),(Tv=l.DisposableSet||(l.DisposableSet={})).from=function(i){var n=new Tv;return i.forEach(function(t){n.add(t)}),n},l.Basecoat=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n}(Mv),(l.Basecoat||(l.Basecoat={})).dispose=l.Disposable.dispose,Uc(l.Basecoat,l.Disposable);var sa,Kl,kh,Lh,Fh=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled===!0},enumerable:!1,configurable:!0}),n.prototype.enable=function(){delete this._disabled},n.prototype.disable=function(){this._disabled=!0},n}(l.Basecoat),Jl=function(i){function n(){var t=i.call(this)||this;return t.clear(),t}return x(n,i),n.prototype.clear=function(){this.map=new WeakMap,this.arr=[]},n.prototype.has=function(t){return this.map.has(t)},n.prototype.get=function(t){return this.map.get(t)},n.prototype.set=function(t,e){this.map.set(t,e),this.arr.push(t)},n.prototype.delete=function(t){var e=this.arr.indexOf(t);e>=0&&this.arr.splice(e,1);var r=this.map.get(t);return this.map.delete(t),r},n.prototype.each=function(t){var e=this;this.arr.forEach(function(r){var o=e.map.get(r);t(o,r)})},n.prototype.dispose=function(){this.clear()},P([l.Disposable.dispose()],n.prototype,"dispose",null),n}(l.Disposable);l.PriorityQueue=function(){function i(n){n===void 0&&(n={}),this.comparator=n.comparator||i.defaultComparator,this.index={},this.data=n.data||[],this.heapify()}return i.prototype.isEmpty=function(){return this.data.length===0},i.prototype.insert=function(n,t,e){var r={priority:n,value:t},o=this.data.length-1;return e&&(r.id=e,this.index[e]=o),this.data.push(r),this.bubbleUp(o),this},i.prototype.peek=function(){return this.data[0]?this.data[0].value:null},i.prototype.peekPriority=function(){return this.data[0]?this.data[0].priority:null},i.prototype.updatePriority=function(n,t){var e=this.index[n];if(e===void 0)throw new Error("Node with id '"+n+"' was not found in the heap.");var r=this.data,o=r[e].priority,a=this.comparator(t,o);a<0?(r[e].priority=t,this.bubbleUp(e)):a>0&&(r[e].priority=t,this.bubbleDown(e))},i.prototype.remove=function(){var n=this.data,t=n[0],e=n.pop();return delete this.index[n.length],n.length>0&&(n[0]=e,e.id&&(this.index[e.id]=0),this.bubbleDown(0)),t?t.value:null},i.prototype.heapify=function(){for(var n=0;n<this.data.length;n+=1)this.bubbleUp(n)},i.prototype.bubbleUp=function(n){for(var t,e,r=this.data,o=n;o>0&&(e=o-1>>>1,this.comparator(r[o].priority,r[e].priority)<0);){t=r[e],r[e]=r[o];var a=r[o].id;a!=null&&(this.index[a]=e),r[o]=t,(a=r[o].id)!=null&&(this.index[a]=o),o=e}},i.prototype.bubbleDown=function(n){for(var t=this.data,e=t.length-1,r=n;;){var o=1+(r<<1),a=o+1,s=r;if(o<=e&&this.comparator(t[o].priority,t[s].priority)<0&&(s=o),a<=e&&this.comparator(t[a].priority,t[s].priority)<0&&(s=a),s===r)break;var u=t[s];t[s]=t[r];var c=t[r].id;c!=null&&(this.index[c]=s),t[r]=u,(c=t[r].id)!=null&&(this.index[c]=r),r=s}},i}(),(l.PriorityQueue||(l.PriorityQueue={})).defaultComparator=function(i,n){return i-n},l.Dijkstra=void 0,(l.Dijkstra||(l.Dijkstra={})).run=function(i,n,t){t===void 0&&(t=function(g,C){return 1});var e={},r={},o={},a=new l.PriorityQueue;for(e[n]=0,Object.keys(i).forEach(function(g){g!==n&&(e[g]=1/0),a.insert(e[g],g,g)});!a.isEmpty();){var s=a.remove();o[s]=!0;for(var u=i[s]||[],c=0;c<u.length;c+=1){var h=u[c];if(!o[h]){var d=e[s]+t(s,h);d<e[h]&&(e[h]=d,r[h]=s,a.updatePriority(h,d))}}}return r},l.Timing=void 0,(sa=l.Timing||(l.Timing={})).linear=function(i){return i},sa.quad=function(i){return i*i},sa.cubic=function(i){return i*i*i},sa.inout=function(i){if(i<=0)return 0;if(i>=1)return 1;var n=i*i,t=n*i;return 4*(i<.5?t:3*(i-n)+t-.75)},sa.exponential=function(i){return Math.pow(2,10*(i-1))},sa.bounce=function(i){for(var n=0,t=1;;n+=t,t/=2)if(i>=(7-4*n)/11){var e=(11-6*n-11*i)/4;return-e*e+t*t}},function(i){i.decorators={reverse:function(n){return function(t){return 1-n(1-t)}},reflect:function(n){return function(t){return .5*(t<.5?n(2*t):2-n(2-2*t))}},clamp:function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),function(r){var o=n(r);return o<t?t:o>e?e:o}},back:function(n){return n===void 0&&(n=1.70158),function(t){return t*t*((n+1)*t-n)}},elastic:function(n){return n===void 0&&(n=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*n/3*t)}}}}(l.Timing||(l.Timing={})),function(i){function n(e){var r,o=e/1;return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(r=o-1.5/2.75)*r+.75:o<2.5/2.75?7.5625*(r=o-2.25/2.75)*r+.9375:7.5625*(r=o-2.625/2.75)*r+.984375}function t(e){return 1-n(1-e)}i.easeInSine=function(e){return-1*Math.cos(e*(Math.PI/2))+1},i.easeOutSine=function(e){return Math.sin(e*(Math.PI/2))},i.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},i.easeInQuad=function(e){return e*e},i.easeOutQuad=function(e){return e*(2-e)},i.easeInOutQuad=function(e){return e<.5?2*e*e:(4-2*e)*e-1},i.easeInCubic=function(e){return e*e*e},i.easeOutCubic=function(e){var r=e-1;return r*r*r+1},i.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},i.easeInQuart=function(e){return e*e*e*e},i.easeOutQuart=function(e){var r=e-1;return 1-r*r*r*r},i.easeInOutQuart=function(e){var r=e-1;return e<.5?8*e*e*e*e:1-8*r*r*r*r},i.easeInQuint=function(e){return e*e*e*e*e},i.easeOutQuint=function(e){var r=e-1;return 1+r*r*r*r*r},i.easeInOutQuint=function(e){var r=e-1;return e<.5?16*e*e*e*e*e:1+16*r*r*r*r*r},i.easeInExpo=function(e){return e===0?0:Math.pow(2,10*(e-1))},i.easeOutExpo=function(e){return e===1?1:1-Math.pow(2,-10*e)},i.easeInOutExpo=function(e){if(e===0||e===1)return e;var r=2*e,o=r-1;return r<1?.5*Math.pow(2,10*o):.5*(2-Math.pow(2,-10*o))},i.easeInCirc=function(e){var r=e/1;return-1*(Math.sqrt(1-r*e)-1)},i.easeOutCirc=function(e){var r=e-1;return Math.sqrt(1-r*r)},i.easeInOutCirc=function(e){var r=2*e,o=r-2;return r<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-o*o)+1)},i.easeInBack=function(e,r){return r===void 0&&(r=1.70158),e*e*((r+1)*e-r)},i.easeOutBack=function(e,r){r===void 0&&(r=1.70158);var o=e/1-1;return o*o*((r+1)*o+r)+1},i.easeInOutBack=function(e,r){r===void 0&&(r=1.70158);var o=2*e,a=o-2,s=1.525*r;return o<1?.5*o*o*((s+1)*o-s):.5*(a*a*((s+1)*a+s)+2)},i.easeInElastic=function(e,r){if(r===void 0&&(r=.7),e===0||e===1)return e;var o=e/1-1,a=1-r,s=a/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*o)*Math.sin((o-s)*(2*Math.PI)/a)},i.easeOutElastic=function(e,r){r===void 0&&(r=.7);var o=1-r,a=2*e;if(e===0||e===1)return e;var s=o/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*a)*Math.sin((a-s)*(2*Math.PI)/o)+1},i.easeInOutElastic=function(e,r){r===void 0&&(r=.65);var o=1-r;if(e===0||e===1)return e;var a=2*e,s=a-1,u=o/(2*Math.PI)*Math.asin(1);return a<1?Math.pow(2,10*s)*Math.sin((s-u)*(2*Math.PI)/o)*-.5:Math.pow(2,-10*s)*Math.sin((s-u)*(2*Math.PI)/o)*.5+1},i.easeOutBounce=n,i.easeInBounce=t,i.easeInOutBounce=function(e){return e<.5?.5*t(2*e):.5*n(2*e-1)+.5}}(l.Timing||(l.Timing={})),l.Interp=void 0,(Kl=l.Interp||(l.Interp={})).number=function(i,n){var t=n-i;return function(e){return i+t*e}},Kl.object=function(i,n){var t=Object.keys(i);return function(e){for(var r={},o=t.length-1;o!==-1;o-=1){var a=t[o];r[a]=i[a]+(n[a]-i[a])*e}return r}},Kl.unit=function(i,n){var t=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,e=t.exec(i),r=t.exec(n),o=r?r[1]:"",a=e?+e[1]:0,s=r?+r[1]:0,u=o.indexOf("."),c=u>0?o[1].length-u-1:0,h=s-a,d=e?e[2]:"";return function(g){return(a+h*g).toFixed(c)+d}},Kl.color=function(i,n){var t=parseInt(i.slice(1),16),e=parseInt(n.slice(1),16),r=255&t,o=(255&e)-r,a=65280&t,s=(65280&e)-a,u=16711680&t,c=(16711680&e)-u;return function(h){return"#"+(1<<24|r+o*h&255|a+s*h&65280|u+c*h&16711680).toString(16).slice(1)}},l.LocalStorage=void 0,function(i){var n=lr.prefixCls+".storage";function t(u,c,h){u&&Tf(function(){u(c,h)})}function e(u,c){localStorage.setItem(u,JSON.stringify(c))}function r(u){var c=localStorage.getItem(u);return c?JSON.parse(c):null}function o(u){var c=r(s(u));return c?(c.keys==null&&(c.keys=[]),c):{keys:[]}}function a(u,c){return n+"."+u+".docs."+c}function s(u){return n+"."+u+".index"}i.insert=function(u,c,h){var d=c.id||rg("doc-"),g=o(u);g.keys.push(d),e(a(u,d),c),e(s(u),g),t(h,null,y(y({},c),{id:d}))},i.find=function(u,c,h){var d=o(u),g=[];if(c==null)d.keys.forEach(function(A){var D=r(a(u,A));D?g.push(D):t(h,new Error("No document found for an ID '"+A+"' from index."))}),t(h,null,g);else if(c.id){var C=r(a(u,c.id));t(h,null,C?[C]:[])}else t(h,null,[])},i.remove=function(u,c,h){var d=o(u);if(c==null)d.keys.forEach(function(C){localStorage.removeItem(a(u,C))}),localStorage.removeItem(s(u)),t(h,null);else if(c.id){var g=d.keys.indexOf(c.id);g>=0&&d.keys.splice(g,1),localStorage.removeItem(a(u,c.id)),e(s(u),d),t(h,null)}}}(l.LocalStorage||(l.LocalStorage={})),l.View=function(i){function n(){var t=i.call(this)||this;return t.cid=Lh.uniqueId(),n.views[t.cid]=t,t}return x(n,i),Object.defineProperty(n.prototype,"priority",{get:function(){return 2},enumerable:!1,configurable:!0}),n.prototype.confirmUpdate=function(t,e){return 0},n.prototype.$=function(t){return n.$(t)},n.prototype.empty=function(t){return t===void 0&&(t=this.container),this.$(t).empty(),this},n.prototype.unmount=function(t){return t===void 0&&(t=this.container),this.$(t).remove(),this},n.prototype.remove=function(t){return t===void 0&&(t=this.container),t===this.container&&(this.removeEventListeners(document),this.onRemove(),delete n.views[this.cid]),this.unmount(t),this},n.prototype.onRemove=function(){},n.prototype.setClass=function(t,e){e===void 0&&(e=this.container),e.classList.value=Array.isArray(t)?t.join(" "):t},n.prototype.addClass=function(t,e){return e===void 0&&(e=this.container),this.$(e).addClass(Array.isArray(t)?t.join(" "):t),this},n.prototype.removeClass=function(t,e){return e===void 0&&(e=this.container),this.$(e).removeClass(Array.isArray(t)?t.join(" "):t),this},n.prototype.setStyle=function(t,e){return e===void 0&&(e=this.container),this.$(e).css(t),this},n.prototype.setAttrs=function(t,e){return e===void 0&&(e=this.container),t!=null&&e!=null&&(e instanceof SVGElement?Se(e,t):this.$(e).attr(t)),this},n.prototype.findAttr=function(t,e){e===void 0&&(e=this.container);for(var r=e;r&&r.nodeType===1;){var o=r.getAttribute(t);if(o!=null)return o;if(r===this.container)return null;r=r.parentNode}return null},n.prototype.find=function(t,e,r){return e===void 0&&(e=this.container),r===void 0&&(r=this.selectors),n.find(t,e,r).elems},n.prototype.findOne=function(t,e,r){e===void 0&&(e=this.container),r===void 0&&(r=this.selectors);var o=this.find(t,e,r);return o.length>0?o[0]:null},n.prototype.findByAttr=function(t,e){e===void 0&&(e=this.container);for(var r=e;r&&r.getAttribute;){var o=r.getAttribute(t);if((o!=null||r===this.container)&&o!=="false")return r;r=r.parentNode}return null},n.prototype.getSelector=function(t,e){var r;if(t===this.container)return typeof e=="string"&&(r="> "+e),r;if(t){var o=Sl(t)+1;r=t.tagName.toLowerCase()+":nth-child("+o+")",e&&(r+=" > "+e),r=this.getSelector(t.parentNode,r)}return r},n.prototype.prefixClassName=function(t){return l.Util.prefix(t)},n.prototype.delegateEvents=function(t,e){var r=this;if(t==null)return this;e||this.undelegateEvents();var o=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(function(a){var s=a.match(o);if(s!=null){var u=r.getEventHandler(t[a]);typeof u=="function"&&r.delegateEvent(s[1],s[2],u)}}),this},n.prototype.undelegateEvents=function(){return this.$(this.container).off(this.getEventNamespace()),this},n.prototype.delegateDocumentEvents=function(t,e){return this.addEventListeners(document,t,e),this},n.prototype.undelegateDocumentEvents=function(){return this.removeEventListeners(document),this},n.prototype.delegateEvent=function(t,e,r){return this.$(this.container).on(t+this.getEventNamespace(),e,r),this},n.prototype.undelegateEvent=function(t,e,r){var o=t+this.getEventNamespace();return e==null?this.$(this.container).off(o):typeof e=="string"?this.$(this.container).off(o,e,r):this.$(this.container).off(o,e),this},n.prototype.addEventListeners=function(t,e,r){var o=this;if(e==null)return this;var a=this.getEventNamespace(),s=this.$(t);return Object.keys(e).forEach(function(u){var c=o.getEventHandler(e[u]);typeof c=="function"&&s.on(u+a,r,c)}),this},n.prototype.removeEventListeners=function(t){return t!=null&&this.$(t).off(this.getEventNamespace()),this},n.prototype.getEventNamespace=function(){return"."+lr.prefixCls+"-event-"+this.cid},n.prototype.getEventHandler=function(t){var e,r=this;if(typeof t=="string"){var o=this[t];typeof o=="function"&&(e=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o.call.apply(o,T([r],a,!1))})}else e=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return t.call.apply(t,T([r],a,!1))};return e},n.prototype.getEventTarget=function(t,e){e===void 0&&(e={});var r=t.target,o=t.type,a=t.clientX,s=a===void 0?0:a,u=t.clientY,c=u===void 0?0:u;return e.fromPoint||o==="touchmove"||o==="touchend"?document.elementFromPoint(s,c):r},n.prototype.stopPropagation=function(t){return this.setEventData(t,{propagationStopped:!0}),this},n.prototype.isPropagationStopped=function(t){return this.getEventData(t).propagationStopped===!0},n.prototype.getEventData=function(t){return this.eventData(t)},n.prototype.setEventData=function(t,e){return this.eventData(t,e)},n.prototype.eventData=function(t,e){if(t==null)throw new TypeError("Event object required");var r=t.data,o="__"+this.cid+"__";return e==null?r==null?{}:r[o]||{}:(r==null&&(r=t.data={}),r[o]==null?r[o]=y({},e):r[o]=y(y({},r[o]),e),r[o])},n.prototype.normalizeEvent=function(t){return n.normalizeEvent(t)},n}(l.Basecoat),function(i){function n(t){return I(t)}i.$=n,i.createElement=function(t,e){return e?_n(t||"g"):wl(t||"div")},i.find=function(t,e,r){if(!t||t===".")return{elems:[e]};if(r){var o=r[t];if(o)return{elems:Array.isArray(o)?o:[o]}}return lr.useCSSSelector?{isCSSSelector:!0,elems:n(e).find(t).toArray()}:{elems:[]}},i.normalizeEvent=function(t){var e=t,r=t.originalEvent,o=r&&r.changedTouches&&r.changedTouches[0];if(o){for(var a in t)o[a]===void 0&&(o[a]=t[a]);e=o}var s=e.target;if(s){var u=s.correspondingUseElement;u&&(e.target=u)}return e}}(l.View||(l.View={})),(kh=l.View||(l.View={})).views={},kh.getView=function(i){return kh.views[i]||null},function(i){var n=0;i.uniqueId=function(){var t="v"+n;return n+=1,t}}(Lh||(Lh={}));function Dv(i,n){return n===0?"0%":Math.round(i/n*100)+"%"}function Ov(i){return function(n,t,e,r){return t.isEdgeElement(e)?function(o,a,s,u,c){var h=s.getConnection();if(!h)return a;var d=h.closestPointLength(c);if(o){var g=h.length();a.anchor={name:"ratio",args:{ratio:d/g}}}else a.anchor={name:"length",args:{length:d}};return a}(i,n,t,0,r):function(o,a,s,u,c){var h=s.cell,d=h.getAngle(),g=s.getUnrotatedBBoxOfElement(u),C=h.getBBox().getCenter(),A=l.Point.create(c).rotate(d,C),D=A.x-g.x,k=A.y-g.y;return o&&(D=Dv(D,g.width),k=Dv(k,g.height)),a.anchor={name:"topLeft",args:{dx:D,dy:k,rotate:!0}},a}(i,n,t,e,r)}}var yi,hC=Ov(!0),pC=Ov(!1),dC=Object.freeze({__proto__:null,noop:function(i){return i},pinRelative:hC,pinAbsolute:pC});(function(i){i.presets=dC,i.registry=rn.create({type:"connection strategy"}),i.registry.register(i.presets,!0)})(yi||(yi={}));var Rh,fC=function(){function i(n){this.view=n,this.clean()}return i.prototype.clean=function(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Jl,this.pathCache={}},i.prototype.get=function(n){return this.elemCache.has(n)||this.elemCache.set(n,{}),this.elemCache.get(n)},i.prototype.getData=function(n){var t=this.get(n);return t.data||(t.data={}),t.data},i.prototype.getMatrix=function(n){var t=this.get(n);if(t.matrix==null){var e=this.view.rotatableNode||this.view.container;t.matrix=mo(n,e)}return Pn(t.matrix)},i.prototype.getShape=function(n){var t=this.get(n);return t.shape==null&&(t.shape=bh(n)),t.shape.clone()},i.prototype.getBoundingRect=function(n){var t=this.get(n);return t.boundingRect==null&&(t.boundingRect=An(n)),t.boundingRect.clone()},i}();l.Markup=void 0,function(i){function n(o){return o!=null&&typeof o=="string"}function t(o){return(""+o).trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}function e(o,a){a===void 0&&(a={ns:yn.svg});for(var s=document.createDocumentFragment(),u={},c={},h=[{markup:Array.isArray(o)?o:[o],parent:s,ns:a.ns}],d=function(){var g=h.pop(),C=g.ns||yn.svg,A=g.markup,D=g.parent;A.forEach(function(k){var O=k.tagName;if(!O)throw new TypeError("Invalid tagName");k.ns&&(C=k.ns);var F=C===yn.svg,B=C?wl(O,C):Qc(O),z=k.attrs;z&&(F?Se(B,ta(z)):I(B).attr(z));var Y=k.style;Y&&I(B).css(Y);var w=k.className;w!=null&&B.setAttribute("class",Array.isArray(w)?w.join(" "):w),k.textContent&&(B.textContent=k.textContent);var Q=k.selector;if(Q!=null){if(c[Q])throw new TypeError("Selector must be unique");c[Q]=B}if(k.groupSelector){var J=k.groupSelector;Array.isArray(J)||(J=[J]),J.forEach(function(lt){u[lt]||(u[lt]=[]),u[lt].push(B)})}D.appendChild(B);var nt=k.children;Array.isArray(nt)&&h.push({ns:C,markup:nt,parent:B})})};h.length>0;)d();return Object.keys(u).forEach(function(g){if(c[g])throw new Error("Ambiguous group selector");c[g]=u[g]}),{fragment:s,selectors:c,groups:u}}function r(o){return o instanceof SVGElement?_n("g"):Qc("div")}i.isJSONMarkup=function(o){return o!=null&&!n(o)},i.isStringMarkup=n,i.clone=function(o){return o==null||n(o)?o:nn(o)},i.sanitize=t,i.parseStringMarkup=function(o){var a=document.createDocumentFragment();return Yc(t(o),{raw:!0}).forEach(function(s){a.appendChild(s)}),{fragment:a,selectors:{},groups:{}}},i.parseJSONMarkup=e,i.renderMarkup=function(o){if(n(o)){var a=l.Vector.createVectors(o),s=a.length;if(s===1)return{elem:a[0].node};if(s>1){var u=r(a[0].node);return a.forEach(function(g){u.appendChild(g.node)}),{elem:u}}return{}}var c=e(o),h=c.fragment,d=null;return h.childNodes.length>1?(d=r(h.firstChild)).appendChild(h):d=h.firstChild,{elem:d,selectors:c.selectors}},i.parseLabelStringMarkup=function(o){for(var a=l.Vector.createVectors(o),s=document.createDocumentFragment(),u=0,c=a.length;u<c;u+=1){var h=a[u].node;s.appendChild(h)}return{fragment:s,selectors:{}}}}(l.Markup||(l.Markup={})),function(i){function n(e,r,o){if(e!=null){var a=void 0,s=e.tagName.toLowerCase();if(e===r)return a=typeof o=="string"?"> "+s+" > "+o:"> "+s;var u=e.parentNode;return u&&u.childNodes.length>1?a=s+":nth-child("+(Sl(e)+1)+")":a=s,o&&(a+=" > "+o),n(e.parentNode,r,a)}return o}function t(e,r,o){if(e.nodeName==="#text")return null;var a=null,s=null,u=null,c=!1,h={tagName:e.tagName};if(e.attributes){u={};for(var d=0,g=e.attributes.length;d<g;d+=1){var C=e.attributes[d],A=C.nodeName,D=C.nodeValue;A==="selector"?a=D:A==="groupSelector"?s=D:A==="class"?h.attrs={class:D}:u[A]=D}}return a==null&&(c=!0,a=n(e,r)),e.namespaceURI&&(h.ns=e.namespaceURI),h.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(e.tagName)?h.ns=yn.xhtml:o&&(h.ns=o)),a&&(h.selector=a),s!=null&&(h.groupSelector=s),{markup:h,attrs:u,isCSSSelector:c}}i.getSelector=n,i.xml2json=function(e){var r=_c(i.sanitize(e),{mimeType:"image/svg+xml"}),o=Array.prototype.slice.call(r.childNodes),a={},s=new WeakMap,u=function(c,h,d){var g=t(c,h,d);if(g!=null){var C=g.markup,A=g.attrs,D=g.isCSSSelector;if(s.set(c,C),C.selector&&A!=null&&(Object.keys(A).length&&(a[C.selector]=A),D&&delete C.selector),c.childNodes&&c.childNodes.length>0)for(var k=0,O=c.childNodes.length;k<O;k+=1){var F=c.childNodes[k],B=u(F,h,C.ns);B&&(C.children==null&&(C.children=[]),C.children.push(B))}return C}var z=s.get(c.parentNode);z&&c.textContent&&(z.textContent=c.textContent)};return{markup:o.map(function(c){return u(c,c)}).filter(function(c){return c!=null}),attrs:a}}}(l.Markup||(l.Markup={})),(Rh=l.Markup||(l.Markup={})).getPortContainerMarkup=function(){return"g"},Rh.getPortMarkup=function(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},Rh.getPortLabelMarkup=function(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}},function(i){i.getEdgeMarkup=function(){return i.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)},i.getEdgeToolMarkup=function(){return i.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)},i.getEdgeVertexMarkup=function(){return i.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)},i.getEdgeArrowheadMarkup=function(){return i.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}}(l.Markup||(l.Markup={})),function(i){i.getForeignObjectMarkup=function(n){return n===void 0&&(n=!1),{tagName:"foreignObject",selector:"fo",children:[{ns:yn.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:yn.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:n?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}(l.Markup||(l.Markup={}));var Zl=function(){function i(n){this.view=n}return Object.defineProperty(i.prototype,"cell",{get:function(){return this.view.cell},enumerable:!1,configurable:!0}),i.prototype.getDefinition=function(n){return this.cell.getAttrDefinition(n)},i.prototype.processAttrs=function(n,t){var e,r,o,a,s,u=this,c=[];return Object.keys(t).forEach(function(h){var d=t[h],g=u.getDefinition(h),C=Lt($r.isValidDefinition,u.view,g,d,{elem:n,attrs:t,cell:u.cell,view:u.view});if(g&&C)typeof g=="string"?(e==null&&(e={}),e[g]=d):d!==null&&c.push({name:h,definition:g});else{e==null&&(e={});var A=nh.includes(h)?h:Xc(h);e[A]=d}}),c.forEach(function(h){var d=h.name,g=h.definition,C=t[d];typeof g.set=="function"&&(!Ha(n)&&i.DELAY_ATTRS.includes(d)?(s==null&&(s={}),s[d]=C):(r==null&&(r={}),r[d]=C)),typeof g.offset=="function"&&(o==null&&(o={}),o[d]=C),typeof g.position=="function"&&(a==null&&(a={}),a[d]=C)}),{raw:t,normal:e,set:r,offset:o,position:a,delay:s}},i.prototype.mergeProcessedAttrs=function(n,t){n.set=y(y({},n.set),t.set),n.position=y(y({},n.position),t.position),n.offset=y(y({},n.offset),t.offset);var e=n.normal&&n.normal.transform;e!=null&&t.normal&&(t.normal.transform=e),n.normal=t.normal},i.prototype.findAttrs=function(n,t,e,r){var o=[],a=new Jl;return Object.keys(n).forEach(function(s){var u=n[s];if(ar(u)){var c=l.View.find(s,t,r),h=c.isCSSSelector,d=c.elems;e[s]=d;for(var g=0,C=d.length;g<C;g+=1){var A=d[g],D=r&&r[s]===A,k=a.get(A);if(k){k.array||(o.push(A),k.array=!0,k.attrs=[k.attrs],k.priority=[k.priority]);var O=k.attrs,F=k.priority;if(D)O.unshift(u),F.unshift(-1);else{var B=Yf(F,h?-1:C);O.splice(B,0,u),F.splice(B,0,C)}}else a.set(A,{elem:A,attrs:u,priority:D?-1:C,array:!1})}}}),o.forEach(function(s){var u=a.get(s),c=u.attrs;u.attrs=c.reduceRight(function(h,d){return Ve(h,d)},{})}),a},i.prototype.updateRelativeAttrs=function(n,t,e,r){var o=this,a=t.raw||{},s=t.normal||{},u=t.set,c=t.position,h=t.offset,d=t.delay,g=function(){return{elem:n,cell:o.cell,view:o.view,attrs:a,refBBox:e.clone()}};if(u!=null&&Object.keys(u).forEach(function(J){var nt=u[J],lt=o.getDefinition(J);if(lt!=null){var ut=Lt(lt.set,o.view,nt,g());typeof ut=="object"?s=y(y({},s),ut):ut!=null&&(s[J]=ut)}}),Ha(n))this.view.setAttrs(s,n);else{var C=s.transform,A=oa(C?""+C:null),D=new l.Point(A.e,A.f);C&&(delete s.transform,A.e=0,A.f=0);var k=1,O=1;if(c||h){var F=this.view.getScaleOfElement(n,r.scalableNode);k=F.sx,O=F.sy}var B=!1;c!=null&&Object.keys(c).forEach(function(J){var nt=c[J],lt=o.getDefinition(J);if(lt!=null){var ut=Lt(lt.position,o.view,nt,g());ut!=null&&(B=!0,D.translate(l.Point.create(ut).scale(k,O)))}}),this.view.setAttrs(s,n);var z=!1;if(h!=null){var Y=this.view.getBoundingRectOfElement(n);if(Y.width>0&&Y.height>0){var w=tr(Y,A).scale(1/k,1/O);Object.keys(h).forEach(function(J){var nt=h[J],lt=o.getDefinition(J);if(lt!=null){var ut=Lt(lt.offset,o.view,nt,{elem:n,cell:o.cell,view:o.view,attrs:a,refBBox:w});ut!=null&&(z=!0,D.translate(l.Point.create(ut).scale(k,O)))}})}}(C!=null||B||z)&&(D.round(1),A.e=D.x,A.f=D.y,n.setAttribute("transform",Vo(A)));var Q=function(){d!=null&&Object.keys(d).forEach(function(J){var nt,lt=d[J],ut=o.getDefinition(J);if(ut!=null){var xt=Lt(ut.set,o.view,lt,g());typeof xt=="object"?o.view.setAttrs(xt,n):xt!=null&&o.view.setAttrs(((nt={})[J]=xt,nt),n)}})};r.forceSync?Q():l.Scheduler.scheduleTask(Q)}},i.prototype.update=function(n,t,e){var r=this,o={},a=this.findAttrs(e.attrs||t,n,o,e.selectors),s=e.attrs?this.findAttrs(t,n,o,e.selectors):a,u=[];a.each(function(d){var g=d.elem,C=d.attrs,A=r.processAttrs(g,C);if(A.set==null&&A.position==null&&A.offset==null&&A.delay==null)r.view.setAttrs(A.normal,g);else{var D=s.get(g),k=D?D.attrs:null,O=k&&C.ref==null?k.ref:C.ref,F=void 0;if(O){if(!(F=(o[O]||r.view.find(O,n,e.selectors))[0]))throw new Error('"'+O+'" reference does not exist.')}else F=null;var B={node:g,refNode:F,attributes:k,processedAttributes:A},z=u.findIndex(function(Y){return Y.refNode===g});z>-1?u.splice(z,0,B):u.push(B)}});var c,h=new Jl;u.forEach(function(d){var g,C,A=d.node,D=d.refNode,k=D!=null&&e.rotatableNode!=null&&Al(e.rotatableNode,D);if(D&&(g=h.get(D)),!g){var O=k?e.rotatableNode:n;g=D?An(D,{target:O}):e.rootBBox,D&&h.set(D,g)}e.attrs&&d.attributes?(C=r.processAttrs(A,d.attributes),r.mergeProcessedAttrs(C,d.processedAttributes)):C=d.processedAttributes;var F=g;k&&e.rotatableNode!=null&&!e.rotatableNode.contains(A)&&(c||(c=oa(Se(e.rotatableNode,"transform"))),F=tr(g,c)),u.find(function(B){return B.refNode===A})&&(e.forceSync=!0),r.updateRelativeAttrs(A,C,F,e)})},i}();(function(i){i.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(Zl||(Zl={}));var Nv,ns,kv=function(){function i(n,t,e){e===void 0&&(e=[]),this.view=n;var r={},o={},a=0;Object.keys(t).forEach(function(u){var c=t[u];Array.isArray(c)||(c=[c]),c.forEach(function(h){var d=r[h];d||(a+=1,d=r[h]=1<<a),o[u]|=d})});var s=e;if(Array.isArray(s)||(s=[s]),s.forEach(function(u){r[u]||(a+=1,r[u]=1<<a)}),a>25)throw new Error("Maximum number of flags exceeded.");this.flags=r,this.attrs=o,this.bootstrap=e}return Object.defineProperty(i.prototype,"cell",{get:function(){return this.view.cell},enumerable:!1,configurable:!0}),i.prototype.getFlag=function(n){var t=this.flags;return t==null?0:Array.isArray(n)?n.reduce(function(e,r){return e|t[r]},0):0|t[n]},i.prototype.hasAction=function(n,t){return n&this.getFlag(t)},i.prototype.removeAction=function(n,t){return n^n&this.getFlag(t)},i.prototype.getBootstrapFlag=function(){return this.getFlag(this.bootstrap)},i.prototype.getChangedFlag=function(){var n=this,t=0;return this.attrs&&Object.keys(this.attrs).forEach(function(e){n.cell.hasChanged(e)&&(t|=n.attrs[e])}),t},i}();function Lv(i,n,t,e){return Lt(yi.presets.pinRelative,this.graph,{},n,t,i,this.cell,e,{}).anchor}function Fv(i,n){return n?i.cell.getBBox():i.cell.isEdge()?i.getConnection().bbox():i.getUnrotatedBBoxOfElement(i.container)}l.CellView=function(i){function n(t,e){e===void 0&&(e={});var r=i.call(this)||this;return r.cell=t,r.options=r.ensureOptions(e),r.graph=r.options.graph,r.attr=new Zl(r),r.flag=new kv(r,r.options.actions,r.options.bootstrap),r.cache=new fC(r),r.setContainer(r.ensureContainer()),r.setup(),r.$(r.container).data("view",r),r.init(),r}return x(n,i),n.getDefaults=function(){return this.defaults},n.config=function(t){this.defaults=this.getOptions(t)},n.getOptions=function(t){var e=function(h,d){return d!=null?Gc(T(T([],Array.isArray(h)?h:[h],!0),Array.isArray(d)?d:[d],!0)):Array.isArray(h)?T([],h,!0):[h]},r=nn(this.getDefaults()),o=t.bootstrap,a=t.actions,s=t.events,u=t.documentEvents,c=f(t,["bootstrap","actions","events","documentEvents"]);return o&&(r.bootstrap=e(r.bootstrap,o)),a&&Object.keys(a).forEach(function(h){var d=a[h],g=r.actions[h];d&&g?r.actions[h]=e(g,d):d&&(r.actions[h]=e(d))}),s&&(r.events=y(y({},r.events),s)),t.documentEvents&&(r.documentEvents=y(y({},r.documentEvents),u)),Ve(r,c)},Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.onRemove=function(){this.removeTools()},Object.defineProperty(n.prototype,"priority",{get:function(){return this.options.priority},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rootSelector",{get:function(){return this.options.rootSelector},enumerable:!1,configurable:!0}),n.prototype.getConstructor=function(){return this.constructor},n.prototype.ensureOptions=function(t){return this.getConstructor().getOptions(t)},n.prototype.getContainerTagName=function(){return this.options.isSvgElement?"g":"div"},n.prototype.getContainerStyle=function(){},n.prototype.getContainerAttrs=function(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}},n.prototype.getContainerClassName=function(){return this.prefixClassName("cell")},n.prototype.ensureContainer=function(){return l.View.createElement(this.getContainerTagName(),this.options.isSvgElement)},n.prototype.setContainer=function(t){if(this.container!==t){this.undelegateEvents(),this.container=t,this.options.events!=null&&this.delegateEvents(this.options.events);var e=this.getContainerAttrs();e!=null&&this.setAttrs(e,t);var r=this.getContainerStyle();r!=null&&this.setStyle(r,t);var o=this.getContainerClassName();o!=null&&this.addClass(o,t)}return this},n.prototype.isNodeView=function(){return!1},n.prototype.isEdgeView=function(){return!1},n.prototype.render=function(){return this},n.prototype.confirmUpdate=function(t,e){return 0},n.prototype.getBootstrapFlag=function(){return this.flag.getBootstrapFlag()},n.prototype.getFlag=function(t){return this.flag.getFlag(t)},n.prototype.hasAction=function(t,e){return this.flag.hasAction(t,e)},n.prototype.removeAction=function(t,e){return this.flag.removeAction(t,e)},n.prototype.handleAction=function(t,e,r,o){if(this.hasAction(t,e)){r();var a=[e];return o&&(typeof o=="string"?a.push(o):a.push.apply(a,o)),this.removeAction(t,a)}return t},n.prototype.setup=function(){var t=this;this.cell.on("changed",function(e){var r=e.options;return t.onAttrsChange(r)})},n.prototype.onAttrsChange=function(t){var e=this.flag.getChangedFlag();!t.updated&&e&&(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,e,this.priority,t))},n.prototype.parseJSONMarkup=function(t,e){var r=l.Markup.parseJSONMarkup(t),o=r.selectors,a=this.rootSelector;if(e&&a){if(o[a])throw new Error("Invalid root selector");o[a]=e}return r},n.prototype.can=function(t){var e=this.graph.options.interacting;if(typeof e=="function"&&(e=Lt(e,this.graph,this)),typeof e=="object"){var r=e[t];return typeof r=="function"&&(r=Lt(r,this.graph,this)),r!==!1}return typeof e=="boolean"&&e},n.prototype.cleanCache=function(){return this.cache.clean(),this},n.prototype.getCache=function(t){return this.cache.get(t)},n.prototype.getDataOfElement=function(t){return this.cache.getData(t)},n.prototype.getMatrixOfElement=function(t){return this.cache.getMatrix(t)},n.prototype.getShapeOfElement=function(t){return this.cache.getShape(t)},n.prototype.getScaleOfElement=function(t,e){var r,o;if(e&&e.contains(t)){var a=bo(e);r=1/a.sx,o=1/a.sy}else r=1,o=1;return{sx:r,sy:o}},n.prototype.getBoundingRectOfElement=function(t){return this.cache.getBoundingRect(t)},n.prototype.getBBoxOfElement=function(t){var e=this.getBoundingRectOfElement(t),r=this.getMatrixOfElement(t),o=this.getRootRotatedMatrix();return tr(e,this.getRootTranslatedMatrix().multiply(o).multiply(r))},n.prototype.getUnrotatedBBoxOfElement=function(t){var e=this.getBoundingRectOfElement(t),r=this.getMatrixOfElement(t);return tr(e,this.getRootTranslatedMatrix().multiply(r))},n.prototype.getBBox=function(t){var e;if(t===void 0&&(t={}),t.useCellGeometry){var r=this.cell,o=r.isNode()?r.getAngle():0;e=r.getBBox().bbox(o)}else e=this.getBBoxOfElement(this.container);return this.graph.localToGraph(e)},n.prototype.getRootTranslatedMatrix=function(){var t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return Pn().translate(e.x,e.y)},n.prototype.getRootRotatedMatrix=function(){var t=Pn(),e=this.cell,r=e.isNode()?e.getAngle():0;if(r){var o=e.getBBox(),a=o.width/2,s=o.height/2;t=t.translate(a,s).rotate(r).translate(-a,-s)}return t},n.prototype.findMagnet=function(t){return t===void 0&&(t=this.container),this.findByAttr("magnet",t)},n.prototype.updateAttrs=function(t,e,r){r===void 0&&(r={}),r.rootBBox==null&&(r.rootBBox=new l.Rectangle),r.selectors==null&&(r.selectors=this.selectors),this.attr.update(t,e,r)},n.prototype.isEdgeElement=function(t){return this.cell.isEdge()&&(t==null||t===this.container)},n.prototype.prepareHighlight=function(t,e){e===void 0&&(e={});var r=t&&this.$(t)[0]||this.container;return e.partial=r===this.container,r},n.prototype.highlight=function(t,e){e===void 0&&(e={});var r=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:r,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:r,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:r,options:e,view:this,node:this.cell,cell:this.cell}),this},n.prototype.unhighlight=function(t,e){e===void 0&&(e={});var r=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:r,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:r,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:r,options:e,view:this,edge:this.cell,cell:this.cell}),this},n.prototype.notifyUnhighlight=function(t,e){},n.prototype.getEdgeTerminal=function(t,e,r,o,a){var s=this.cell,u=this.findAttr("port",t),c=t.getAttribute("data-selector"),h={cell:s.id};return c!=null&&(h.magnet=c),u!=null?(h.port=u,s.isNode()&&(s.hasPort(u)||c!=null||(h.selector=this.getSelector(t)))):c==null&&this.container!==t&&(h.selector=this.getSelector(t)),this.customizeEdgeTerminal(h,t,e,r,o,a)},n.prototype.customizeEdgeTerminal=function(t,e,r,o,a,s){var u=a.getStrategy()||this.graph.options.connecting.strategy;if(u){var c=typeof u=="string"?u:u.name,h=typeof u=="string"?{}:u.args||{},d=yi.registry;if(c){var g=d.get(c);if(g==null)return d.onNotFound(c);var C=Lt(g,this.graph,t,this,e,new l.Point(r,o),a,s,h);if(C)return C}}return t},n.prototype.getMagnetFromEdgeTerminal=function(t){var e,r=this.cell,o=this.container,a=t.port,s=t.magnet;return a!=null&&r.isNode()&&r.hasPort(a)?e=this.findPortElem(a,s)||o:(s||(s=t.selector),s||a==null||(s='[port="'+a+'"]'),e=this.findOne(s,o,this.selectors)),e},n.prototype.animate=function(t,e){var r=typeof t=="string"?this.findOne(t):t;if(r==null)throw new Error("Invalid animation element.");var o=r.parentNode,a=l.Vector.create(r);o||a.appendTo(this.graph.view.stage);var s=e.complete;return e.complete=function(u){o||no(r),s&&s(u)},a.animate(e)},n.prototype.animateTransform=function(t,e){var r=typeof t=="string"?this.findOne(t):t;if(r==null)throw new Error("Invalid animation element.");var o=r.parentNode,a=l.Vector.create(r);o||a.appendTo(this.graph.view.stage);var s=e.complete;return e.complete=function(u){o||no(r),s&&s(u)},a.animateTransform(e)},n.prototype.hasTools=function(t){var e=this.tools;return e!=null&&(t==null||e.name===t)},n.prototype.addTools=function(t){if(!this.can("toolsAddable"))return this;if(this.removeTools(),t){var e=l.ToolsView.isToolsView(t)?t:new l.ToolsView(t);this.tools=e,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),e.config({view:this}),e.mount()}return this},n.prototype.updateTools=function(t){return t===void 0&&(t={}),this.tools&&this.tools.update(t),this},n.prototype.removeTools=function(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this},n.prototype.hideTools=function(){return this.tools&&this.tools.hide(),this},n.prototype.showTools=function(){return this.tools&&this.tools.show(),this},n.prototype.renderTools=function(){var t=this.cell.getTools();return this.addTools(t),this},n.prototype.notify=function(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this},n.prototype.getEventArgs=function(t,e,r){var o=this,a=o.cell;return e==null||r==null?{e:t,view:o,cell:a}:{e:t,x:e,y:r,view:o,cell:a}},n.prototype.onClick=function(t,e,r){this.notify("cell:click",this.getEventArgs(t,e,r))},n.prototype.onDblClick=function(t,e,r){this.notify("cell:dblclick",this.getEventArgs(t,e,r))},n.prototype.onContextMenu=function(t,e,r){this.notify("cell:contextmenu",this.getEventArgs(t,e,r))},n.prototype.onMouseDown=function(t,e,r){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,r))},n.prototype.onMouseUp=function(t,e,r){this.notify("cell:mouseup",this.getEventArgs(t,e,r)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)},n.prototype.onMouseMove=function(t,e,r){this.notify("cell:mousemove",this.getEventArgs(t,e,r))},n.prototype.onMouseOver=function(t){this.notify("cell:mouseover",this.getEventArgs(t))},n.prototype.onMouseOut=function(t){this.notify("cell:mouseout",this.getEventArgs(t))},n.prototype.onMouseEnter=function(t){this.notify("cell:mouseenter",this.getEventArgs(t))},n.prototype.onMouseLeave=function(t){this.notify("cell:mouseleave",this.getEventArgs(t))},n.prototype.onMouseWheel=function(t,e,r,o){this.notify("cell:mousewheel",y({delta:o},this.getEventArgs(t,e,r)))},n.prototype.onCustomEvent=function(t,e,r,o){this.notify("cell:customevent",y({name:e},this.getEventArgs(t,r,o))),this.notify(e,y({},this.getEventArgs(t,r,o)))},n.prototype.onMagnetMouseDown=function(t,e,r,o){},n.prototype.onMagnetDblClick=function(t,e,r,o){},n.prototype.onMagnetContextMenu=function(t,e,r,o){},n.prototype.onLabelMouseDown=function(t,e,r){},n.prototype.checkMouseleave=function(t){var e=this.graph;e.renderer.isAsync()&&e.renderer.dumpView(this);var r=this.getEventTarget(t,{fromPoint:!0}),o=e.renderer.findViewByElem(r);o!==this&&(this.onMouseLeave(t),o&&o.onMouseEnter(t))},n.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},n}(l.View),(Nv=l.CellView||(l.CellView={})).Flag=kv,Nv.Attr=Zl,function(i){i.toStringTag="X6."+i.name,i.isCellView=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return(t==null||t===i.toStringTag)&&typeof e.isNodeView=="function"&&typeof e.isEdgeView=="function"&&typeof e.confirmUpdate=="function"}}(l.CellView||(l.CellView={})),function(i){i.priority=function(n){return function(t){t.config({priority:n})}},i.bootstrap=function(n){return function(t){t.config({bootstrap:n})}}}(l.CellView||(l.CellView={})),function(i){i.registry=rn.create({type:"view"})}(l.CellView||(l.CellView={})),l.ToolsView=function(i){function n(t){t===void 0&&(t={});var e=i.call(this)||this;return e.svgContainer=e.createContainer(!0,t),e.htmlContainer=e.createContainer(!1,t),e.config(t),e}return x(n,i),Object.defineProperty(n.prototype,"name",{get:function(){return this.options.name},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"graph",{get:function(){return this.cellView.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cell",{get:function(){return this.cellView.cell},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.createContainer=function(t,e){var r=t?l.View.createElement("g",!0):l.View.createElement("div",!1);return Ee(r,this.prefixClassName("cell-tools")),e.className&&Ee(r,e.className),r},n.prototype.config=function(t){if(this.options=y(y({},this.options),t),!l.CellView.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(Ee(this.svgContainer,this.prefixClassName("edge-tools")),Ee(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(Ee(this.svgContainer,this.prefixClassName("node-tools")),Ee(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));var e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];var r=[];e.forEach(function(d){n.ToolItem.isToolItem(d)?d.name==="vertices"?r.unshift(d):r.push(d):(typeof d=="object"?d.name:d)==="vertices"?r.unshift(d):r.push(d)});for(var o=0;o<r.length;o+=1){var a=r[o],s=void 0;if(n.ToolItem.isToolItem(a))s=a;else{var u=typeof a=="object"?a.name:a,c=typeof a=="object"&&a.args||{};if(u){if(this.cell.isNode()){if(!(h=mi.registry.get(u)))return mi.registry.onNotFound(u);s=new h(c)}else if(this.cell.isEdge()){var h;if(!(h=bi.registry.get(u)))return bi.registry.onNotFound(u);s=new h(c)}}}s&&(s.config(this.cellView,this),s.render(),(s.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(s.container),this.tools.push(s))}return this},n.prototype.update=function(t){t===void 0&&(t={});var e=this.tools;return e&&e.forEach(function(r){t.toolId!==r.cid&&r.isVisible()&&r.update()}),this},n.prototype.focus=function(t){var e=this.tools;return e&&e.forEach(function(r){t===r?r.show():r.hide()}),this},n.prototype.blur=function(t){var e=this.tools;return e&&e.forEach(function(r){r===t||r.isVisible()||(r.show(),r.update())}),this},n.prototype.hide=function(){return this.focus(null)},n.prototype.show=function(){return this.blur(null)},n.prototype.remove=function(){var t=this.tools;return t&&(t.forEach(function(e){return e.remove()}),this.tools=null),no(this.svgContainer),no(this.htmlContainer),i.prototype.remove.call(this)},n.prototype.mount=function(){var t=this.tools,e=this.cellView;if(e&&t){var r=t.some(function(a){return a.options.isSVGElement!==!1}),o=t.some(function(a){return a.options.isSVGElement===!1});r&&(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer),o&&this.graph.container.appendChild(this.htmlContainer)}return this},n}(l.View),(ns=l.ToolsView||(l.ToolsView={})).toStringTag="X6."+ns.name,ns.isToolsView=function(i){if(i==null)return!1;if(i instanceof ns)return!0;var n=i[Symbol.toStringTag],t=i;return(n==null||n===ns.toStringTag)&&t.graph!=null&&t.cell!=null&&typeof t.config=="function"&&typeof t.update=="function"&&typeof t.focus=="function"&&typeof t.blur=="function"&&typeof t.show=="function"&&typeof t.hide=="function"},function(i){var n=function(t){function e(r){r===void 0&&(r={});var o=t.call(this)||this;return o.visible=!0,o.options=o.getOptions(r),o.container=l.View.createElement(o.options.tagName||"g",o.options.isSVGElement!==!1),Ee(o.container,o.prefixClassName("cell-tool")),typeof o.options.className=="string"&&Ee(o.container,o.options.className),o.init(),o}return x(e,t),e.getDefaults=function(){return this.defaults},e.config=function(r){this.defaults=this.getOptions(r)},e.getOptions=function(r){return Ve(nn(this.getDefaults()),r)},Object.defineProperty(e.prototype,"graph",{get:function(){return this.cellView.graph},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cell",{get:function(){return this.cellView.cell},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.options.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return e.toStringTag},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.getOptions=function(r){return this.constructor.getOptions(r)},e.prototype.delegateEvents=function(){return this.options.events&&t.prototype.delegateEvents.call(this,this.options.events),this},e.prototype.config=function(r,o){return this.cellView=r,this.parent=o,this.stamp(this.container),this.cell.isEdge()?Ee(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&Ee(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this},e.prototype.render=function(){this.empty();var r=this.options.markup;if(r){var o=l.Markup.isStringMarkup(r)?l.Markup.parseStringMarkup(r):l.Markup.parseJSONMarkup(r);this.container.appendChild(o.fragment),this.childNodes=o.selectors}return this.onRender(),this},e.prototype.onRender=function(){},e.prototype.update=function(){return this},e.prototype.stamp=function(r){r===void 0&&(r=this.container),r&&r.setAttribute("data-cell-id",this.cellView.cell.id)},e.prototype.show=function(){return this.container.style.display="",this.visible=!0,this},e.prototype.hide=function(){return this.container.style.display="none",this.visible=!1,this},e.prototype.isVisible=function(){return!!this.visible},e.prototype.focus=function(){var r=this.options.focusOpacity;return r!=null&&Number.isFinite(r)&&(this.container.style.opacity=""+r),this.parent.focus(this),this},e.prototype.blur=function(){return this.container.style.opacity="",this.parent.blur(this),this},e.prototype.guard=function(r){return this.graph==null||this.cellView==null||this.graph.view.guard(r,this.cellView)},e.defaults={isSVGElement:!0,tagName:"g"},e}(l.View);i.ToolItem=n,function(t){var e=0;t.define=function(r){var o,a=fl((o=r.name)?vl(o):"CustomTool"+(e+=1),this);return a.config(r),a}}(n=i.ToolItem||(i.ToolItem={})),function(t){t.toStringTag="X6."+t.name,t.isToolItem=function(e){if(e==null)return!1;if(e instanceof t)return!0;var r=e[Symbol.toStringTag],o=e;return(r==null||r===t.toStringTag)&&o.graph!=null&&o.cell!=null&&typeof o.config=="function"&&typeof o.update=="function"&&typeof o.focus=="function"&&typeof o.blur=="function"&&typeof o.show=="function"&&typeof o.hide=="function"&&typeof o.isVisible=="function"}}(n=i.ToolItem||(i.ToolItem={}))}(l.ToolsView||(l.ToolsView={}));var Xo=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.onRender=function(){Ee(this.container,this.prefixClassName("cell-tool-button")),this.update()},n.prototype.update=function(){return this.updatePosition(),this},n.prototype.updatePosition=function(){var t=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();fi(this.container,t,{absolute:!0})},n.prototype.getNodeMatrix=function(){var t=this.cellView,e=this.options,r=e.x,o=r===void 0?0:r,a=e.y,s=a===void 0?0:a,u=e.offset,c=e.useCellGeometry,h=e.rotate,d=Fv(t,c),g=t.cell.getAngle();h||(d=d.bbox(g));var C=0,A=0;typeof u=="number"?(C=u,A=u):typeof u=="object"&&(C=u.x,A=u.y),o=Dr(o,d.width),s=Dr(s,d.height);var D=Pn().translate(d.x+d.width/2,d.y+d.height/2);return h&&(D=D.rotate(g)),D=D.translate(o+C-d.width/2,s+A-d.height/2)},n.prototype.getEdgeMatrix=function(){var t,e,r,o=this.cellView,a=this.options,s=a.offset,u=s===void 0?0:s,c=a.distance,h=c===void 0?0:c,d=a.rotate,g=Dr(h,1);(t=g>=0&&g<=1?o.getTangentAtRatio(g):o.getTangentAtLength(g))?(e=t.start,r=t.vector().vectorAngle(new l.Point(1,0))||0):(e=o.getConnection().start,r=0);var C=Pn().translate(e.x,e.y).rotate(r);return C=typeof u=="object"?C.translate(u.x||0,u.y||0):C.translate(0,u),d||(C=C.rotate(-r)),C},n.prototype.onMouseDown=function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.options.onClick;typeof e=="function"&&Lt(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}},n}(l.ToolsView.ToolItem);(function(i){i.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Xo||(Xo={})),function(i){i.Remove=i.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick:function(n){var t=n.view,e=n.btn;e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})}(Xo||(Xo={}));var ql=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.onRender=function(){if(Ee(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){var t=this.options.attrs,e=t.class,r=f(t,["class"]);Se(this.container,ta(r)),e&&Ee(this.container,e)}this.update()},n.prototype.update=function(){var t=this.cellView,e=this.options,r=e.useCellGeometry,o=e.rotate,a=sr(e.padding),s=Fv(t,r).moveAndExpand({x:-a.left,y:-a.top,width:a.left+a.right,height:a.top+a.bottom}),u=t.cell;if(u.isNode()){var c=u.getAngle();if(c)if(o){var h=u.getBBox().getCenter();Hl(this.container,c,h.x,h.y,{absolute:!0})}else s=s.bbox(c)}return Se(this.container,s.toJSON()),this},n}(l.ToolsView.ToolItem);(function(i){i.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(ql||(ql={}));var rs=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.handles=[],t}return x(n,i),Object.defineProperty(n.prototype,"vertices",{get:function(){return this.cellView.cell.getVertices()},enumerable:!1,configurable:!0}),n.prototype.onRender=function(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this},n.prototype.update=function(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this},n.prototype.resetHandles=function(){var t=this,e=this.handles;this.handles=[],e&&e.forEach(function(r){t.stopHandleListening(r),r.remove()})},n.prototype.renderHandles=function(){for(var t=this,e=this.vertices,r=0,o=e.length;r<o;r+=1){var a=e[r],s=this.options.createHandle,u=this.options.processHandle,c=s({index:r,graph:this.graph,guard:function(h){return t.guard(h)},attrs:this.options.attrs||{}});u&&u(c),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:c}),c.updatePosition(a.x,a.y),this.stamp(c.container),this.container.appendChild(c.container),this.handles.push(c),this.startHandleListening(c)}},n.prototype.updateHandles=function(){for(var t=this.vertices,e=0,r=t.length;e<r;e+=1){var o=t[e],a=this.handles[e];a&&a.updatePosition(o.x,o.y)}},n.prototype.updatePath=function(){var t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())},n.prototype.startHandleListening=function(t){var e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)},n.prototype.stopHandleListening=function(t){var e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)},n.prototype.getNeighborPoints=function(t){var e=this.cellView,r=this.vertices,o=t>0?r[t-1]:e.sourceAnchor,a=t<r.length-1?r[t+1]:e.targetAnchor;return{prev:l.Point.create(o),next:l.Point.create(a)}},n.prototype.getMouseEventArgs=function(t){var e=this.normalizeEvent(t),r=this.graph.snapToGrid(e.clientX,e.clientY);return{e,x:r.x,y:r.y}},n.prototype.onHandleChange=function(t){var e=t.e;this.focus();var r=this.cellView;if(r.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){var o=this.getMouseEventArgs(e),a=o.e,s=o.x,u=o.y;r.notifyMouseDown(a,s,u)}},n.prototype.onHandleChanging=function(t){var e=t.handle,r=t.e,o=this.cellView,a=e.options.index,s=this.getMouseEventArgs(r),u=s.e,c=s.x,h=s.y,d={x:c,y:h};this.snapVertex(d,a),o.cell.setVertexAt(a,d,{ui:!0,toolId:this.cid}),e.updatePosition(d.x,d.y),this.options.stopPropagation||o.notifyMouseMove(u,c,h)},n.prototype.onHandleChanged=function(t){var e=t.e,r=this.options,o=this.cellView;if(r.addable&&this.updatePath(),r.removeRedundancies){o.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),o.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(e).vertexAdded&&o.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});var a=this.getMouseEventArgs(e),s=a.e,u=a.x,c=a.y;this.options.stopPropagation||o.notifyMouseUp(s,u,c),o.checkMouseleave(s),r.onChanged&&r.onChanged({edge:o.cell,edgeView:o})}},n.prototype.snapVertex=function(t,e){var r=this.options.snapRadius||0;if(r>0){var o=this.getNeighborPoints(e),a=o.prev,s=o.next;Math.abs(t.x-a.x)<r?t.x=a.x:Math.abs(t.x-s.x)<r&&(t.x=s.x),Math.abs(t.y-a.y)<r?t.y=o.prev.y:Math.abs(t.y-s.y)<r&&(t.y=s.y)}},n.prototype.onHandleRemove=function(t){var e=t.handle,r=t.e;if(this.options.removable){var o=e.options.index,a=this.cellView;a.cell.removeVertexAt(o,{ui:!0}),this.options.addable&&this.updatePath(),a.checkMouseleave(this.normalizeEvent(r))}},n.prototype.onPathMouseDown=function(t){var e=this.cellView;if(!this.guard(t)&&this.options.addable&&e.can("vertexAddable")){t.stopPropagation(),t.preventDefault();var r=this.normalizeEvent(t),o=this.graph.snapToGrid(r.clientX,r.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});var a=e.getVertexIndex(o.x,o.y);this.snapVertex(o,a),e.cell.insertVertex(o,a,{ui:!0,toolId:this.cid}),this.render();var s=this.handles[a];this.eventData(r,{vertexAdded:!0}),s.onMouseDown(r)}},n.prototype.onRemove=function(){this.resetHandles()},n}(l.ToolsView.ToolItem);(function(i){var n=function(t){function e(r){var o=t.call(this)||this;return o.options=r,o.render(),o.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"}),o}return x(e,t),Object.defineProperty(e.prototype,"graph",{get:function(){return this.options.graph},enumerable:!1,configurable:!0}),e.prototype.render=function(){this.container=l.View.createElement("circle",!0);var r=this.options.attrs;if(typeof r=="function"){var o=i.getDefaults();this.setAttrs(y(y({},o.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-vertex"))},e.prototype.updatePosition=function(r,o){this.setAttrs({cx:r,cy:o})},e.prototype.onMouseDown=function(r){this.options.guard(r)||(r.stopPropagation(),r.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data),this.emit("change",{e:r,handle:this}))},e.prototype.onMouseMove=function(r){this.emit("changing",{e:r,handle:this})},e.prototype.onMouseUp=function(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()},e.prototype.onDoubleClick=function(r){this.emit("remove",{e:r,handle:this})},e}(l.View);i.Handle=n})(rs||(rs={})),function(i){var n,t=l.Util.prefix("edge-tool-vertex-path");i.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:function(e){return new i.Handle(e)},markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:(n={},n["mousedown ."+t]="onPathMouseDown",n["touchstart ."+t]="onPathMouseDown",n)})}(rs||(rs={}));var os=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.handles=[],t}return x(n,i),Object.defineProperty(n.prototype,"vertices",{get:function(){return this.cellView.cell.getVertices()},enumerable:!1,configurable:!0}),n.prototype.update=function(){return this.render(),this},n.prototype.onRender=function(){Ee(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();var t=this.cellView,e=T([],this.vertices,!0);e.unshift(t.sourcePoint),e.push(t.targetPoint);for(var r=0,o=e.length;r<o-1;r+=1){var a=e[r],s=e[r+1],u=this.renderHandle(a,s,r);this.stamp(u.container),this.handles.push(u)}return this},n.prototype.renderHandle=function(t,e,r){var o=this,a=this.options.createHandle({index:r,graph:this.graph,guard:function(s){return o.guard(s)},attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(a),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:a}),this.updateHandle(a,t,e),this.container.appendChild(a.container),this.startHandleListening(a),a},n.prototype.startHandleListening=function(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)},n.prototype.stopHandleListening=function(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)},n.prototype.resetHandles=function(){var t=this,e=this.handles;this.handles=[],e&&e.forEach(function(r){t.stopHandleListening(r),r.remove()})},n.prototype.shiftHandleIndexes=function(t){for(var e=this.handles,r=0,o=e.length;r<o;r+=1)e[r].options.index+=t},n.prototype.resetAnchor=function(t,e){var r=this.cellView.cell,o={ui:!0,toolId:this.cid};e?r.prop([t,"anchor"],e,o):r.removeProp([t,"anchor"],o)},n.prototype.snapHandle=function(t,e,r){var o=t.options.axis,a=t.options.index,s=this.cellView.cell.getVertices(),u=s[a-2]||r.sourceAnchor,c=s[a+1]||r.targetAnchor,h=this.options.snapRadius;return Math.abs(e[o]-u[o])<h?e[o]=u[o]:Math.abs(e[o]-c[o])<h&&(e[o]=c[o]),e},n.prototype.onHandleChanging=function(t){var e=t.handle,r=t.e,o=this.graph,a=this.options,s=this.cellView,u=a.anchor,c=e.options.axis,h=e.options.index-1,d=this.getEventData(r),g=this.normalizeEvent(r),C=o.snapToGrid(g.clientX,g.clientY),A=this.snapHandle(e,C.clone(),d),D=nn(this.vertices),k=D[h],O=D[h+1],F=s.sourceView,B=s.sourceBBox,z=!1,Y=!1;if(k?h===0?B.containsPoint(k)?(D.shift(),this.shiftHandleIndexes(-1),z=!0):(k[c]=A[c],Y=!0):k[c]=A[c]:((k=s.sourceAnchor.toJSON())[c]=A[c],B.containsPoint(k)?z=!0:(D.unshift(k),this.shiftHandleIndexes(1),Y=!0)),typeof u=="function"&&F){if(z){var w=d.sourceAnchor.clone();w[c]=A[c];var Q=Lt(u,s,w,F,s.sourceMagnet||F.container,"source",s,this);this.resetAnchor("source",Q)}Y&&this.resetAnchor("source",d.sourceAnchorDef)}var J=s.targetView,nt=s.targetBBox,lt=!1,ut=!1;if(O?h===D.length-2?nt.containsPoint(O)?(D.pop(),lt=!0):(O[c]=A[c],ut=!0):O[c]=A[c]:((O=s.targetAnchor.toJSON())[c]=A[c],nt.containsPoint(O)?lt=!0:(D.push(O),ut=!0)),typeof u=="function"&&J){if(lt){var xt=d.targetAnchor.clone();xt[c]=A[c];var Dt=Lt(u,s,xt,J,s.targetMagnet||J.container,"target",s,this);this.resetAnchor("target",Dt)}ut&&this.resetAnchor("target",d.targetAnchorDef)}l.Point.equalPoints(D,this.vertices)||this.cellView.cell.setVertices(D,{ui:!0,toolId:this.cid}),this.updateHandle(e,k,O,0),a.stopPropagation||s.notifyMouseMove(g,C.x,C.y)},n.prototype.onHandleChange=function(t){var e=t.handle,r=t.e,o=this.options,a=this.handles,s=this.cellView,u=e.options.index;if(Array.isArray(a)){for(var c=0,h=a.length;c<h;c+=1)c!==u&&a[c].hide();if(this.focus(),this.setEventData(r,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:nn(this.cell.prop(["source","anchor"])),targetAnchorDef:nn(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!o.stopPropagation){var d=this.normalizeEvent(r),g=this.graph.snapToGrid(d.clientX,d.clientY);s.notifyMouseDown(d,g.x,g.y)}}},n.prototype.onHandleChanged=function(t){var e=t.e,r=this.options,o=this.cellView;r.removeRedundancies&&o.removeRedundantLinearVertices({ui:!0,toolId:this.cid});var a=this.normalizeEvent(e),s=this.graph.snapToGrid(a.clientX,a.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),r.stopPropagation||o.notifyMouseUp(a,s.x,s.y),o.checkMouseleave(a),r.onChanged&&r.onChanged({edge:o.cell,edgeView:o})},n.prototype.updateHandle=function(t,e,r,o){o===void 0&&(o=0);var a=this.options.precision||0,s=Math.abs(e.x-r.x)<a,u=Math.abs(e.y-r.y)<a;if(s||u){var c=new l.Line(e,r);if(c.length()<this.options.threshold)t.hide();else{var h=c.getCenter(),d=s?"x":"y";h[d]+=o||0;var g=c.vector().vectorAngle(new l.Point(1,0));t.updatePosition(h.x,h.y,g,this.cellView),t.show(),t.options.axis=d}}else t.hide()},n.prototype.onRemove=function(){this.resetHandles()},n}(l.ToolsView.ToolItem);(function(i){var n=function(t){function e(r){var o=t.call(this)||this;return o.options=r,o.render(),o.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),o}return x(e,t),e.prototype.render=function(){this.container=l.View.createElement("rect",!0);var r=this.options.attrs;if(typeof r=="function"){var o=i.getDefaults();this.setAttrs(y(y({},o.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-segment"))},e.prototype.updatePosition=function(r,o,a,s){var u=s.getClosestPoint(new l.Point(r,o))||new l.Point(r,o),c=Pn().translate(u.x,u.y);if(u.equals({x:r,y:o}))c=c.rotate(a);else{var h=new l.Line(r,o,u.x,u.y).vector().vectorAngle(new l.Point(1,0));h!==0&&(h+=90),c=c.rotate(h)}this.setAttrs({transform:Vo(c),cursor:a%180==0?"row-resize":"col-resize"})},e.prototype.onMouseDown=function(r){this.options.guard(r)||(this.trigger("change",{e:r,handle:this}),r.stopPropagation(),r.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data))},e.prototype.onMouseMove=function(r){this.emit("changing",{e:r,handle:this})},e.prototype.onMouseUp=function(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()},e.prototype.show=function(){this.container.style.display=""},e.prototype.hide=function(){this.container.style.display="none"},e}(l.View);i.Handle=n})(os||(os={})),function(i){i.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:function(n){return new i.Handle(n)},anchor:Lv})}(os||(os={}));var Ql=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"type",{get:function(){return this.options.type},enumerable:!1,configurable:!0}),n.prototype.onRender=function(){Ee(this.container,this.prefixClassName("edge-tool-"+this.type+"-anchor")),this.toggleArea(!1),this.update()},n.prototype.update=function(){var t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this},n.prototype.updateAnchor=function(){var t=this.childNodes;if(t){var e=t.anchor;if(e){var r=this.type,o=this.cellView,a=this.options,s=o.getTerminalAnchor(r),u=o.cell.prop([r,"anchor"]);e.setAttribute("transform","translate("+s.x+", "+s.y+")");var c=u?a.customAnchorAttrs:a.defaultAnchorAttrs;c&&Object.keys(c).forEach(function(h){e.setAttribute(h,c[h])})}}},n.prototype.updateArea=function(){var t=this.childNodes;if(t){var e=t.area;if(e){var r=this.type,o=this.cellView,a=o.getTerminalView(r);if(a){var s=a.cell,u=o.getTerminalMagnet(r),c=this.options.areaPadding||0;Number.isFinite(c)||(c=0);var h=void 0,d=void 0,g=void 0;a.isEdgeElement(u)?(d=0,g=(h=a.getBBox()).getCenter()):(h=a.getUnrotatedBBoxOfElement(u),d=s.getAngle(),g=h.getCenter(),d&&g.rotate(-d,s.getBBox().getCenter())),h.inflate(c),Se(e,{x:-h.width/2,y:-h.height/2,width:h.width,height:h.height,transform:"translate("+g.x+", "+g.y+") rotate("+d+")"})}}}},n.prototype.toggleArea=function(t){if(this.childNodes){var e=this.childNodes.area;e&&(e.style.display=t?"":"none")}},n.prototype.onMouseDown=function(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))},n.prototype.resetAnchor=function(t){var e=this.type,r=this.cell;t?r.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):r.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})},n.prototype.onMouseMove=function(t){var e=this.type,r=this.cellView,o=r.getTerminalView(e);if(o!=null){var a,s=this.normalizeEvent(t),u=o.cell,c=r.getTerminalMagnet(e),h=this.graph.clientToLocal(s.clientX,s.clientY),d=this.options.snap;if(typeof d=="function"){var g=Lt(d,r,h,o,c,e,r,this);h=l.Point.create(g)}if(this.options.restrictArea)if(o.isEdgeElement(c)){var C=o.getClosestPoint(h);C&&(h=C)}else{var A=o.getUnrotatedBBoxOfElement(c),D=u.getAngle(),k=u.getBBox().getCenter(),O=h.clone().rotate(D,k);A.containsPoint(O)||(h=A.getNearestPointToPoint(O).rotate(-D,k))}var F=this.options.anchor;typeof F=="function"&&(a=Lt(F,r,h,o,c,e,r,this)),this.resetAnchor(a),this.update()}},n.prototype.onMouseUp=function(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})},n.prototype.onDblClick=function(){var t=this.options.resetAnchor;t&&this.resetAnchor(t===!0?void 0:t),this.update()},n}(l.ToolsView.ToolItem);(function(i){i.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:Lv,snap:function(n,t,e,r,o,a){var s=a.options.snapRadius||0,u=r==="source",c=u?0:-1,h=this.cell.getVertexAt(c)||this.getTerminalAnchor(u?"target":"source");return h&&(Math.abs(h.x-n.x)<s&&(n.x=h.x),Math.abs(h.y-n.y)<s&&(n.y=h.y)),n}})})(Ql||(Ql={}));var gC=Ql.define({name:"source-anchor",type:"source"}),vC=Ql.define({name:"target-anchor",type:"target"}),_l=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"type",{get:function(){return this.options.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ratio",{get:function(){return this.options.ratio},enumerable:!1,configurable:!0}),n.prototype.init=function(){if(this.options.attrs){var t=this.options.attrs,e=t.class,r=f(t,["class"]);this.setAttrs(r,this.container),e&&Ee(this.container,e)}},n.prototype.onRender=function(){Ee(this.container,this.prefixClassName("edge-tool-"+this.type+"-arrowhead")),this.update()},n.prototype.update=function(){var t=this.ratio,e=this.cellView,r=e.getTangentAtRatio(t),o=r?r.start:e.getPointAtRatio(t),a=r&&r.vector().vectorAngle(new l.Point(1,0))||0;if(!o)return this;var s=Pn().translate(o.x,o.y).rotate(a);return fi(this.container,s,{absolute:!0}),this},n.prototype.onMouseDown=function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});var r=this.graph.snapToGrid(t.clientX,t.clientY),o=e.prepareArrowheadDragging(this.type,{x:r.x,y:r.y,options:{toolId:this.cid}});this.cellView.setEventData(t,o),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}},n.prototype.onMouseMove=function(t){var e=this.normalizeEvent(t),r=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,r.x,r.y),this.update()},n.prototype.onMouseUp=function(t){this.undelegateDocumentEvents();var e=this.normalizeEvent(t),r=this.cellView,o=this.graph.snapToGrid(e.clientX,e.clientY);r.onMouseUp(e,o.x,o.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",r.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})},n}(l.ToolsView.ToolItem);(function(i){i.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(_l||(_l={}));var mi,bi,yC=_l.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),mC=_l.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),la=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelIndex=-1,t.distance=.5,t}return x(n,i),n.prototype.render=function(){return this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this},n.prototype.createElement=function(){var t=this.cell,e=[this.prefixClassName((t.isEdge()?"edge":"node")+"-tool-editor"),this.prefixClassName("cell-tool-editor")];this.editor=l.ToolsView.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)},n.prototype.updateEditor=function(){var t=this,e=t.graph,r=t.cell,o=t.editor,a=o.style,s=new l.Point,u=20;if(r.isNode())s=r.getBBox().center,u=r.size().width-4;else if(r.isEdge()){var c=this.options.event,h=c.target,d=h.parentElement;if(d&&Qi(d,this.prefixClassName("edge-label"))){var g=d.getAttribute("data-index")||"0";this.labelIndex=parseInt(g,10);var C=qa(d.getAttribute("transform")).translation;s=new l.Point(C.tx,C.ty),u=An(h).width}else{if(!this.options.labelAddable)return this;s=e.clientToLocal(l.Point.create(c.clientX,c.clientY));var A=this.cellView.path.closestPointLength(s);this.distance=A}}s=e.localToGraph(s),a.left=s.x+"px",a.top=s.y+"px",a.minWidth=u+"px";var D=e.scale();a.transform="scale("+D.sx+", "+D.sy+") translate(-50%, -50%)";var k=this.options.attrs;a.fontSize=k.fontSize+"px",a.fontFamily=k.fontFamily,a.color=k.color,a.backgroundColor=k.backgroundColor;var O,F=this.options.getText;return typeof F=="function"&&(O=Lt(F,this.cellView,{cell:this.cell,index:this.labelIndex})),o.innerText=O||"",this},n.prototype.onDocumentMouseDown=function(t){if(t.target!==this.editor){var e=this.cell,r=this.editor.innerText.replace(/\n$/,"")||"",o=this.options.setText;typeof o=="function"&&Lt(o,this.cellView,{cell:this.cell,value:r,index:this.labelIndex,distance:this.distance}),e.removeTool(e.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}},n.prototype.onDblClick=function(t){t.stopPropagation()},n.prototype.onMouseDown=function(t){t.stopPropagation()},n.prototype.autoFocus=function(){var t=this;setTimeout(function(){t.editor.focus(),t.selectText()})},n.prototype.selectText=function(){if(window.getSelection){var t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.editor),e.removeAllRanges(),e.addRange(t)}},n}(l.ToolsView.ToolItem);(function(i){i.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(la||(la={})),function(i){i.NodeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:function(n){return n.cell.attr("text/text")},setText:function(n){var t=n.cell,e=n.value;t.attr("text/text",e)}}),i.EdgeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:function(n){var t=n.cell,e=n.index;return e===-1?"":t.prop("labels/"+e+"/attrs/label/text")},setText:function(n){var t=n.cell,e=n.value,r=n.index,o=n.distance,a=t;r===-1?a.appendLabel({position:{distance:o},attrs:{label:{text:e}}}):e?a.prop("labels/"+r+"/attrs/label/text",e):typeof r=="number"&&a.removeLabelAt(r)}})}(la||(la={})),function(i){i.presets={boundary:ql,button:Xo,"button-remove":Xo.Remove,"node-editor":la.NodeEditor},i.registry=rn.create({type:"node tool",process:function(n,t){if(typeof t=="function")return t;var e=l.ToolsView.ToolItem,r=t.inherit,o=f(t,["inherit"]);if(r){var a=this.get(r);a==null?this.onNotFound(r,"inherited"):e=a}return o.name==null&&(o.name=n),e.define.call(e,o)}}),i.registry.register(i.presets,!0)}(mi||(mi={})),function(i){i.presets={boundary:ql,vertices:rs,segments:os,button:Xo,"button-remove":Xo.Remove,"source-anchor":gC,"target-anchor":vC,"source-arrowhead":yC,"target-arrowhead":mC,"edge-editor":la.EdgeEditor},i.registry=rn.create({type:"edge tool",process:function(n,t){if(typeof t=="function")return t;var e=l.ToolsView.ToolItem,r=t.inherit,o=f(t,["inherit"]);if(r){var a=this.get(r);a==null?this.onNotFound(r,"inherited"):e=a}return o.name==null&&(o.name=n),e.define.call(e,o)}}),i.registry.register(i.presets,!0)}(bi||(bi={}));var bC=wo("center"),CC=wo("topCenter"),xC=wo("bottomCenter"),wC=wo("leftMiddle"),EC=wo("rightMiddle"),SC=wo("topLeft"),PC=wo("topRight"),AC=wo("bottomLeft"),MC=wo("bottomRight");function wo(i){return function(n,t,e,r){r===void 0&&(r={});var o=r.rotate?n.getUnrotatedBBoxOfElement(t):n.getBBoxOfElement(t),a=o[i];a.x+=Dr(r.dx,o.width),a.y+=Dr(r.dy,o.height);var s=n.cell;return r.rotate?a.rotate(-s.getAngle(),s.getBBox().getCenter()):a}}function tu(i){return function(n,t,e,r){if(e instanceof Element){var o=this.graph.renderer.findViewByElem(e),a=void 0;if(o)if(o.isEdgeElement(e)){var s=r.fixedAt!=null?r.fixedAt:"50%";a=Rv(o,s)}else a=o.getBBoxOfElement(e).getCenter();else a=new l.Point;return i.call(this,n,t,a,r)}return i.apply(this,arguments)}}function Rv(i,n){var t=Gr(n),e=typeof n=="string"?parseFloat(n):n;return t?i.getPointAtRatio(e/100):i.getPointAtLength(e)}var Ci,TC=tu(function(i,n,t,e){var r=i.cell.getAngle(),o=i.getBBoxOfElement(n),a=o.getCenter(),s=o.getTopLeft(),u=o.getBottomRight(),c=e.padding;if(Number.isFinite(c)||(c=0),s.y+c<=t.y&&t.y<=u.y-c){var h=t.y-a.y;a.x+=r===0||r===180?0:1*h/Math.tan(l.Angle.toRad(r)),a.y+=h}else if(s.x+c<=t.x&&t.x<=u.x-c){var d=t.x-a.x;a.y+=r===90||r===270?0:d*Math.tan(l.Angle.toRad(r)),a.x+=d}return a}),DC=tu(function(i,n,t,e){var r,o,a=0,s=i.cell;e.rotate?(r=i.getUnrotatedBBoxOfElement(n),o=s.getBBox().getCenter(),a=s.getAngle()):r=i.getBBoxOfElement(n);var u=e.padding;u!=null&&Number.isFinite(u)&&r.inflate(u),e.rotate&&t.rotate(a,o);var c,h=r.getNearestSideToPoint(t);switch(h){case"left":c=r.getLeftMiddle();break;case"right":c=r.getRightMiddle();break;case"top":c=r.getTopCenter();break;case"bottom":c=r.getBottomCenter()}var d=e.direction;return d==="H"?h!=="top"&&h!=="bottom"||(c=t.x<=r.x+r.width?r.getLeftMiddle():r.getRightMiddle()):d==="V"&&(c=t.y<=r.y+r.height?r.getTopCenter():r.getBottomCenter()),e.rotate?c.rotate(-a,o):c}),OC=Object.freeze({__proto__:null,center:bC,top:CC,bottom:xC,left:wC,right:EC,topLeft:SC,topRight:PC,bottomLeft:AC,bottomRight:MC,orth:TC,nodeCenter:function(i,n,t,e,r){var o=i.cell.getConnectionPoint(this.cell,r);return(e.dx||e.dy)&&o.translate(e.dx||0,e.dy||0),o},midSide:DC});(function(i){i.presets=OC,i.registry=rn.create({type:"node endpoint"}),i.registry.register(i.presets,!0)})(Ci||(Ci={}));var xi,Iv=function(i,n,t,e){var r=i.getClosestPoint(t);return r!=null?r:new l.Point},NC=tu(Iv),kC=tu(function(i,n,t,e){var r=1e6,o=i.getConnection(),a=i.getConnectionSubdivisions(),s=new l.Line(t.clone().translate(0,r),t.clone().translate(0,-r)),u=new l.Line(t.clone().translate(r,0),t.clone().translate(-r,0)),c=s.intersect(o,{segmentSubdivisions:a}),h=u.intersect(o,{segmentSubdivisions:a}),d=[];return c&&d.push.apply(d,c),h&&d.push.apply(d,h),d.length>0?t.closest(d):e.fallbackAt!=null?Rv(i,e.fallbackAt):Lt(Iv,this,i,n,t,e)}),LC=Object.freeze({__proto__:null,closest:NC,ratio:function(i,n,t,e){var r=e.ratio!=null?e.ratio:.5;return r>1&&(r/=100),i.getPointAtRatio(r)},length:function(i,n,t,e){var r=e.length!=null?e.length:20;return i.getPointAtLength(r)},orth:kC});function eu(i,n,t){var e;if(typeof t=="object"){if(Number.isFinite(t.y)){var r=new l.Line(n,i).parallel(t.y);n=r.start,i=r.end}e=t.x}else e=t;if(e==null||!Number.isFinite(e))return i;var o=i.distance(n);return e===0&&o>0?i:i.move(n,-Math.min(e,o-1))}function nu(i){var n=i.getAttribute("stroke-width");return n===null?0:parseFloat(n)||0}(function(i){i.presets=LC,i.registry=rn.create({type:"edge endpoint"}),i.registry.register(i.presets,!0)})(xi||(xi={}));var jv=function(i,n,t,e){var r=n.getBBoxOfElement(t);e.stroked&&r.inflate(nu(t)/2);var o=i.intersect(r);return eu(o&&o.length?i.start.closest(o):i.end,i.start,e.offset)},wi,FC=Object.freeze({__proto__:null,bbox:jv,rect:function(i,n,t,e,r){var o=n.cell,a=o.isNode()?o.getAngle():0;if(a===0)return Lt(jv,this,i,n,t,e,r);var s=n.getUnrotatedBBoxOfElement(t);e.stroked&&s.inflate(nu(t)/2);var u=s.getCenter(),c=i.clone().rotate(a,u),h=c.setLength(1e6).intersect(s);return eu(h&&h.length?c.start.closest(h).rotate(-a,u):i.end,i.start,e.offset)},boundary:function(i,n,t,e){var r,o,a=i.end,s=e.selector;if(!Bo(r=typeof s=="string"?n.findOne(s):Array.isArray(s)?gl(t,s):function(Y){if(Y==null)return null;var w=Y;do{var Q=w.tagName;if(typeof Q!="string")return null;if((Q=Q.toUpperCase())==="G")w=w.firstElementChild;else{if(Q!=="TITLE")break;w=w.nextElementSibling}}while(w);return w}(t))){if(r===t||!Bo(t))return a;r=t}var u,c=n.getShapeOfElement(r),h=n.getMatrixOfElement(r),d=n.getRootTranslatedMatrix(),g=n.getRootRotatedMatrix(),C=d.multiply(g).multiply(h),A=Hg(i,C.inverse()),D=A.start.clone(),k=n.getDataOfElement(r);if(e.insideout===!1){k.shapeBBox==null&&(k.shapeBBox=c.bbox());var O=k.shapeBBox;if(O!=null&&O.containsPoint(D))return a}if(e.extrapolate===!0&&A.setLength(1e6),l.Path.isPath(c)){var F=e.precision||2;k.segmentSubdivisions==null&&(k.segmentSubdivisions=c.getSegmentSubdivisions({precision:F})),u={precision:F,segmentSubdivisions:k.segmentSubdivisions},o=A.intersect(c,u)}else o=A.intersect(c);o?Array.isArray(o)&&(o=D.closest(o)):e.sticky===!0&&(o=l.Rectangle.isRectangle(c)?c.getNearestPointToPoint(D):l.Ellipse.isEllipse(c)?c.intersectsWithLineFromCenterToPoint(D):c.closestPoint(D,u));var B=o?Ur(o,C):a,z=e.offset||0;return e.stroked!==!1&&(typeof z=="object"?((z=y({},z)).x==null&&(z.x=0),z.x+=nu(r)/2):z+=nu(r)/2),eu(B,i.start,z)},anchor:function(i,n,t,e){var r=e.alignOffset,o=e.align;return o&&function(a,s,u){u===void 0&&(u=0);var c,h,d,g,C=a.start,A=a.end;switch(s){case"left":g="x",c=A,h=C,d=-1;break;case"right":g="x",c=C,h=A,d=1;break;case"top":g="y",c=A,h=C,d=-1;break;case"bottom":g="y",c=C,h=A,d=1;break;default:return}C[g]<A[g]?c[g]=h[g]:h[g]=c[g],Number.isFinite(u)&&(c[g]+=d*u,h[g]+=d*u)}(i,o,r),eu(i.end,i.start,e.offset)}});(function(i){i.presets=FC,i.registry=rn.create({type:"connection point"}),i.registry.register(i.presets,!0)})(wi||(wi={}));function ru(i){return new l.Rectangle(i.x,i.y,0,0)}function ou(i){i===void 0&&(i={});var n=sr(i.padding||20);return{x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}function Bv(i,n){return n===void 0&&(n={}),i.sourceBBox.clone().moveAndExpand(ou(n))}function zv(i,n){return n===void 0&&(n={}),i.targetBBox.clone().moveAndExpand(ou(n))}var Or,Vv=function(i,n,t){var e=Bv(t,n),r=zv(t,n),o=function(O,F){return F===void 0&&(F={}),O.sourceAnchor?O.sourceAnchor:Bv(O,F).getCenter()}(t,n),a=function(O,F){return F===void 0&&(F={}),O.targetAnchor?O.targetAnchor:zv(O,F).getCenter()}(t,n);e=e.union(ru(o)),r=r.union(ru(a));var s=i.map(function(O){return l.Point.create(O)});s.unshift(o),s.push(a);for(var u=null,c=[],h=0,d=s.length-1;h<d;h+=1){var g=null,C=s[h],A=s[h+1],D=Or.getBearing(C,A)!=null;if(h===0)h+1===d?e.intersectsWithRect(r.clone().inflate(1))?g=Or.insideNode(C,A,e,r):D||(g=Or.nodeToNode(C,A,e,r)):e.containsPoint(A)?g=Or.insideNode(C,A,e,ru(A).moveAndExpand(ou(n))):D||(g=Or.nodeToVertex(C,A,e));else if(h+1===d){var k=D&&Or.getBearing(A,C)===u;r.containsPoint(C)||k?g=Or.insideNode(C,A,ru(C).moveAndExpand(ou(n)),r,u):D||(g=Or.vertexToNode(C,A,r,u))}else D||(g=Or.vertexToVertex(C,A,u));g?(c.push.apply(c,g.points),u=g.direction):u=Or.getBearing(C,A),h+1<d&&c.push(A)}return c};(function(i){var n={N:"S",S:"N",E:"W",W:"E"},t={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function e(u,c,h){var d=new l.Point(u.x,c.y);return h.containsPoint(d)&&(d=new l.Point(c.x,u.y)),d}function r(u,c){return u[c==="W"||c==="E"?"width":"height"]}function o(u,c){return u.x===c.x?u.y>c.y?"N":"S":u.y===c.y?u.x>c.x?"W":"E":null}function a(u,c,h){var d=new l.Point(u.x,c.y),g=new l.Point(c.x,u.y),C=o(u,d),A=o(u,g),D=h?n[h]:null,k=C===h||C!==D&&(A===D||A!==h)?d:g;return{points:[k],direction:o(k,c)}}function s(u,c,h){var d=e(u,c,h);return{points:[d],direction:o(d,c)}}i.getBBoxSize=r,i.getBearing=o,i.vertexToVertex=a,i.nodeToVertex=s,i.vertexToNode=function(u,c,h,d){var g,C=[new l.Point(u.x,c.y),new l.Point(c.x,u.y)],A=C.filter(function(O){return!h.containsPoint(O)}),D=A.filter(function(O){return o(O,u)!==d});if(D.length>0)return{points:[g=(g=D.filter(function(O){return o(u,O)===d}).pop())||D[0]],direction:o(g,c)};g=Of(C,A)[0];var k=l.Point.create(c).move(g,-r(h,d)/2);return{points:[e(k,u,h),k],direction:o(k,c)}},i.nodeToNode=function(u,c,h,d){var g=s(c,u,d),C=g.points[0];if(h.containsPoint(C)){var A=(g=s(u,c,h)).points[0];if(d.containsPoint(A)){var D=l.Point.create(u).move(A,-r(h,o(u,A))/2),k=l.Point.create(c).move(C,-r(d,o(c,C))/2),O=new l.Line(D,k).getCenter(),F=s(u,O,h),B=a(O,c,F.direction);g.points=[F.points[0],B.points[0]],g.direction=B.direction}}return g},i.insideNode=function(u,c,h,d,g){var C,A,D,k,O=h.union(d).inflate(1),F=O.getCenter(),B=F.distance(c)>F.distance(u),z=B?c:u,Y=B?u:c;return g?(C=l.Point.fromPolar(O.width+O.height,t[g],z),C=O.getNearestPointToPoint(C).move(C,-1)):C=O.getNearestPointToPoint(z).move(z,1),A=e(C,Y,O),C.round().equals(A.round())?(A=l.Point.fromPolar(O.width+O.height,l.Angle.toRad(C.theta(z))+Math.PI/2,Y),D=e(C,A=O.getNearestPointToPoint(A).move(Y,1).round(),O),k=B?[A,D,C]:[C,D,A]):k=B?[A,C]:[C,A],{points:k,direction:o(B?C:A,c)}}})(Or||(Or={}));var RC={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeNodes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return Yo(this.step,this)},directions:function(){var i=Yo(this.step,this),n=Yo(this.cost,this);return[{cost:n,offsetX:i,offsetY:0},{cost:n,offsetX:-i,offsetY:0},{cost:n,offsetX:0,offsetY:i},{cost:n,offsetX:0,offsetY:-i}]},penalties:function(){var i=Yo(this.step,this);return{0:0,45:i/2,90:i/2}},paddingBox:function(){var i=Yo(this.step,this);return{x:-i,y:-i,width:2*i,height:2*i}},fallbackRouter:Vv,draggingRouter:null};function Yo(i,n){return typeof i=="function"?i.call(n):i}var IC=function(){function i(){this.items=[],this.hash={},this.values={}}return i.prototype.add=function(n,t){var e=this;this.hash[n]?this.items.splice(this.items.indexOf(n),1):this.hash[n]=1,this.values[n]=t;var r=Kf(this.items,n,function(o){return e.values[o]});this.items.splice(r,0,n)},i.prototype.pop=function(){var n=this.items.shift();return n&&(this.hash[n]=2),n},i.prototype.isOpen=function(n){return this.hash[n]===1},i.prototype.isClose=function(n){return this.hash[n]===2},i.prototype.isEmpty=function(){return this.items.length===0},i}(),jC=function(){function i(n){this.options=n,this.mapGridSize=100,this.map={}}return i.prototype.build=function(n,t){var e=this.options,r=e.excludeTerminals.reduce(function(c,h){var d=t[h];if(d){var g=n.getCell(d.cell);g&&c.push(g)}return c},[]),o=[],a=n.getCell(t.getSourceCellId());a&&(o=Vc(o,a.getAncestors().map(function(c){return c.id})));var s=n.getCell(t.getTargetCellId());s&&(o=Vc(o,s.getAncestors().map(function(c){return c.id})));var u=this.mapGridSize;return n.getNodes().reduce(function(c,h){var d=h.shape,g=e.excludeShapes,C=!!d&&g.includes(d),A=r.some(function(J){return J.id===h.id}),D=e.excludeNodes.includes(h),k=o.includes(h.id),O=e.excludeHiddenNodes&&!h.isVisible();if(!(C||A||D||k||O))for(var F=h.getBBox().moveAndExpand(e.paddingBox),B=F.getOrigin().snapToGrid(u),z=F.getCorner().snapToGrid(u),Y=B.x;Y<=z.x;Y+=u)for(var w=B.y;w<=z.y;w+=u){var Q=new l.Point(Y,w).toString();c[Q]==null&&(c[Q]=[]),c[Q].push(F)}return c},this.map),this},i.prototype.isAccessible=function(n){var t=n.clone().snapToGrid(this.mapGridSize).toString(),e=this.map[t];return!e||e.every(function(r){return!r.containsPoint(n)})},i}();function Gv(i,n){var t=i.sourceBBox.clone();return n&&n.paddingBox?t.moveAndExpand(n.paddingBox):t}function Hv(i,n){var t=i.targetBBox.clone();return n&&n.paddingBox?t.moveAndExpand(n.paddingBox):t}function Uv(i,n){return i.sourceAnchor?i.sourceAnchor:Gv(i,n).getCenter()}function Ih(i,n,t,e,r){var o=360/t,a=i.theta(function(u,c,h,d){var g=d.step,C=c.x-u.x,A=c.y-u.y,D=C/h.x,k=A/h.y,O=D*g,F=k*g;return new l.Point(u.x+O,u.y+F)}(i,n,e,r)),s=l.Angle.normalize(a+o/2);return o*Math.floor(s/o)}function $v(i,n){var t=Math.abs(i-n);return t>180?360-t:t}function Wv(i,n){if(!i)return n;var t=Math.abs(i),e=Math.round(t/n);return e?n+(t-e*n)/e:t}function is(i,n){return i.round(n)}function iu(i,n,t){return is(function(e,r){var o=r.source,a=l.Util.snapToGrid(e.x-o.x,r.x)+o.x,s=l.Util.snapToGrid(e.y-o.y,r.y)+o.y;return new l.Point(a,s)}(i.clone(),n),t)}function as(i){return i.toString()}function jh(i){return new l.Point(i.x===0?0:Math.abs(i.x)/i.x,i.y===0?0:Math.abs(i.y)/i.y)}function Xv(i,n){for(var t=1/0,e=0,r=n.length;e<r;e+=1){var o=i.manhattanDistance(n[e]);o<t&&(t=o)}return t}function Yv(i,n,t,e,r){var o=r.precision,a=r.directionMap,s=i.diff(n.getCenter()),u=Object.keys(a).reduce(function(c,h){if(t.includes(h)){for(var d=a[h],g=new l.Point(i.x+d.x*(Math.abs(s.x)+n.width),i.y+d.y*(Math.abs(s.y)+n.height)),C=new l.Line(i,g).intersect(n)||[],A=void 0,D=null,k=0;k<C.length;k+=1){var O=C[k],F=i.squaredDistance(O);(A==null||F>A)&&(A=F,D=O)}if(D){var B=iu(D,e,o);n.containsPoint(B)&&(B=iu(B.translate(d.x*e.x,d.y*e.y),e,o)),c.push(B)}}return c},[]);return n.containsPoint(i)||u.push(iu(i,e,o)),u}function BC(i,n,t,e,r){for(var o,a=[],s=jh(r.diff(t)),u=as(t),c=i[u];c;){var h=jh((o=n[u]).diff(c));h.equals(s)||(a.unshift(o),s=h),c=i[u=as(c)]}var d=n[u];return jh(d.diff(e)).equals(s)||a.unshift(d),a}function zC(i,n,t,e,r){var o,a,s=r.precision;o=l.Rectangle.isRectangle(n)?is(Uv(i,r).clone(),s):is(n.clone(),s),a=l.Rectangle.isRectangle(t)?is(function(je,Rn){return je.targetAnchor?je.targetAnchor:Hv(je,Rn).getCenter()}(i,r).clone(),s):is(t.clone(),s);var u,c,h,d,g,C=(u=r.step,h=a,{source:(c=o).clone(),x:Wv(h.x-c.x,u),y:Wv(h.y-c.y,u)}),A=o,D=a;if(d=l.Rectangle.isRectangle(n)?Yv(A,n,r.startDirections,C,r):[A],g=l.Rectangle.isRectangle(t)?Yv(a,t,r.endDirections,C,r):[D],d=d.filter(function(je){return e.isAccessible(je)}),g=g.filter(function(je){return e.isAccessible(je)}),d.length>0&&g.length>0){for(var k=new IC,O={},F={},B={},z=0,Y=d.length;z<Y;z+=1){var w=d[z],Q=as(w);k.add(Q,Xv(w,g)),O[Q]=w,B[Q]=0}for(var J=r.previousDirectionAngle,nt=J===void 0,lt=void 0,ut=void 0,xt=function(je,Rn){var Te=Rn.step;return Rn.directions.forEach(function(Ge){Ge.gridOffsetX=Ge.offsetX/Te*je.x,Ge.gridOffsetY=Ge.offsetY/Te*je.y}),Rn.directions}(C,r),Dt=xt.length,ft=g.reduce(function(je,Rn){var Te=as(Rn);return je.push(Te),je},[]),At=l.Point.equalPoints(d,g),Ot=r.maxLoopCount;!k.isEmpty()&&Ot>0;){var Pt=k.pop(),It=O[Pt],Vt=F[Pt],Rt=B[Pt],Zt=It.equals(A),de=Vt==null,Qe=void 0;if(Qe=de?nt?Zt?null:Ih(A,It,Dt,C,r):J:Ih(Vt,It,Dt,C,r),!(de&&At)&&ft.indexOf(Pt)>=0)return r.previousDirectionAngle=Qe,BC(F,O,It,A,D);for(z=0;z<Dt;z+=1){var Ue=(lt=xt[z]).angle;if(ut=$v(Qe,Ue),nt&&Zt||!(ut>r.maxDirectionChange)){var be=iu(It.clone().translate(lt.gridOffsetX||0,lt.gridOffsetY||0),C,s),Ie=as(be);if(!k.isClose(Ie)&&e.isAccessible(be)){if(ft.indexOf(Ie)>=0&&!be.equals(D)&&$v(Ue,Ih(be,D,Dt,C,r))>r.maxDirectionChange)continue;var ve=Rt+lt.cost+(Zt?0:r.penalties[ut]);(!k.isOpen(Ie)||ve<B[Ie])&&(O[Ie]=be,F[Ie]=It,B[Ie]=ve,k.add(Ie,ve+Xv(be,g)))}}}Ot-=1}}return r.fallbackRoute?Lt(r.fallbackRoute,this,A,D,r):null}var VC=function(i,n,t){for(var e,r,o=function(z){var Y=Object.keys(z).reduce(function(Q,J){return Q[J]=J==="fallbackRouter"||J==="draggingRouter"||J==="fallbackRoute"?z[J]:Yo(z[J],z),Q},{});if(Y.padding){var w=sr(Y.padding);Y.paddingBox={x:-w.left,y:-w.top,width:w.left+w.right,height:w.top+w.bottom}}return Y.directions.forEach(function(Q){var J=new l.Point(0,0),nt=new l.Point(Q.offsetX,Q.offsetY);Q.angle=l.Angle.normalize(J.theta(nt))}),Y}(n),a=Gv(t,o),s=Hv(t,o),u=Uv(t,o),c=new jC(o).build(t.graph.model,t.cell),h=i.map(function(z){return l.Point.create(z)}),d=[],g=u,C=0,A=h.length;C<=A;C+=1){var D=null;if(e=r||a,(r=h[C])==null){r=s;var k=t.cell;if((k.getSourceCellId()==null||k.getTargetCellId()==null)&&typeof o.draggingRouter=="function"){var O=e===a?u:e,F=r.getOrigin();D=Lt(o.draggingRouter,t,O,F,o)}}if(D==null&&(D=zC(t,e,r,c,o)),D===null)return console.warn("Unable to execute manhattan algorithm, use orth instead"),Lt(o.fallbackRouter,this,i,o,t);var B=D[0];B&&B.equals(g)&&D.shift(),g=D[D.length-1]||g,d.push.apply(d,D)}return d},Kv=function(i,n,t){return Lt(VC,this,i,y(y({},RC),n),t)},GC={maxDirectionChange:45,directions:function(){var i=Yo(this.step,this),n=Yo(this.cost,this),t=Math.ceil(Math.sqrt(i*i<<1));return[{cost:n,offsetX:i,offsetY:0},{cost:t,offsetX:i,offsetY:i},{cost:n,offsetX:0,offsetY:i},{cost:t,offsetX:-i,offsetY:i},{cost:n,offsetX:-i,offsetY:0},{cost:t,offsetX:-i,offsetY:-i},{cost:n,offsetX:0,offsetY:-i},{cost:t,offsetX:i,offsetY:-i}]},fallbackRoute:function(i,n,t){var e=i.theta(n),r=[],o={x:n.x,y:i.y},a={x:i.x,y:n.y};if(e%180>90){var s=o;o=a,a=s}var u=e%90<45?o:a,c=new l.Line(i,u),h=90*Math.ceil(e/90),d=l.Point.fromPolar(c.squaredLength(),l.Angle.toRad(h+135),u),g=new l.Line(n,d),C=c.intersectsWithLine(g),A=C||n,D=C?A:i,k=360/t.directions.length,O=D.theta(n),F=l.Angle.normalize(O+k/2),B=k*Math.floor(F/k);return t.previousDirectionAngle=B,A&&r.push(A.round()),r.push(n),r}};function ua(i,n){if(n!=null&&n!==!1){var t=typeof n=="boolean"?0:n;if(t>0){var e=l.Point.create(i[1]).move(i[2],t),r=l.Point.create(i[1]).move(i[0],t);return T(T([e.toJSON()],i,!0),[r.toJSON()],!1)}var o=i[1];return T(T([y({},o)],i,!0),[y({},o)],!1)}return i}var Eo,HC=Object.freeze({__proto__:null,normal:function(i){return T([],i,!0)},oneSide:function(i,n,t){var e,r,o,a=n.side||"bottom",s=sr(n.padding||40),u=t.sourceBBox,c=t.targetBBox,h=u.getCenter(),d=c.getCenter();switch(a){case"top":o=-1,e="y",r="height";break;case"left":o=-1,e="x",r="width";break;case"right":o=1,e="x",r="width";break;case"bottom":default:o=1,e="y",r="height"}return h[e]+=o*(u[r]/2+s[a]),d[e]+=o*(c[r]/2+s[a]),o*(h[e]-d[e])>0?d[e]=h[e]:h[e]=d[e],T(T([h.toJSON()],i,!0),[d.toJSON()],!1)},orth:Vv,metro:function(i,n,t){return Lt(Kv,this,i,y(y({},GC),n),t)},manhattan:Kv,er:function(i,n,t){var e,r,o,a=n.offset||32,s=n.min==null?16:n.min,u=0,c=n.direction,h=t.sourceBBox,d=t.targetBBox,g=h.getCenter(),C=d.getCenter();if(typeof a=="number"&&(u=a),c==null){var A=d.left-h.right,D=d.top-h.bottom;A>=0&&D>=0?c=A>=D?"L":"T":A<=0&&D>=0?c=(A=h.left-d.right)>=0&&A>=D?"R":"T":A>=0&&D<=0?c=(D=h.top-d.bottom)>=0?A>=D?"L":"B":"L":(A=h.left-d.right,D=h.top-d.bottom,c=A>=0&&D>=0?A>=D?"R":"B":A<=0&&D>=0?"B":A>=0&&D<=0||Math.abs(A)>Math.abs(D)?"R":"B")}c==="H"?c=C.x-g.x>=0?"L":"R":c==="V"&&(c=C.y-g.y>=0?"T":"B"),a==="center"&&(c==="L"?u=(d.left-h.right)/2:c==="R"?u=(h.left-d.right)/2:c==="T"?u=(d.top-h.bottom)/2:c==="B"&&(u=(h.top-d.bottom)/2));var k=c==="L"||c==="R";if(k){if(C.y===g.y)return T([],i,!0);o=c==="L"?1:-1,e="x",r="width"}else{if(C.x===g.x)return T([],i,!0);o=c==="T"?1:-1,e="y",r="height"}var O=g.clone(),F=C.clone();if(O[e]+=o*(h[r]/2+u),F[e]-=o*(d[r]/2+u),k){var B=O.x,z=F.x,Y=h.width/2+s,w=d.width/2+s;C.x>g.x?z<=B&&(O.x=Math.max(z,g.x+Y),F.x=Math.min(B,C.x-w)):z>=B&&(O.x=Math.min(z,g.x-Y),F.x=Math.max(B,C.x+w))}else{var Q=O.y,J=F.y;Y=h.height/2+s,w=d.height/2+s,C.y>g.y?J<=Q&&(O.y=Math.max(J,g.y+Y),F.y=Math.min(Q,C.y-w)):J>=Q&&(O.y=Math.min(J,g.y-Y),F.y=Math.max(Q,C.y+w))}return T(T([O.toJSON()],i,!0),[F.toJSON()],!1)},loop:function(i,n,t){var e=n.width||50,r=(n.height||80)/2,o=n.angle||"auto",a=t.sourceAnchor,s=t.targetAnchor,u=t.sourceBBox,c=t.targetBBox;if(a.equals(s)){var h=function(At){var Ot=l.Angle.toRad(At),Pt=Math.sin(Ot),It=Math.cos(Ot),Vt=new l.Point(a.x+It*e,a.y+Pt*e),Rt=new l.Point(Vt.x-It*r,Vt.y-Pt*r),Zt=Rt.clone().rotate(-90,Vt),de=Rt.clone().rotate(90,Vt);return[Zt.toJSON(),Vt.toJSON(),de.toJSON()]},d=function(At){var Ot=a.clone().move(At,-1),Pt=new l.Line(Ot,At);return!u.containsPoint(At)&&!u.intersectsWithLine(Pt)},g=[0,90,180,270,45,135,225,315];if(typeof o=="number")return ua(h(o),n.merge);if((B=u.getCenter()).equals(a))return ua(h(0),n.merge);var C=B.angleBetween(a,B.clone().translate(1,0)),A=h(C);if(d(A[1]))return ua(A,n.merge);for(var D=1,k=g.length;D<k;D+=1)if(d((A=h(C+g[D]))[1]))return ua(A,n.merge);return ua(A,n.merge)}var O=new l.Line(a,s),F=O.parallel(-e),B=F.getCenter(),z=F.start.clone().move(F.end,r),Y=F.end.clone().move(F.start,r),w=O.parallel(-1),Q=new l.Line(w.start,B),J=new l.Line(w.end,B);if((u.containsPoint(B)||c.containsPoint(B)||u.intersectsWithLine(Q)||u.intersectsWithLine(J)||c.intersectsWithLine(Q)||c.intersectsWithLine(J))&&(B=(F=O.parallel(e)).getCenter(),z=F.start.clone().move(F.end,r),Y=F.end.clone().move(F.start,r)),n.merge){var nt=new l.Line(a,s),lt=new l.Line(B,nt.center).setLength(Number.MAX_SAFE_INTEGER),ut=u.intersectsWithLine(lt),xt=c.intersectsWithLine(lt),Dt=ut?Array.isArray(ut)?ut:[ut]:[];xt&&(Array.isArray(xt)?Dt.push.apply(Dt,xt):Dt.push(xt));var ft=nt.center.closest(Dt);ft?(t.sourceAnchor=ft.clone(),t.targetAnchor=ft.clone()):(t.sourceAnchor=nt.center.clone(),t.targetAnchor=nt.center.clone())}return ua([z.toJSON(),B.toJSON(),Y.toJSON()],n.merge)}});(function(i){i.presets=HC,i.registry=rn.create({type:"router"}),i.registry.register(i.presets,!0)})(Eo||(Eo={}));var ss,au,su=1/3,lu=2/3;function Bh(i,n,t){t===void 0&&(t=[]);var e=T(T([i],t,!0),[n],!1),r=[];return e.forEach(function(o,a){var s=e[a+1];s!=null&&r.push(new l.Line(o,s))}),r}function Jv(i,n){return new l.Line(i,n).squaredLength()}function Zv(i,n,t,e){var r,o=new l.Path;return r=l.Path.createSegment("M",i[0].start),o.appendSegment(r),i.forEach(function(a,s){if(ss.includes(a)){var u=void 0,c=void 0,h=void 0,d=void 0;if(t==="arc"){u=-90,((c=a.start.diff(a.end)).x<0||c.x===0&&c.y<0)&&(u+=180);var g=a.getCenter(),C=new l.Line(g,a.end).rotate(u,g),A=void 0;h=(A=new l.Line(a.start,g)).pointAt(2/3).rotate(u,a.start),d=C.pointAt(1/3).rotate(-u,C.end),r=l.Path.createSegment("C",h,d,C.end),o.appendSegment(r),A=new l.Line(g,a.end),h=C.pointAt(1/3).rotate(u,C.end),d=A.pointAt(1/3).rotate(-u,a.end),r=l.Path.createSegment("C",h,d,a.end),o.appendSegment(r)}else if(t==="gap")r=l.Path.createSegment("M",a.end),o.appendSegment(r);else if(t==="cubic"){u=a.start.theta(a.end);var D=.6*n,k=1.35*n;((c=a.start.diff(a.end)).x<0||c.x===0&&c.y<0)&&(k*=-1),h=new l.Point(a.start.x+D,a.start.y+k).rotate(u,a.start),d=new l.Point(a.end.x-D,a.end.y+k).rotate(u,a.end),r=l.Path.createSegment("C",h,d,a.end),o.appendSegment(r)}}else{var O=i[s+1];e===0||!O||ss.includes(O)?(r=l.Path.createSegment("L",a.end),o.appendSegment(r)):function(F,B,z,Y,w){var Q,J=z.distance(Y)/2,nt=z.distance(w)/2,lt=-Math.min(F,J),ut=-Math.min(F,nt),xt=z.clone().move(Y,lt).round(),Dt=z.clone().move(w,ut).round(),ft=new l.Point(su*xt.x+lu*z.x,lu*z.y+su*xt.y),At=new l.Point(su*Dt.x+lu*z.x,lu*z.y+su*Dt.y);Q=l.Path.createSegment("L",xt),B.appendSegment(Q),Q=l.Path.createSegment("C",ft,At,Dt),B.appendSegment(Q)}(e,o,a.end,a.start,O.end)}}),o}var Ko,UC=Object.freeze({__proto__:null,normal:function(i,n,t,e){e===void 0&&(e={});var r=T(T([i],t,!0),[n],!1),o=new l.Polyline(r),a=new l.Path(o);return e.raw?a:a.serialize()},loop:function(i,n,t,e){e===void 0&&(e={});var r=t.length===3?0:1,o=l.Point.create(t[0+r]),a=l.Point.create(t[2+r]),s=l.Point.create(t[1+r]);if(!l.Point.equals(i,n)){var u=new l.Point((i.x+n.x)/2,(i.y+n.y)/2),c=u.angleBetween(l.Point.create(i).rotate(90,u),s);c>1&&(o.rotate(180-c,u),a.rotate(180-c,u),s.rotate(180-c,u))}var h=`
     M `+i.x+" "+i.y+`
     Q `+o.x+" "+o.y+" "+s.x+" "+s.y+`
     Q `+a.x+" "+a.y+" "+n.x+" "+n.y+`
  `;return e.raw?l.Path.parse(h):h},rounded:function(i,n,t,e){e===void 0&&(e={});var r=new l.Path;r.appendSegment(l.Path.createSegment("M",i));for(var o,a,s=1/3,u=2/3,c=e.radius||10,h=0,d=t.length;h<d;h+=1){var g=l.Point.create(t[h]),C=t[h-1]||i,A=t[h+1]||n;o=a||g.distance(C)/2,a=g.distance(A)/2;var D=-Math.min(c,o),k=-Math.min(c,a),O=g.clone().move(C,D).round(),F=g.clone().move(A,k).round(),B=new l.Point(s*O.x+u*g.x,u*g.y+s*O.y),z=new l.Point(s*F.x+u*g.x,u*g.y+s*F.y);r.appendSegment(l.Path.createSegment("L",O)),r.appendSegment(l.Path.createSegment("C",B,z,F))}return r.appendSegment(l.Path.createSegment("L",n)),e.raw?r:r.serialize()},smooth:function(i,n,t,e){var r;e===void 0&&(e={});var o=e.direction;if(t&&t.length!==0){var a=T(T([i],t,!0),[n],!1),s=l.Curve.throughPoints(a);r=new l.Path(s)}else if((r=new l.Path).appendSegment(l.Path.createSegment("M",i)),o||(o=Math.abs(i.x-n.x)>=Math.abs(i.y-n.y)?"H":"V"),o==="H"){var u=(i.x+n.x)/2;r.appendSegment(l.Path.createSegment("C",u,i.y,u,n.y,n.x,n.y))}else{var c=(i.y+n.y)/2;r.appendSegment(l.Path.createSegment("C",i.x,c,n.x,c,n.x,n.y))}return e.raw?r:r.serialize()},jumpover:function(i,n,t,e){var r=this;e===void 0&&(e={}),ss=[],au=[],function(z){var Y=z.graph._jumpOverUpdateList;if(Y==null&&(Y=z.graph._jumpOverUpdateList=[],z.graph.on("cell:mouseup",function(){for(var Q=z.graph._jumpOverUpdateList,J=0;J<Q.length;J+=1)Q[J].update()}),z.graph.on("model:reseted",function(){Y=z.graph._jumpOverUpdateList=[]})),Y.indexOf(z)<0){Y.push(z);var w=function(){return Y.splice(Y.indexOf(z),1)};z.cell.once("change:connector",w),z.cell.once("removed",w)}}(this);var o=e.size||5,a=e.type||"arc",s=e.radius||0,u=e.ignoreConnectors||["smooth"],c=this.graph,h=c.model.getEdges();if(h.length===1)return Zv(Bh(i,n,t),o,a,s);var d=this.cell,g=h.indexOf(d),C=c.options.connecting.connector||{},A=h.filter(function(z,Y){var w=z.getConnector()||C;return!u.includes(w.name)&&(!(Y>g)||w.name!=="jumpover")}),D=A.map(function(z){return c.renderer.findViewByCell(z)}),k=Bh(i,n,t),O=D.map(function(z){return z==null?[]:z===r?k:Bh(z.sourcePoint,z.targetPoint,z.routePoints)}),F=[];k.forEach(function(z){var Y=A.reduce(function(w,Q,J){if(Q!==d){var nt=function(lt,ut){var xt=[];return ut.forEach(function(Dt){var ft=lt.intersectsWithLine(Dt);ft&&xt.push(ft)}),xt}(z,O[J]);w.push.apply(w,nt)}return w},[]).sort(function(w,Q){return Jv(z.start,w)-Jv(z.start,Q)});Y.length>0?F.push.apply(F,function(w,Q,J){return Q.reduce(function(nt,lt,ut){if(au.includes(lt))return nt;var xt=nt.pop()||w,Dt=l.Point.create(lt).move(xt.start,-J),ft=l.Point.create(lt).move(xt.start,+J),At=Q[ut+1];if(At!=null){var Ot=ft.distance(At);Ot<=J&&(ft=At.move(xt.start,Ot),au.push(At))}else if(Dt.distance(xt.end)<2*J+1)return nt.push(xt),nt;if(ft.distance(xt.start)<2*J+1)return nt.push(xt),nt;var Pt=new l.Line(Dt,ft);return ss.push(Pt),nt.push(new l.Line(xt.start,Dt),Pt,new l.Line(ft,xt.end)),nt},[])}(z,Y,o)):F.push(z)});var B=Zv(F,o,a,s);return ss=[],au=[],e.raw?B:B.serialize()}});(function(i){i.presets=UC,i.registry=rn.create({type:"connector"}),i.registry.register(i.presets,!0)})(Ko||(Ko={}));var $C=rn.create,WC=Object.freeze({__proto__:null,create:$C,get Attr(){return $r},get Grid(){return xo},get Filter(){return gi},get Background(){return aa},get Highlighter(){return oo},get PortLayout(){return $o},get PortLabelLayout(){return vi},get NodeTool(){return mi},get EdgeTool(){return bi},get Marker(){return Co},get NodeAnchor(){return Ci},get EdgeAnchor(){return xi},get ConnectionPoint(){return wi},get Router(){return Eo},get Connector(){return Ko},get ConnectionStrategy(){return yi},get Registry(){return rn}}),zh=function(){function i(n){this.cell=n,this.ids={},this.cache={}}return i.prototype.get=function(){return Object.keys(this.ids)},i.prototype.start=function(n,t,e,r){var o=this;e===void 0&&(e={}),r===void 0&&(r="/");var a=this.cell.getPropByPath(n),s=Af(e,i.defaultOptions),u=this.getTiming(s.timing),c=this.getInterp(s.interp,a,t),h=0,d=Array.isArray(n)?n.join(r):n,g=Array.isArray(n)?n:n.split(r),C=function(){var A=new Date().getTime();h===0&&(h=A);var D=(A-h)/s.duration;D<1?o.ids[d]=kl(C):D=1;var k=c(u(D));o.cell.setPropByPath(g,k),e.progress&&e.progress(y({progress:D,currentValue:k},o.getArgs(d))),D===1&&(o.cell.notify("transition:end",o.getArgs(d)),o.cell.notify("transition:complete",o.getArgs(d)),e.complete&&e.complete(o.getArgs(d)),o.cell.notify("transition:finish",o.getArgs(d)),e.finish&&e.finish(o.getArgs(d)),o.clean(d))};return setTimeout(function(){o.stop(n,void 0,r),o.cache[d]={startValue:a,targetValue:t,options:s},o.ids[d]=kl(C),o.cell.notify("transition:begin",o.getArgs(d)),o.cell.notify("transition:start",o.getArgs(d)),e.start&&e.start(o.getArgs(d))},e.delay),this.stop.bind(this,n,r,e)},i.prototype.stop=function(n,t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e="/");var o=Array.isArray(n)?n:n.split(e);return Object.keys(this.ids).filter(function(a){return Vr(o,a.split(e).slice(0,o.length))}).forEach(function(a){Ll(r.ids[a]);var s=r.cache[a],u=r.getArgs(a),c=y(y({},s.options),t),h=c.jumpedToEnd;h&&s.targetValue!=null&&(r.cell.setPropByPath(a,s.targetValue),r.cell.notify("transition:end",y({},u)),r.cell.notify("transition:complete",y({},u)),c.complete&&c.complete(y({},u)));var d=y({jumpedToEnd:h},u);r.cell.notify("transition:stop",y({},d)),c.stop&&c.stop(y({},d)),r.cell.notify("transition:finish",y({},u)),c.finish&&c.finish(y({},u)),r.clean(a)}),this},i.prototype.clean=function(n){delete this.ids[n],delete this.cache[n]},i.prototype.getTiming=function(n){return typeof n=="string"?l.Timing[n]:n},i.prototype.getInterp=function(n,t,e){return n?n(t,e):typeof e=="number"?l.Interp.number(t,e):typeof e=="string"?e[0]==="#"?l.Interp.color(t,e):l.Interp.unit(t,e):l.Interp.object(t,e)},i.prototype.getArgs=function(n){var t=this.cache[n];return{path:n,startValue:t.startValue,targetValue:t.targetValue,cell:this.cell}},i}();(function(i){i.defaultOptions={delay:10,duration:100,timing:"linear"}})(zh||(zh={}));var ca,XC=function(i){function n(t){t===void 0&&(t={});var e=i.call(this)||this;return e.pending=!1,e.changing=!1,e.data={},e.mutate(nn(t)),e.changed={},e}return x(n,i),n.prototype.mutate=function(t,e){var r=this;e===void 0&&(e={});var o=e.unset===!0,a=e.silent===!0,s=[],u=this.changing;this.changing=!0,u||(this.previous=nn(this.data),this.changed={});var c=this.data,h=this.previous,d=this.changed;if(Object.keys(t).forEach(function(g){var C=g,A=t[C];Vr(c[C],A)||s.push(C),Vr(h[C],A)?delete d[C]:d[C]=A,o?delete c[C]:c[C]=A}),!a&&s.length>0&&(this.pending=!0,this.pendingOptions=e,s.forEach(function(g){r.emit("change:*",{key:g,options:e,store:r,current:c[g],previous:h[g]})})),u)return this;if(!a)for(;this.pending;)this.pending=!1,this.emit("changed",{current:c,previous:h,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this},n.prototype.get=function(t,e){if(t==null)return this.data;var r=this.data[t];return r==null?e:r},n.prototype.getPrevious=function(t){if(this.previous){var e=this.previous[t];return e==null?void 0:e}},n.prototype.set=function(t,e,r){var o;return t!=null&&(typeof t=="object"?this.mutate(t,e):this.mutate(((o={})[t]=e,o),r)),this},n.prototype.remove=function(t,e){var r,o=void 0,a={};if(typeof t=="string")a[t]=o,r=e;else if(Array.isArray(t))t.forEach(function(u){return a[u]=o}),r=e;else{for(var s in this.data)a[s]=o;r=t}return this.mutate(a,y(y({},r),{unset:!0})),this},n.prototype.getByPath=function(t){return gl(this.data,t,"/")},n.prototype.setByPath=function(t,e,r){r===void 0&&(r={});var o="/",a=Array.isArray(t)?T([],t,!0):t.split(o),s=Array.isArray(t)?t.join(o):t,u=a[0],c=a.length;if(r.propertyPath=s,r.propertyValue=e,r.propertyPathArray=a,c===1)this.set(u,e,r);else{for(var h={},d=h,g=u,C=1;C<c;C+=1){var A=a[C],D=Number.isFinite(Number(A));d=d[g]=D?[]:{},g=A}ui(h,a,e,o);var k=nn(this.data);r.rewrite&&Wc(k,t,o);var O=Ve(k,h);this.set(u,O[u],r)}return this},n.prototype.removeByPath=function(t,e){var r=Array.isArray(t)?t:t.split("/"),o=r[0];if(r.length===1)this.remove(o,e);else{var a=r.slice(1),s=nn(this.get(o));s&&Wc(s,a),this.set(o,s,e)}return this},n.prototype.hasChanged=function(t){return t==null?Object.keys(this.changed).length>0:t in this.changed},n.prototype.getChanges=function(t){if(t==null)return this.hasChanged()?nn(this.changed):null;var e,r=this.changing?this.previous:this.data,o={};for(var a in t){var s=t[a];Vr(r[a],s)||(o[a]=s,e=!0)}return e?nn(o):null},n.prototype.toJSON=function(){return nn(this.data)},n.prototype.clone=function(){return new this.constructor(this.data)},n.prototype.dispose=function(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})},P([l.Basecoat.dispose()],n.prototype,"dispose",null),n}(l.Basecoat);l.Cell=function(i){function n(t){t===void 0&&(t={});var e=i.call(this)||this,r=e.constructor.getDefaults(!0),o=Ve({},e.preprocess(r),e.preprocess(t));return e.id=o.id||ml(),e.store=new XC(o),e.animation=new zh(e),e.setup(),e.init(),e.postprocess(t),e}return x(n,i),n.config=function(t){var e,r=this,o=t.markup,a=t.propHooks,s=t.attrHooks,u=f(t,["markup","propHooks","attrHooks"]);o!=null&&(this.markup=o),a&&(this.propHooks=this.propHooks.slice(),Array.isArray(a)?(e=this.propHooks).push.apply(e,a):typeof a=="function"?this.propHooks.push(a):Object.keys(a).forEach(function(c){var h=a[c];typeof h=="function"&&r.propHooks.push(h)})),s&&(this.attrHooks=y(y({},this.attrHooks),s)),this.defaults=Ve({},this.defaults,u)},n.getMarkup=function(){return this.markup},n.getDefaults=function(t){return t?this.defaults:nn(this.defaults)},n.getAttrHooks=function(){return this.attrHooks},n.applyPropHooks=function(t,e){return this.propHooks.reduce(function(r,o){return o?Lt(o,t,r):r},e)},Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.init=function(){},Object.defineProperty(n.prototype,"model",{get:function(){return this._model},set:function(t){this._model!==t&&(this._model=t)},enumerable:!1,configurable:!0}),n.prototype.preprocess=function(t,e){var r=t.id,o=this.constructor.applyPropHooks(this,t);return r==null&&e!==!0&&(o.id=ml()),o},n.prototype.postprocess=function(t){},n.prototype.setup=function(){var t=this;this.store.on("change:*",function(e){var r=e.key,o=e.current,a=e.previous,s=e.options;t.notify("change:*",{key:r,options:s,current:o,previous:a,cell:t}),t.notify("change:"+r,{options:s,current:o,previous:a,cell:t});var u=r;u!=="source"&&u!=="target"||t.notify("change:terminal",{type:u,current:o,previous:a,options:s,cell:t})}),this.store.on("changed",function(e){var r=e.options;return t.notify("changed",{options:r,cell:t})})},n.prototype.notify=function(t,e){this.trigger(t,e);var r=this.model;return r&&(r.notify("cell:"+t,e),this.isNode()?r.notify("node:"+t,y(y({},e),{node:this})):this.isEdge()&&r.notify("edge:"+t,y(y({},e),{edge:this}))),this},n.prototype.isNode=function(){return!1},n.prototype.isEdge=function(){return!1},n.prototype.isSameStore=function(t){return this.store===t.store},Object.defineProperty(n.prototype,"view",{get:function(){return this.store.get("view")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shape",{get:function(){return this.store.get("shape","")},enumerable:!1,configurable:!0}),n.prototype.getProp=function(t,e){return t==null?this.store.get():this.store.get(t,e)},n.prototype.setProp=function(t,e,r){if(typeof t=="string")this.store.set(t,e,r);else{var o=this.preprocess(t,!0);this.store.set(Ve({},this.getProp(),o),e),this.postprocess(t)}return this},n.prototype.removeProp=function(t,e){return typeof t=="string"||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this},n.prototype.hasChanged=function(t){return t==null?this.store.hasChanged():this.store.hasChanged(t)},n.prototype.getPropByPath=function(t){return this.store.getByPath(t)},n.prototype.setPropByPath=function(t,e,r){var o=this;return r===void 0&&(r={}),this.model&&(t==="children"?this._children=e?e.map(function(a){return o.model.getCell(a)}).filter(function(a){return a!=null}):null:t==="parent"&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,r),this},n.prototype.removePropByPath=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:t.split("/");return r[0]==="attrs"&&(e.dirty=!0),this.store.removeByPath(r,e),this},n.prototype.prop=function(t,e,r){return t==null?this.getProp():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getPropByPath(t):e==null?this.removePropByPath(t,r||{}):this.setPropByPath(t,e,r||{}):this.setProp(t,e||{})},n.prototype.previous=function(t){return this.store.getPrevious(t)},Object.defineProperty(n.prototype,"zIndex",{get:function(){return this.getZIndex()},set:function(t){t==null?this.removeZIndex():this.setZIndex(t)},enumerable:!1,configurable:!0}),n.prototype.getZIndex=function(){return this.store.get("zIndex")},n.prototype.setZIndex=function(t,e){return e===void 0&&(e={}),this.store.set("zIndex",t,e),this},n.prototype.removeZIndex=function(t){return t===void 0&&(t={}),this.store.remove("zIndex",t),this},n.prototype.toFront=function(t){t===void 0&&(t={});var e=this.model;if(e){var r,o=e.getMaxZIndex();t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0})).unshift(this):r=[this],o=o-r.length+1;var a=e.total(),s=e.indexOf(this)!==a-r.length;s||(s=r.some(function(u,c){return u.getZIndex()!==o+c})),s&&this.batchUpdate("to-front",function(){o+=r.length,r.forEach(function(u,c){u.setZIndex(o+c,t)})})}return this},n.prototype.toBack=function(t){t===void 0&&(t={});var e=this.model;if(e){var r,o=e.getMinZIndex();t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0})).unshift(this):r=[this];var a=e.indexOf(this)!==0;a||(a=r.some(function(s,u){return s.getZIndex()!==o+u})),a&&this.batchUpdate("to-back",function(){o-=r.length,r.forEach(function(s,u){s.setZIndex(o+u,t)})})}return this},Object.defineProperty(n.prototype,"markup",{get:function(){return this.getMarkup()},set:function(t){t==null?this.removeMarkup():this.setMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getMarkup=function(){var t=this.store.get("markup");return t==null&&(t=this.constructor.getMarkup()),t},n.prototype.setMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("markup",t,e),this},n.prototype.removeMarkup=function(t){return t===void 0&&(t={}),this.store.remove("markup",t),this},Object.defineProperty(n.prototype,"attrs",{get:function(){return this.getAttrs()},set:function(t){t==null?this.removeAttrs():this.setAttrs(t)},enumerable:!1,configurable:!0}),n.prototype.getAttrs=function(){var t=this.store.get("attrs");return t?y({},t):{}},n.prototype.setAttrs=function(t,e){var r=this;if(e===void 0&&(e={}),t==null)this.removeAttrs(e);else{var o=function(s){return r.store.set("attrs",s,e)};if(e.overwrite===!0)o(t);else{var a=this.getAttrs();e.deep===!1?o(y(y({},a),t)):o(Ve({},a,t))}}return this},n.prototype.replaceAttrs=function(t,e){return e===void 0&&(e={}),this.setAttrs(t,y(y({},e),{overwrite:!0}))},n.prototype.updateAttrs=function(t,e){return e===void 0&&(e={}),this.setAttrs(t,y(y({},e),{deep:!1}))},n.prototype.removeAttrs=function(t){return t===void 0&&(t={}),this.store.remove("attrs",t),this},n.prototype.getAttrDefinition=function(t){if(!t)return null;var e=this.constructor.getAttrHooks()||{},r=e[t]||$r.registry.get(t);if(!r){var o=Ia(t);r=e[o]||$r.registry.get(o)}return r||null},n.prototype.getAttrByPath=function(t){return t==null||t===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))},n.prototype.setAttrByPath=function(t,e,r){return r===void 0&&(r={}),this.setPropByPath(this.prefixAttrPath(t),e,r),this},n.prototype.removeAttrByPath=function(t,e){return e===void 0&&(e={}),this.removePropByPath(this.prefixAttrPath(t),e),this},n.prototype.prefixAttrPath=function(t){return Array.isArray(t)?["attrs"].concat(t):"attrs/"+t},n.prototype.attr=function(t,e,r){return t==null?this.getAttrByPath():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getAttrByPath(t):e==null?this.removeAttrByPath(t,r||{}):this.setAttrByPath(t,e,r||{}):this.setAttrs(t,e||{})},Object.defineProperty(n.prototype,"visible",{get:function(){return this.isVisible()},set:function(t){this.setVisible(t)},enumerable:!1,configurable:!0}),n.prototype.setVisible=function(t,e){return e===void 0&&(e={}),this.store.set("visible",t,e),this},n.prototype.isVisible=function(){return this.store.get("visible")!==!1},n.prototype.show=function(t){return t===void 0&&(t={}),this.isVisible()||this.setVisible(!0,t),this},n.prototype.hide=function(t){return t===void 0&&(t={}),this.isVisible()&&this.setVisible(!1,t),this},n.prototype.toggleVisible=function(t,e){e===void 0&&(e={});var r=typeof t=="boolean"?e:t;return(typeof t=="boolean"?t:!this.isVisible())?this.show(r):this.hide(r),this},Object.defineProperty(n.prototype,"data",{get:function(){return this.getData()},set:function(t){this.setData(t)},enumerable:!1,configurable:!0}),n.prototype.getData=function(){return this.store.get("data")},n.prototype.setData=function(t,e){var r=this;if(e===void 0&&(e={}),t==null)this.removeData(e);else{var o=function(s){return r.store.set("data",s,e)};if(e.overwrite===!0)o(t);else{var a=this.getData();e.deep===!1?o(typeof t=="object"?y(y({},a),t):t):o(Ve({},a,t))}}return this},n.prototype.replaceData=function(t,e){return e===void 0&&(e={}),this.setData(t,y(y({},e),{overwrite:!0}))},n.prototype.updateData=function(t,e){return e===void 0&&(e={}),this.setData(t,y(y({},e),{deep:!1}))},n.prototype.removeData=function(t){return t===void 0&&(t={}),this.store.remove("data",t),this},Object.defineProperty(n.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this.getChildren()},enumerable:!1,configurable:!0}),n.prototype.getParentId=function(){return this.store.get("parent")},n.prototype.getParent=function(){var t=this.getParentId();if(t&&this.model){var e=this.model.getCell(t);return this._parent=e,e}return null},n.prototype.getChildren=function(){var t=this,e=this.store.get("children");if(e&&e.length&&this.model){var r=e.map(function(o){var a;return(a=t.model)===null||a===void 0?void 0:a.getCell(o)}).filter(function(o){return o!=null});return this._children=r,T([],r,!0)}return null},n.prototype.hasParent=function(){return this.parent!=null},n.prototype.isParentOf=function(t){return t!=null&&t.getParent()===this},n.prototype.isChildOf=function(t){return t!=null&&this.getParent()===t},n.prototype.eachChild=function(t,e){return this.children&&this.children.forEach(t,e),this},n.prototype.filterChild=function(t,e){return this.children?this.children.filter(t,e):[]},n.prototype.getChildCount=function(){return this.children==null?0:this.children.length},n.prototype.getChildIndex=function(t){return this.children==null?-1:this.children.indexOf(t)},n.prototype.getChildAt=function(t){return this.children!=null&&t>=0?this.children[t]:null},n.prototype.getAncestors=function(t){t===void 0&&(t={});for(var e=[],r=this.getParent();r;)e.push(r),r=t.deep!==!1?r.getParent():null;return e},n.prototype.getDescendants=function(t){if(t===void 0&&(t={}),t.deep!==!1){if(t.breadthFirst){for(var e=[],r=this.getChildren()||[];r.length>0;){var o=r.shift(),a=o.getChildren();e.push(o),a&&r.push.apply(r,a)}return e}var s=this.getChildren()||[];return s.forEach(function(u){s.push.apply(s,u.getDescendants(t))}),s}return this.getChildren()||[]},n.prototype.isDescendantOf=function(t,e){if(e===void 0&&(e={}),t==null)return!1;if(e.deep!==!1){for(var r=this.getParent();r;){if(r===t)return!0;r=r.getParent()}return!1}return this.isChildOf(t)},n.prototype.isAncestorOf=function(t,e){return e===void 0&&(e={}),t!=null&&t.isDescendantOf(this,e)},n.prototype.contains=function(t){return this.isAncestorOf(t)},n.prototype.getCommonAncestor=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.getCommonAncestor.apply(n,T([this],t,!1))},n.prototype.setParent=function(t,e){return e===void 0&&(e={}),this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this},n.prototype.setChildren=function(t,e){return e===void 0&&(e={}),this._children=t,t!=null?this.store.set("children",t.map(function(r){return r.id}),e):this.store.remove("children",e),this},n.prototype.unembed=function(t,e){e===void 0&&(e={});var r=this.children;if(r!=null&&t!=null){var o=this.getChildIndex(t);o!==-1&&(r.splice(o,1),t.setParent(null,e),this.setChildren(r,e))}return this},n.prototype.embed=function(t,e){return e===void 0&&(e={}),t.addTo(this,e),this},n.prototype.addTo=function(t,e){return e===void 0&&(e={}),n.isCell(t)?t.addChild(this,e):t.addCell(this,e),this},n.prototype.insertTo=function(t,e,r){return r===void 0&&(r={}),t.insertChild(this,e,r),this},n.prototype.addChild=function(t,e){return e===void 0&&(e={}),this.insertChild(t,void 0,e)},n.prototype.insertChild=function(t,e,r){if(r===void 0&&(r={}),t!=null&&t!==this){var o=t.getParent(),a=this!==o,s=e;if(s==null&&(s=this.getChildCount(),a||(s-=1)),o){var u=o.getChildren();if(u){var c=u.indexOf(t);c>=0&&(t.setParent(null,r),u.splice(c,1),o.setChildren(u,r))}}var h=this.children;if(h==null?(h=[]).push(t):h.splice(s,0,t),t.setParent(this,r),this.setChildren(h,r),a&&this.model){var d=this.model.getIncomingEdges(this),g=this.model.getOutgoingEdges(this);d&&d.forEach(function(C){return C.updateParent(r)}),g&&g.forEach(function(C){return C.updateParent(r)})}this.model&&this.model.addCell(t,r)}return this},n.prototype.removeFromParent=function(t){t===void 0&&(t={});var e=this.getParent();if(e!=null){var r=e.getChildIndex(this);e.removeChildAt(r,t)}return this},n.prototype.removeChild=function(t,e){e===void 0&&(e={});var r=this.getChildIndex(t);return this.removeChildAt(r,e)},n.prototype.removeChildAt=function(t,e){e===void 0&&(e={});var r=this.getChildAt(t);return this.children!=null&&r!=null&&(this.unembed(r,e),r.remove(e)),r},n.prototype.remove=function(t){var e=this;return t===void 0&&(t={}),this.batchUpdate("remove",function(){var r=e.getParent();r&&r.removeChild(e,t),t.deep!==!1&&e.eachChild(function(o){return o.remove(t)}),e.model&&e.model.removeCell(e,t)}),this},n.prototype.transition=function(t,e,r,o){return r===void 0&&(r={}),o===void 0&&(o="/"),this.animation.start(t,e,r,o)},n.prototype.stopTransition=function(t,e,r){return r===void 0&&(r="/"),this.animation.stop(t,e,r),this},n.prototype.getTransitions=function(){return this.animation.get()},n.prototype.translate=function(t,e,r){return this},n.prototype.scale=function(t,e,r,o){return this},n.prototype.addTools=function(t,e,r){var o=Array.isArray(t)?t:[t],a=typeof e=="string"?e:null,s=typeof e=="object"?e:typeof r=="object"?r:{};if(s.reset)return this.setTools({name:a,items:o,local:s.local},s);var u=nn(this.getTools());return u==null||a==null||u.name===a?(u==null&&(u={}),u.items||(u.items=[]),u.name=a,u.items=T(T([],u.items,!0),o,!0),this.setTools(y({},u),s)):void 0},n.prototype.setTools=function(t,e){return e===void 0&&(e={}),t==null?this.removeTools():this.store.set("tools",n.normalizeTools(t),e),this},n.prototype.getTools=function(){return this.store.get("tools")},n.prototype.removeTools=function(t){return t===void 0&&(t={}),this.store.remove("tools",t),this},n.prototype.hasTools=function(t){var e=this.getTools();return e!=null&&(t==null||e.name===t)},n.prototype.hasTool=function(t){var e=this.getTools();return e!=null&&e.items.some(function(r){return typeof r=="string"?r===t:r.name===t})},n.prototype.removeTool=function(t,e){e===void 0&&(e={});var r=nn(this.getTools());if(r){var o=!1,a=r.items.slice(),s=function(h){a.splice(h,1),o=!0};if(typeof t=="number")s(t);else for(var u=a.length-1;u>=0;u-=1){var c=a[u];(typeof c=="string"?c===t:c.name===t)&&s(u)}o&&(r.items=a,this.setTools(r,e))}return this},n.prototype.getBBox=function(t){return new l.Rectangle},n.prototype.getConnectionPoint=function(t,e){return new l.Point},n.prototype.toJSON=function(t){var e=this;t===void 0&&(t={});var r=y({},this.store.get()),o=Object.prototype.toString,a=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!r.shape){var s=this.constructor;throw new Error("Unable to serialize "+a+' missing "shape" prop, check the '+a+' "'+(s.name||o.call(s))+'"')}var u=this.constructor,c=t.diff===!0,h=r.attrs||{},d=u.getDefaults(!0),g=c?this.preprocess(d,!0):d,C=g.attrs||{},A={};Object.keys(r).forEach(function(O){var F=r[O];if(F!=null&&!Array.isArray(F)&&typeof F=="object"&&!ar(F))throw new Error("Can only serialize "+a+' with plain-object props, but got a "'+o.call(F)+'" type of key "'+O+'" on '+a+' "'+e.id+'"');O!=="attrs"&&O!=="shape"&&c&&Vr(F,g[O])&&delete r[O]}),Object.keys(h).forEach(function(O){var F=h[O],B=C[O];Object.keys(F).forEach(function(z){var Y=F[z],w=B?B[z]:null;Y==null||typeof Y!="object"||Array.isArray(Y)?B!=null&&Vr(w,Y)||(A[O]==null&&(A[O]={}),A[O][z]=Y):Object.keys(Y).forEach(function(Q){var J=Y[Q];B!=null&&w!=null&&ze(w)&&Vr(w[Q],J)||(A[O]==null&&(A[O]={}),A[O][z]==null&&(A[O][z]={}),A[O][z][Q]=J)})})});var D=y(y({},r),{attrs:Fc(A)?void 0:A});D.attrs==null&&delete D.attrs;var k=D;return k.angle===0&&delete k.angle,nn(k)},n.prototype.clone=function(t){if(t===void 0&&(t={}),!t.deep){var e=y({},this.store.get());return t.keepId||delete e.id,delete e.parent,delete e.children,new this.constructor(e)}return n.deepClone(this)[this.id]},n.prototype.findView=function(t){return t.renderer.findViewByCell(this)},n.prototype.startBatch=function(t,e,r){return e===void 0&&(e={}),r===void 0&&(r=this.model),this.notify("batch:start",{name:t,data:e,cell:this}),r&&r.startBatch(t,y(y({},e),{cell:this})),this},n.prototype.stopBatch=function(t,e,r){return e===void 0&&(e={}),r===void 0&&(r=this.model),r&&r.stopBatch(t,y(y({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this},n.prototype.batchUpdate=function(t,e,r){var o=this.model;this.startBatch(t,r,o);var a=e();return this.stopBatch(t,r,o),a},n.prototype.dispose=function(){this.removeFromParent(),this.store.dispose()},n.defaults={},n.attrHooks={},n.propHooks=[],P([l.Basecoat.dispose()],n.prototype,"dispose",null),n}(l.Basecoat),(l.Cell||(l.Cell={})).normalizeTools=function(i){return typeof i=="string"?{items:[i]}:Array.isArray(i)?{items:i}:i.items?i:{items:[i]}},function(i){i.toStringTag="X6."+i.name,i.isCell=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return(t==null||t===i.toStringTag)&&typeof e.isNode=="function"&&typeof e.isEdge=="function"&&typeof e.prop=="function"&&typeof e.attr=="function"}}(l.Cell||(l.Cell={})),function(i){i.getCommonAncestor=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(function(o){return o!=null}).map(function(o){return o.getAncestors()}).sort(function(o,a){return o.length-a.length}),r=e.shift();return r.find(function(o){return e.every(function(a){return a.includes(o)})})||null},i.getCellsBBox=function(n,t){t===void 0&&(t={});for(var e=null,r=0,o=n.length;r<o;r+=1){var a=n[r],s=a.getBBox(t);if(s){if(a.isNode()){var u=a.getAngle();u!=null&&u!==0&&(s=s.bbox(u))}e=e==null?s:e.union(s)}}return e},i.deepClone=function(n){var t=T([n],n.getDescendants({deep:!0}),!0);return i.cloneCells(t)},i.cloneCells=function(n){var t=Gc(n),e=t.reduce(function(r,o){return r[o.id]=o.clone(),r},{});return t.forEach(function(r){var o=e[r.id];if(o.isEdge()){var a=o.getSourceCellId(),s=o.getTargetCellId();a&&e[a]&&o.setSource(y(y({},o.getSource()),{cell:e[a].id})),s&&e[s]&&o.setTarget(y(y({},o.getTarget()),{cell:e[s].id}))}var u=r.getParent();u&&e[u.id]&&o.setParent(e[u.id]);var c=r.getChildren();if(c&&c.length){var h=c.reduce(function(d,g){return e[g.id]&&d.push(e[g.id]),d},[]);h.length>0&&o.setChildren(h)}}),e}}(l.Cell||(l.Cell={})),function(i){i.config({propHooks:function(n){var t=n.tools,e=f(n,["tools"]);return t&&(e.tools=i.normalizeTools(t)),e}})}(l.Cell||(l.Cell={})),function(i){var n,t;i.exist=function(e,r){return r?n!=null&&n.exist(e):t!=null&&t.exist(e)},i.setEdgeRegistry=function(e){n=e},i.setNodeRegistry=function(e){t=e}}(ca||(ca={}));var YC=function(){function i(n){this.ports=[],this.groups={},this.init(nn(n))}return i.prototype.getPorts=function(){return this.ports},i.prototype.getGroup=function(n){return n!=null?this.groups[n]:null},i.prototype.getPortsByGroup=function(n){return this.ports.filter(function(t){return t.group===n||t.group==null&&n==null})},i.prototype.getPortsLayoutByGroup=function(n,t){var e,r=this,o=this.getPortsByGroup(n),a=n?this.getGroup(n):null,s=a?a.position:null,u=s?s.name:null;if(u!=null){var c=$o.registry.get(u);if(c==null)return $o.registry.onNotFound(u);e=c}else e=$o.presets.left;var h=o.map(function(g){return g&&g.position&&g.position.args||{}}),d=s&&s.args||{};return e(h,t,d).map(function(g,C){var A=o[C];return{portLayout:g,portId:A.id,portSize:A.size,portAttrs:A.attrs,labelSize:A.label.size,labelLayout:r.getPortLabelLayout(A,l.Point.create(g.position),t)}})},i.prototype.init=function(n){var t=this,e=n.groups,r=n.items;e!=null&&Object.keys(e).forEach(function(o){t.groups[o]=t.parseGroup(e[o])}),Array.isArray(r)&&r.forEach(function(o){t.ports.push(t.parsePort(o))})},i.prototype.parseGroup=function(n){return y(y({},n),{label:this.getLabel(n,!0),position:this.getPortPosition(n.position,!0)})},i.prototype.parsePort=function(n){var t=y({},n),e=this.getGroup(n.group)||{};return t.markup=t.markup||e.markup,t.attrs=Ve({},e.attrs,t.attrs),t.position=this.createPosition(e,t),t.label=Ve({},e.label,this.getLabel(t)),t.zIndex=this.getZIndex(e,t),t.size=y(y({},e.size),t.size),t},i.prototype.getZIndex=function(n,t){return typeof t.zIndex=="number"?t.zIndex:typeof n.zIndex=="number"||n.zIndex==="auto"?n.zIndex:"auto"},i.prototype.createPosition=function(n,t){return Ve({name:"left",args:{}},n.position,{args:t.args})},i.prototype.getPortPosition=function(n,t){if(t===void 0&&(t=!1),n==null){if(t)return{name:"left",args:{}}}else{if(typeof n=="string")return{name:n,args:{}};if(Array.isArray(n))return{name:"absolute",args:{x:n[0],y:n[1]}};if(typeof n=="object")return n}return{args:{}}},i.prototype.getPortLabelPosition=function(n,t){if(t===void 0&&(t=!1),n==null){if(t)return{name:"left",args:{}}}else{if(typeof n=="string")return{name:n,args:{}};if(typeof n=="object")return n}return{args:{}}},i.prototype.getLabel=function(n,t){t===void 0&&(t=!1);var e=n.label||{};return e.position=this.getPortLabelPosition(e.position,t),e},i.prototype.getPortLabelLayout=function(n,t,e){var r=n.label.position.name||"left",o=n.label.position.args||{},a=vi.registry.get(r)||vi.presets.left;return a?a(t,e,o):null},i}();l.Node=function(i){function n(t){t===void 0&&(t={});var e=i.call(this,t)||this;return e.initPorts(),e}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.preprocess=function(t,e){var r=t.x,o=t.y,a=t.width,s=t.height,u=f(t,["x","y","width","height"]);if(r!=null||o!=null){var c=u.position;u.position=y(y({},c),{x:r!=null?r:c?c.x:0,y:o!=null?o:c?c.y:0})}if(a!=null||s!=null){var h=u.size;u.size=y(y({},h),{width:a!=null?a:h?h.width:0,height:s!=null?s:h?h.height:0})}return i.prototype.preprocess.call(this,u,e)},n.prototype.isNode=function(){return!0},n.prototype.size=function(t,e,r){return t===void 0?this.getSize():typeof t=="number"?this.setSize(t,e,r):this.setSize(t,e)},n.prototype.getSize=function(){var t=this.store.get("size");return t?y({},t):{width:1,height:1}},n.prototype.setSize=function(t,e,r){return typeof t=="object"?this.resize(t.width,t.height,e):this.resize(t,e,r),this},n.prototype.resize=function(t,e,r){r===void 0&&(r={}),this.startBatch("resize",r);var o=r.direction;if(o){var a=this.getSize();switch(o){case"left":case"right":e=a.height;break;case"top":case"bottom":t=a.width}var s={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[o],u=l.Angle.normalize(this.getAngle()||0);r.absolute&&(s+=Math.floor((u+45)/90),s%=4);var c=this.getBBox(),h=(s===0?c.getBottomLeft():s===1?c.getCorner():s===2?c.getTopRight():c.getOrigin()).clone().rotate(-u,c.getCenter()),d=Math.sqrt(t*t+e*e)/2,g=s*Math.PI/2;g+=Math.atan(s%2==0?e/t:t/e),g-=l.Angle.toRad(u);var C=l.Point.fromPolar(d,g,h).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},r),this.setPosition(C.x,C.y,r)}else this.store.set("size",{width:t,height:e},r);return this.stopBatch("resize",r),this},n.prototype.scale=function(t,e,r,o){o===void 0&&(o={});var a=this.getBBox().scale(t,e,r==null?void 0:r);return this.startBatch("scale",o),this.setPosition(a.x,a.y,o),this.resize(a.width,a.height,o),this.stopBatch("scale"),this},n.prototype.position=function(t,e,r){return typeof t=="number"?this.setPosition(t,e,r):this.getPosition(t)},n.prototype.getPosition=function(t){if(t===void 0&&(t={}),t.relative){var e=this.getParent();if(e!=null&&e.isNode()){var r=this.getPosition(),o=e.getPosition();return{x:r.x-o.x,y:r.y-o.y}}}var a=this.store.get("position");return a?y({},a):{x:0,y:0}},n.prototype.setPosition=function(t,e,r){var o,a,s;if(r===void 0&&(r={}),typeof t=="object"?(o=t.x,a=t.y,s=e||{}):(o=t,a=e,s=r||{}),s.relative){var u=this.getParent();if(u!=null&&u.isNode()){var c=u.getPosition();o+=c.x,a+=c.y}}if(s.deep){var h=this.getPosition();this.translate(o-h.x,a-h.y,s)}else this.store.set("position",{x:o,y:a},s);return this},n.prototype.translate=function(t,e,r){if(t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r={}),t===0&&e===0)return this;r.translateBy=r.translateBy||this.id;var o=this.getPosition();if(r.restrict!=null&&r.translateBy===this.id){var a=this.getBBox({deep:!0}),s=r.restrict,u=o.x-a.x,c=o.y-a.y,h=Math.max(s.x+u,Math.min(s.x+s.width+u-a.width,o.x+t)),d=Math.max(s.y+c,Math.min(s.y+s.height+c-a.height,o.y+e));t=h-o.x,e=d-o.y}var g={x:o.x+t,y:o.y+e};return r.tx=t,r.ty=e,r.transition?(typeof r.transition!="object"&&(r.transition={}),this.transition("position",g,y(y({},r.transition),{interp:l.Interp.object})),this.eachChild(function(C){var A;!((A=r.exclude)===null||A===void 0)&&A.includes(C)||C.translate(t,e,r)})):(this.startBatch("translate",r),this.store.set("position",g,r),this.eachChild(function(C){var A;!((A=r.exclude)===null||A===void 0)&&A.includes(C)||C.translate(t,e,r)}),this.stopBatch("translate",r)),this},n.prototype.angle=function(t,e){return t==null?this.getAngle():this.rotate(t,e)},n.prototype.getAngle=function(){return this.store.get("angle",0)},n.prototype.rotate=function(t,e){e===void 0&&(e={});var r=this.getAngle();if(e.center){var o=this.getSize(),a=this.getPosition(),s=this.getBBox().getCenter();s.rotate(r-t,e.center);var u=s.x-o.width/2-a.x,c=s.y-o.height/2-a.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(a.x+u,a.y+c,e),this.rotate(t,y(y({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(r+t)%360,e);return this},n.prototype.getBBox=function(t){if(t===void 0&&(t={}),t.deep){var e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),l.Cell.getCellsBBox(e)}return l.Rectangle.fromPositionAndSize(this.getPosition(),this.getSize())},n.prototype.getConnectionPoint=function(t,e){var r=this.getBBox(),o=r.getCenter(),a=t.getTerminal(e);if(a==null)return o;var s=a.port;if(!s||!this.hasPort(s))return o;var u=this.getPort(s);if(!u||!u.group)return o;var c=this.getPortsPosition(u.group)[s].position,h=l.Point.create(c).translate(r.getOrigin()),d=this.getAngle();return d&&h.rotate(-d,o),h},n.prototype.fit=function(t){t===void 0&&(t={});var e=(this.getChildren()||[]).filter(function(h){return h.isNode()});if(e.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&e.forEach(function(h){return h.fit(t)});var r=l.Cell.getCellsBBox(e),o=r.x,a=r.y,s=r.width,u=r.height,c=sr(t.padding);return o-=c.left,a-=c.top,s+=c.left+c.right,u+=c.bottom+c.top,this.store.set({position:{x:o,y:a},size:{width:s,height:u}},t),this.stopBatch("fit-embeds"),this},Object.defineProperty(n.prototype,"portContainerMarkup",{get:function(){return this.getPortContainerMarkup()},set:function(t){this.setPortContainerMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getDefaultPortContainerMarkup=function(){return this.store.get("defaultPortContainerMarkup")||l.Markup.getPortContainerMarkup()},n.prototype.getPortContainerMarkup=function(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()},n.prototype.setPortContainerMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("portContainerMarkup",l.Markup.clone(t),e),this},Object.defineProperty(n.prototype,"portMarkup",{get:function(){return this.getPortMarkup()},set:function(t){this.setPortMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getDefaultPortMarkup=function(){return this.store.get("defaultPortMarkup")||l.Markup.getPortMarkup()},n.prototype.getPortMarkup=function(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()},n.prototype.setPortMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("portMarkup",l.Markup.clone(t),e),this},Object.defineProperty(n.prototype,"portLabelMarkup",{get:function(){return this.getPortLabelMarkup()},set:function(t){this.setPortLabelMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getDefaultPortLabelMarkup=function(){return this.store.get("defaultPortLabelMarkup")||l.Markup.getPortLabelMarkup()},n.prototype.getPortLabelMarkup=function(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()},n.prototype.setPortLabelMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("portLabelMarkup",l.Markup.clone(t),e),this},Object.defineProperty(n.prototype,"ports",{get:function(){var t=this.store.get("ports",{items:[]});return t.items==null&&(t.items=[]),t},enumerable:!1,configurable:!0}),n.prototype.getPorts=function(){return nn(this.ports.items)},n.prototype.getPortsByGroup=function(t){return this.getPorts().filter(function(e){return e.group===t})},n.prototype.getPort=function(t){return nn(this.ports.items.find(function(e){return e.id&&e.id===t}))},n.prototype.getPortAt=function(t){return this.ports.items[t]||null},n.prototype.hasPorts=function(){return this.ports.items.length>0},n.prototype.hasPort=function(t){return this.getPortIndex(t)!==-1},n.prototype.getPortIndex=function(t){var e=typeof t=="string"?t:t.id;return e!=null?this.ports.items.findIndex(function(r){return r.id===e}):-1},n.prototype.getPortsPosition=function(t){var e=this.getSize();return this.port.getPortsLayoutByGroup(t,new l.Rectangle(0,0,e.width,e.height)).reduce(function(r,o){var a=o.portLayout;return r[o.portId]={position:y({},a.position),angle:a.angle||0},r},{})},n.prototype.getPortProp=function(t,e){return this.getPropByPath(this.prefixPortPath(t,e))},n.prototype.setPortProp=function(t,e,r,o){if(typeof e=="string"||Array.isArray(e)){var a=this.prefixPortPath(t,e),s=r;return this.setPropByPath(a,s,o)}var u=this.prefixPortPath(t),c=e;return this.setPropByPath(u,c,r)},n.prototype.removePortProp=function(t,e,r){return typeof e=="string"||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),r):this.removePropByPath(this.prefixPortPath(t),e)},n.prototype.portProp=function(t,e,r,o){return e==null?this.getPortProp(t):typeof e=="string"||Array.isArray(e)?arguments.length===2?this.getPortProp(t,e):r==null?this.removePortProp(t,e,o):this.setPortProp(t,e,r,o):this.setPortProp(t,e,r)},n.prototype.prefixPortPath=function(t,e){var r=this.getPortIndex(t);if(r===-1)throw new Error('Unable to find port with id: "'+t+'"');return e==null||e===""?["ports","items",""+r]:Array.isArray(e)?T(["ports","items",""+r],e,!0):"ports/items/"+r+"/"+e},n.prototype.addPort=function(t,e){var r=T([],this.ports.items,!0);return r.push(t),this.setPropByPath("ports/items",r,e),this},n.prototype.addPorts=function(t,e){return this.setPropByPath("ports/items",T(T([],this.ports.items,!0),t,!0),e),this},n.prototype.insertPort=function(t,e,r){var o=T([],this.ports.items,!0);return o.splice(t,0,e),this.setPropByPath("ports/items",o,r),this},n.prototype.removePort=function(t,e){return e===void 0&&(e={}),this.removePortAt(this.getPortIndex(t),e)},n.prototype.removePortAt=function(t,e){if(e===void 0&&(e={}),t>=0){var r=T([],this.ports.items,!0);r.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",r,e)}return this},n.prototype.removePorts=function(t,e){var r;if(Array.isArray(t)){if(r=e||{},t.length){r.rewrite=!0;var o=T([],this.ports.items,!0).filter(function(a){return!t.some(function(s){var u=typeof s=="string"?s:s.id;return a.id===u})});this.setPropByPath("ports/items",o,r)}}else(r=t||{}).rewrite=!0,this.setPropByPath("ports/items",[],r);return this},n.prototype.getParsedPorts=function(){return this.port.getPorts()},n.prototype.getParsedGroups=function(){return this.port.groups},n.prototype.getPortsLayoutByGroup=function(t,e){return this.port.getPortsLayoutByGroup(t,e)},n.prototype.initPorts=function(){var t=this;this.updatePortData(),this.on("change:ports",function(){t.processRemovedPort(),t.updatePortData()})},n.prototype.processRemovedPort=function(){var t=this.ports,e={};t.items.forEach(function(a){a.id&&(e[a.id]=!0)});var r={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(function(a){a.id&&!e[a.id]&&(r[a.id]=!0)});var o=this.model;o&&!Fc(r)&&(o.getConnectedEdges(this,{incoming:!0}).forEach(function(a){var s=a.getTargetPortId();s&&r[s]&&a.remove()}),o.getConnectedEdges(this,{outgoing:!0}).forEach(function(a){var s=a.getSourcePortId();s&&r[s]&&a.remove()}))},n.prototype.validatePorts=function(){var t=this,e={},r=[];return this.ports.items.forEach(function(o){typeof o!="object"&&r.push("Invalid port "+o+"."),o.id==null&&(o.id=t.generatePortId()),e[o.id]&&r.push("Duplicitied port id."),e[o.id]=!0}),r},n.prototype.generatePortId=function(){return ml()},n.prototype.updatePortData=function(){var t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));var e=this.port?this.port.getPorts():null;this.port=new YC(this.ports);var r=this.port.getPorts(),o=e?r.filter(function(s){return e.find(function(u){return u.id===s.id})?null:s}):T([],r,!0),a=e?e.filter(function(s){return r.find(function(u){return u.id===s.id})?null:s}):[];o.length>0&&this.notify("ports:added",{added:o,cell:this,node:this}),a.length>0&&this.notify("ports:removed",{removed:a,cell:this,node:this})},n.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},n}(l.Cell),function(i){i.toStringTag="X6."+i.name,i.isNode=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return(t==null||t===i.toStringTag)&&typeof e.isNode=="function"&&typeof e.isEdge=="function"&&typeof e.prop=="function"&&typeof e.attr=="function"&&typeof e.size=="function"&&typeof e.position=="function"}}(l.Node||(l.Node={})),function(i){i.config({propHooks:function(n){var t=n.ports,e=f(n,["ports"]);return t&&(e.ports=Array.isArray(t)?{items:t}:t),e}})}(l.Node||(l.Node={})),function(i){i.registry=rn.create({type:"node",process:function(n,t){if(ca.exist(n,!0))throw new Error("Node with name '"+n+"' was registered by anthor Edge");if(typeof t=="function")return t.config({shape:n}),t;var e=i,r=t.inherit,o=f(t,["inherit"]);if(r)if(typeof r=="string"){var a=this.get(r);a==null?this.onNotFound(r,"inherited"):e=a}else e=r;o.constructorName==null&&(o.constructorName=n);var s=e.define.call(e,o);return s.config({shape:n}),s}}),ca.setNodeRegistry(i.registry)}(l.Node||(l.Node={})),function(i){var n=0;i.define=function(t){var e,r=t.constructorName,o=t.overwrite,a=f(t,["constructorName","overwrite"]),s=fl((e=r||a.shape)?vl(e):"CustomNode"+(n+=1),this);return s.config(a),a.shape&&i.registry.register(a.shape,s,o),s},i.create=function(t){var e=t.shape||"rect",r=i.registry.get(e);return r?new r(t):i.registry.onNotFound(e)}}(l.Node||(l.Node={}));var Gn=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"label",{get:function(){return this.getLabel()},set:function(t){this.setLabel(t)},enumerable:!1,configurable:!0}),n.prototype.getLabel=function(){return this.getAttrByPath("text/text")},n.prototype.setLabel=function(t,e){return t==null?this.removeLabel():this.setAttrByPath("text/text",t,e),this},n.prototype.removeLabel=function(){return this.removeAttrByPath("text/text"),this},n}(l.Node);function Vh(i){return"basic."+i}function ls(i){return i===void 0&&(i="xlink:href"),function(n){var t=n.imageUrl,e=n.imageWidth,r=n.imageHeight,o=f(n,["imageUrl","imageWidth","imageHeight"]);if(t!=null||e!=null||r!=null){var a=function(){if(o.attrs){var s=o.attrs.image;t!=null&&(s[i]=t),e!=null&&(s.width=e),r!=null&&(s.height=r),o.attrs.image=s}};o.attrs?(o.attrs.image==null&&(o.attrs.image={}),a()):(o.attrs={image:{}},a())}return o}}function io(i,n,t){var e;t===void 0&&(t={});var r=Vh(i),o={constructorName:r,attrs:(e={".":{fill:"#ffffff",stroke:"none"}},e[i]={fill:"#ffffff",stroke:"#000000"},e)};return t.ignoreMarkup||(o.markup=function(a,s){return s===void 0&&(s=!1),'<g class="rotatable"><g class="scalable"><'+a+"/></g>"+(s?"":"<text/>")+"</g>"}(i,t.noText===!0)),(t.parent||Gn).define(Ve(o,n,{shape:r}))}(function(i){i.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},i.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},i.config({attrs:{text:y({},i.labelAttr)},propHooks:function(n){var t=n.label,e=f(n,["label"]);return t&&ui(e,"attrs/text/text",t),e},visible:!0})})(Gn||(Gn={})),io("rect",{attrs:{rect:{width:100,height:60}}}),io("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}}),io("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}}),io("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),io("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),io("image",{attrs:{text:{refY:null,refDy:16}},propHooks:ls()});var us,cs,qv=io("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks:function(i){var n=i.d,t=f(i,["d"]);return n!=null&&ui(t,"attrs/path/d",n),t}});io("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:qv,ignoreMarkup:!0}),io("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:qv,ignoreMarkup:!0}),l.Edge=function(i){function n(t){return t===void 0&&(t={}),i.call(this,t)||this}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.preprocess=function(t,e){var r=t.source,o=t.sourceCell,a=t.sourcePort,s=t.sourcePoint,u=t.target,c=t.targetCell,h=t.targetPort,d=t.targetPoint,g=f(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),C=function(O){return typeof O=="string"||typeof O=="number"};if(r!=null)if(l.Cell.isCell(r))g.source={cell:r.id};else if(C(r))g.source={cell:r};else if(l.Point.isPoint(r))g.source=r.toJSON();else if(Array.isArray(r))g.source={x:r[0],y:r[1]};else{var A=r.cell;l.Cell.isCell(A)?g.source=y(y({},r),{cell:A.id}):g.source=r}if(o!=null||a!=null){var D=g.source;if(o!=null){var k=C(o)?o:o.id;D?D.cell=k:D=g.source={cell:k}}a!=null&&D&&(D.port=a)}else s!=null&&(g.source=l.Point.create(s).toJSON());return u!=null&&(l.Cell.isCell(u)?g.target={cell:u.id}:C(u)?g.target={cell:u}:l.Point.isPoint(u)?g.target=u.toJSON():Array.isArray(u)?g.target={x:u[0],y:u[1]}:(A=u.cell,l.Cell.isCell(A)?g.target=y(y({},u),{cell:A.id}):g.target=u)),c!=null||h!=null?(D=g.target,c!=null&&(k=C(c)?c:c.id,D?D.cell=k:D=g.target={cell:k}),h!=null&&D&&(D.port=h)):d!=null&&(g.target=l.Point.create(d).toJSON()),i.prototype.preprocess.call(this,g,e)},n.prototype.setup=function(){var t=this;i.prototype.setup.call(this),this.on("change:labels",function(e){return t.onLabelsChanged(e)}),this.on("change:vertices",function(e){return t.onVertexsChanged(e)})},n.prototype.isEdge=function(){return!0},n.prototype.disconnect=function(t){return t===void 0&&(t={}),this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this},Object.defineProperty(n.prototype,"source",{get:function(){return this.getSource()},set:function(t){this.setSource(t)},enumerable:!1,configurable:!0}),n.prototype.getSource=function(){return this.getTerminal("source")},n.prototype.getSourceCellId=function(){return this.source.cell},n.prototype.getSourcePortId=function(){return this.source.port},n.prototype.setSource=function(t,e,r){return r===void 0&&(r={}),this.setTerminal("source",t,e,r)},Object.defineProperty(n.prototype,"target",{get:function(){return this.getTarget()},set:function(t){this.setTarget(t)},enumerable:!1,configurable:!0}),n.prototype.getTarget=function(){return this.getTerminal("target")},n.prototype.getTargetCellId=function(){return this.target.cell},n.prototype.getTargetPortId=function(){return this.target.port},n.prototype.setTarget=function(t,e,r){return r===void 0&&(r={}),this.setTerminal("target",t,e,r)},n.prototype.getTerminal=function(t){return y({},this.store.get(t))},n.prototype.setTerminal=function(t,e,r,o){if(o===void 0&&(o={}),l.Cell.isCell(e))return this.store.set(t,Ve({},r,{cell:e.id}),o),this;var a=e;return l.Point.isPoint(e)||a.x!=null&&a.y!=null?(this.store.set(t,Ve({},r,{x:a.x,y:a.y}),o),this):(this.store.set(t,nn(e),o),this)},n.prototype.getSourcePoint=function(){return this.getTerminalPoint("source")},n.prototype.getTargetPoint=function(){return this.getTerminalPoint("target")},n.prototype.getTerminalPoint=function(t){var e=this[t];if(l.Point.isPointLike(e))return l.Point.create(e);var r=this.getTerminalCell(t);return r?r.getConnectionPoint(this,t):new l.Point},n.prototype.getSourceCell=function(){return this.getTerminalCell("source")},n.prototype.getTargetCell=function(){return this.getTerminalCell("target")},n.prototype.getTerminalCell=function(t){if(this.model){var e=t==="source"?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null},n.prototype.getSourceNode=function(){return this.getTerminalNode("source")},n.prototype.getTargetNode=function(){return this.getTerminalNode("target")},n.prototype.getTerminalNode=function(t){for(var e=this,r={};e&&e.isEdge();){if(r[e.id])return null;r[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null},Object.defineProperty(n.prototype,"router",{get:function(){return this.getRouter()},set:function(t){t==null?this.removeRouter():this.setRouter(t)},enumerable:!1,configurable:!0}),n.prototype.getRouter=function(){return this.store.get("router")},n.prototype.setRouter=function(t,e,r){return typeof t=="object"?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},r),this},n.prototype.removeRouter=function(t){return t===void 0&&(t={}),this.store.remove("router",t),this},Object.defineProperty(n.prototype,"connector",{get:function(){return this.getConnector()},set:function(t){t==null?this.removeConnector():this.setConnector(t)},enumerable:!1,configurable:!0}),n.prototype.getConnector=function(){return this.store.get("connector")},n.prototype.setConnector=function(t,e,r){return typeof t=="object"?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},r),this},n.prototype.removeConnector=function(t){return t===void 0&&(t={}),this.store.remove("connector",t)},Object.defineProperty(n.prototype,"strategy",{get:function(){return this.getStrategy()},set:function(t){t==null?this.removeStrategy():this.setStrategy(t)},enumerable:!1,configurable:!0}),n.prototype.getStrategy=function(){return this.store.get("strategy")},n.prototype.setStrategy=function(t,e,r){return typeof t=="object"?this.store.set("strategy",t,e):this.store.set("strategy",{name:t,args:e},r),this},n.prototype.removeStrategy=function(t){return t===void 0&&(t={}),this.store.remove("strategy",t)},n.prototype.getDefaultLabel=function(){var t=this.constructor;return nn(this.store.get("defaultLabel")||t.defaultLabel||{})},Object.defineProperty(n.prototype,"labels",{get:function(){return this.getLabels()},set:function(t){this.setLabels(t)},enumerable:!1,configurable:!0}),n.prototype.getLabels=function(){var t=this;return T([],this.store.get("labels",[]),!0).map(function(e){return t.parseLabel(e)})},n.prototype.setLabels=function(t,e){return e===void 0&&(e={}),this.store.set("labels",Array.isArray(t)?t:[t],e),this},n.prototype.insertLabel=function(t,e,r){r===void 0&&(r={});var o=this.getLabels(),a=o.length,s=e!=null&&Number.isFinite(e)?e:a;return s<0&&(s=a+s+1),o.splice(s,0,this.parseLabel(t)),this.setLabels(o,r)},n.prototype.appendLabel=function(t,e){return e===void 0&&(e={}),this.insertLabel(t,-1,e)},n.prototype.getLabelAt=function(t){var e=this.getLabels();return t!=null&&Number.isFinite(t)?this.parseLabel(e[t]):null},n.prototype.setLabelAt=function(t,e,r){if(r===void 0&&(r={}),t!=null&&Number.isFinite(t)){var o=this.getLabels();o[t]=this.parseLabel(e),this.setLabels(o,r)}return this},n.prototype.removeLabelAt=function(t,e){e===void 0&&(e={});var r=this.getLabels(),o=t!=null&&Number.isFinite(t)?t:-1,a=r.splice(o,1);return this.setLabels(r,e),a.length?a[0]:null},n.prototype.parseLabel=function(t){return typeof t=="string"?this.constructor.parseStringLabel(t):t},n.prototype.onLabelsChanged=function(t){var e=t.previous,r=t.current,o=e&&r?r.filter(function(s){return e.find(function(u){return s===u||Vr(s,u)})?null:s}):r?T([],r,!0):[],a=e&&r?e.filter(function(s){return r.find(function(u){return s===u||Vr(s,u)})?null:s}):e?T([],e,!0):[];o.length>0&&this.notify("labels:added",{added:o,cell:this,edge:this}),a.length>0&&this.notify("labels:removed",{removed:a,cell:this,edge:this})},Object.defineProperty(n.prototype,"vertexMarkup",{get:function(){return this.getVertexMarkup()},set:function(t){this.setVertexMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getDefaultVertexMarkup=function(){return this.store.get("defaultVertexMarkup")||l.Markup.getEdgeVertexMarkup()},n.prototype.getVertexMarkup=function(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()},n.prototype.setVertexMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("vertexMarkup",l.Markup.clone(t),e),this},Object.defineProperty(n.prototype,"vertices",{get:function(){return this.getVertices()},set:function(t){this.setVertices(t)},enumerable:!1,configurable:!0}),n.prototype.getVertices=function(){return T([],this.store.get("vertices",[]),!0)},n.prototype.setVertices=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:[t];return this.store.set("vertices",r.map(function(o){return l.Point.toJSON(o)}),e),this},n.prototype.insertVertex=function(t,e,r){r===void 0&&(r={});var o=this.getVertices(),a=o.length,s=e!=null&&Number.isFinite(e)?e:a;return s<0&&(s=a+s+1),o.splice(s,0,l.Point.toJSON(t)),this.setVertices(o,r)},n.prototype.appendVertex=function(t,e){return e===void 0&&(e={}),this.insertVertex(t,-1,e)},n.prototype.getVertexAt=function(t){return t!=null&&Number.isFinite(t)?this.getVertices()[t]:null},n.prototype.setVertexAt=function(t,e,r){if(r===void 0&&(r={}),t!=null&&Number.isFinite(t)){var o=this.getVertices();o[t]=e,this.setVertices(o,r)}return this},n.prototype.removeVertexAt=function(t,e){e===void 0&&(e={});var r=this.getVertices(),o=t!=null&&Number.isFinite(t)?t:-1;return r.splice(o,1),this.setVertices(r,e)},n.prototype.onVertexsChanged=function(t){var e=t.previous,r=t.current,o=e&&r?r.filter(function(s){return e.find(function(u){return l.Point.equals(s,u)})?null:s}):r?T([],r,!0):[],a=e&&r?e.filter(function(s){return r.find(function(u){return l.Point.equals(s,u)})?null:s}):e?T([],e,!0):[];o.length>0&&this.notify("vertexs:added",{added:o,cell:this,edge:this}),a.length>0&&this.notify("vertexs:removed",{removed:a,cell:this,edge:this})},n.prototype.getDefaultMarkup=function(){return this.store.get("defaultMarkup")||l.Markup.getEdgeMarkup()},n.prototype.getMarkup=function(){return i.prototype.getMarkup.call(this)||this.getDefaultMarkup()},Object.defineProperty(n.prototype,"toolMarkup",{get:function(){return this.getToolMarkup()},set:function(t){this.setToolMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getDefaultToolMarkup=function(){return this.store.get("defaultToolMarkup")||l.Markup.getEdgeToolMarkup()},n.prototype.getToolMarkup=function(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()},n.prototype.setToolMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("toolMarkup",t,e),this},Object.defineProperty(n.prototype,"doubleToolMarkup",{get:function(){return this.getDoubleToolMarkup()},set:function(t){this.setDoubleToolMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getDefaultDoubleToolMarkup=function(){return this.store.get("defaultDoubleToolMarkup")},n.prototype.getDoubleToolMarkup=function(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()},n.prototype.setDoubleToolMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("doubleToolMarkup",t,e),this},Object.defineProperty(n.prototype,"arrowheadMarkup",{get:function(){return this.getArrowheadMarkup()},set:function(t){this.setArrowheadMarkup(t)},enumerable:!1,configurable:!0}),n.prototype.getDefaultArrowheadMarkup=function(){return this.store.get("defaultArrowheadMarkup")||l.Markup.getEdgeArrowheadMarkup()},n.prototype.getArrowheadMarkup=function(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()},n.prototype.setArrowheadMarkup=function(t,e){return e===void 0&&(e={}),this.store.set("arrowheadMarkup",t,e),this},n.prototype.translate=function(t,e,r){return r===void 0&&(r={}),r.translateBy=r.translateBy||this.id,r.tx=t,r.ty=e,this.applyToPoints(function(o){return{x:(o.x||0)+t,y:(o.y||0)+e}},r)},n.prototype.scale=function(t,e,r,o){return o===void 0&&(o={}),this.applyToPoints(function(a){return l.Point.create(a).scale(t,e,r).toJSON()},o)},n.prototype.applyToPoints=function(t,e){e===void 0&&(e={});var r={},o=this.getSource(),a=this.getTarget();l.Point.isPointLike(o)&&(r.source=t(o)),l.Point.isPointLike(a)&&(r.target=t(a));var s=this.getVertices();return s.length>0&&(r.vertices=s.map(t)),this.store.set(r,e),this},n.prototype.getBBox=function(){return this.getPolyline().bbox()},n.prototype.getConnectionPoint=function(){return this.getPolyline().pointAt(.5)},n.prototype.getPolyline=function(){var t=T(T([this.getSourcePoint()],this.getVertices().map(function(e){return l.Point.create(e)}),!0),[this.getTargetPoint()],!1);return new l.Polyline(t)},n.prototype.updateParent=function(t){var e=null,r=this.getSourceCell(),o=this.getTargetCell(),a=this.getParent();return r&&o&&(e=r===o||r.isDescendantOf(o)?o:o.isDescendantOf(r)?r:l.Cell.getCommonAncestor(r,o)),!a||e&&e.id===a.id||a.unembed(this,t),e&&e.embed(this,t),e},n.prototype.hasLoop=function(t){t===void 0&&(t={});var e=this.getSource(),r=this.getTarget(),o=e.cell,a=r.cell;if(!o||!a)return!1;var s=o===a;if(!s&&t.deep&&this._model){var u=this.getSourceCell(),c=this.getTargetCell();u&&c&&(s=u.isAncestorOf(c,t)||c.isAncestorOf(u,t))}return s},n.prototype.getFragmentAncestor=function(){var t=[this,this.getSourceNode(),this.getTargetNode()].filter(function(e){return e!=null});return this.getCommonAncestor.apply(this,t)},n.prototype.isFragmentDescendantOf=function(t){var e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))},n.defaults={},n}(l.Cell),function(i){i.equalTerminals=function(n,t){var e=n,r=t;return e.cell===r.cell&&(e.port===r.port||e.port==null&&r.port==null)}}(l.Edge||(l.Edge={})),function(i){i.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},i.parseStringLabel=function(n){return{attrs:{label:{text:n}}}}}(l.Edge||(l.Edge={})),function(i){i.toStringTag="X6."+i.name,i.isEdge=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return(t==null||t===i.toStringTag)&&typeof e.isNode=="function"&&typeof e.isEdge=="function"&&typeof e.prop=="function"&&typeof e.attr=="function"&&typeof e.disconnect=="function"&&typeof e.getSource=="function"&&typeof e.getTarget=="function"}}(l.Edge||(l.Edge={})),function(i){i.registry=rn.create({type:"edge",process:function(n,t){if(ca.exist(n,!1))throw new Error("Edge with name '"+n+"' was registered by anthor Node");if(typeof t=="function")return t.config({shape:n}),t;var e=i,r=t.inherit,o=r===void 0?"edge":r,a=f(t,["inherit"]);if(typeof o=="string"){var s=this.get(o||"edge");s==null&&o?this.onNotFound(o,"inherited"):e=s}else e=o;a.constructorName==null&&(a.constructorName=n);var u=e.define.call(e,a);return u.config({shape:n}),u}}),ca.setEdgeRegistry(i.registry)}(l.Edge||(l.Edge={})),function(i){var n=0;i.define=function(t){var e,r=t.constructorName,o=t.overwrite,a=f(t,["constructorName","overwrite"]),s=fl((e=r||a.shape)?vl(e):"CustomEdge"+(n+=1),this);return s.config(a),a.shape&&i.registry.register(a.shape,s,o),s},i.create=function(t){var e=t.shape||"edge",r=i.registry.get(e);return r?new r(t):i.registry.onNotFound(e)}}(l.Edge||(l.Edge={})),function(i){var n="basic.edge";i.config({shape:n,propHooks:function(t){var e=t.label,r=t.vertices,o=f(t,["label","vertices"]);if(e){o.labels==null&&(o.labels=[]);var a=typeof e=="string"?i.parseStringLabel(e):e;o.labels.push(a)}return r&&Array.isArray(r)&&(o.vertices=r.map(function(s){return l.Point.create(s).toJSON()})),o}}),i.registry.register(n,i)}(l.Edge||(l.Edge={})),l.EdgeView=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.POINT_ROUNDING=2,t.markerCache={},t}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.getContainerClassName=function(){return[i.prototype.getContainerClassName.call(this),this.prefixClassName("edge")].join(" ")},Object.defineProperty(n.prototype,"sourceBBox",{get:function(){var t=this.sourceView;if(!t){var e=this.cell.getSource();return new l.Rectangle(e.x,e.y)}var r=this.sourceMagnet;return t.isEdgeElement(r)?new l.Rectangle(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(r||t.container)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"targetBBox",{get:function(){var t=this.targetView;if(!t){var e=this.cell.getTarget();return new l.Rectangle(e.x,e.y)}var r=this.targetMagnet;return t.isEdgeElement(r)?new l.Rectangle(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(r||t.container)},enumerable:!1,configurable:!0}),n.prototype.isEdgeView=function(){return!0},n.prototype.confirmUpdate=function(t,e){var r=this;e===void 0&&(e={});var o=t;if(this.hasAction(o,"source")){if(!this.updateTerminalProperties("source"))return o;o=this.removeAction(o,"source")}if(this.hasAction(o,"target")){if(!this.updateTerminalProperties("target"))return o;o=this.removeAction(o,"target")}var a=this.graph,s=this.sourceView,u=this.targetView;return a&&(s&&!a.renderer.isViewMounted(s)||u&&!a.renderer.isViewMounted(u))?o:this.hasAction(o,"render")?(this.render(),o=this.removeAction(o,["render","update","vertices","labels","tools","widget"])):(o=this.handleAction(o,"vertices",function(){return r.renderVertexMarkers()}),o=this.handleAction(o,"update",function(){return r.update(null,e)}),o=this.handleAction(o,"labels",function(){return r.onLabelsChange(e)}),o=this.handleAction(o,"tools",function(){r.renderTools(),r.updateToolsPosition()}),o=this.handleAction(o,"widget",function(){return r.renderExternalTools()}))},n.prototype.onLabelsChange=function(t){t===void 0&&(t={}),this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()},n.prototype.shouldRerenderLabels=function(t){t===void 0&&(t={});var e=this.cell.previous("labels");if(e==null)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var r=t.propertyPathArray||[],o=r.length;if(o>1&&e[r[1]]){if(o===2)return typeof t.propertyValue=="object"&&Zi(t.propertyValue,"markup");if(r[2]!=="markup")return!1}}return!0},n.prototype.render=function(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this.renderExternalTools(),this},n.prototype.renderMarkup=function(){var t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid edge markup.")},n.prototype.renderJSONMarkup=function(t){var e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)},n.prototype.renderStringMarkup=function(t){var e=this.containers,r=l.Vector.createVectors(t);r.forEach(function(o){var a=o.attr("class");a&&(e[Ia(a)]=o.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),_i(this.container,r.map(function(o){return o.node}))},n.prototype.renderLabels=function(){var t=this.cell,e=t.getLabels(),r=e.length,o=this.containers.labels;if(this.labelCache={},this.labelSelectors={},r<=0)return o&&o.parentNode&&o.parentNode.removeChild(o),this;o?this.empty(o):(o=_n("g"),this.addClass(this.prefixClassName("edge-labels"),o),this.containers.labels=o);for(var a=0,s=e.length;a<s;a+=1){var u=e[a],c=this.normalizeLabelMarkup(this.parseLabelMarkup(u.markup)),h=void 0,d=void 0;if(c)h=c.node,d=c.selectors;else{var g=t.getDefaultLabel(),C=this.normalizeLabelMarkup(this.parseLabelMarkup(g.markup));h=C.node,d=C.selectors}h.setAttribute("data-index",""+a),o.appendChild(h);var A=this.rootSelector;if(d[A])throw new Error("Ambiguous label root selector.");d[A]=h,this.labelCache[a]=h,this.labelSelectors[a]=d}return o.parentNode==null&&this.container.appendChild(o),this.updateLabels(),this.customizeLabels(),this},n.prototype.parseLabelMarkup=function(t){return t?typeof t=="string"?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null},n.prototype.parseLabelStringMarkup=function(t){for(var e=l.Vector.createVectors(t),r=document.createDocumentFragment(),o=0,a=e.length;o<a;o+=1){var s=e[o].node;r.appendChild(s)}return{fragment:r,selectors:{}}},n.prototype.normalizeLabelMarkup=function(t){if(t!=null){var e,r=t.fragment;if(!(r instanceof DocumentFragment&&r.hasChildNodes()))throw new Error("Invalid label markup.");var o=r.childNodes;return(e=o.length>1||o[0].nodeName.toUpperCase()!=="G"?l.Vector.create("g").append(r):l.Vector.create(o[0])).addClass(this.prefixClassName("edge-label")),{node:e.node,selectors:t.selectors}}},n.prototype.updateLabels=function(){if(this.containers.labels)for(var t=this.cell,e=t.labels,r=this.can("edgeLabelMovable"),o=t.getDefaultLabel(),a=0,s=e.length;a<s;a+=1){var u=this.labelCache[a],c=this.labelSelectors[a];u.setAttribute("cursor",r?"move":"default");var h=e[a],d=Ve({},o.attrs,h.attrs);this.updateAttrs(u,d,{selectors:c,rootBBox:h.size?l.Rectangle.fromSize(h.size):void 0})}},n.prototype.mergeLabelAttrs=function(t,e,r){return e===null?null:e===void 0?r===null?null:r===void 0?void 0:t?r:Ve({},r):t?Ve({},r,e):void 0},n.prototype.customizeLabels=function(){if(this.containers.labels)for(var t=this.cell,e=t.labels,r=0,o=e.length;r<o;r+=1){var a=e[r],s=this.labelCache[r],u=this.labelSelectors[r];this.graph.hook.onEdgeLabelRendered({edge:t,label:a,container:s,selectors:u})}},n.prototype.renderTools=function(){var t=this.containers.tools;if(t==null)return this;var e=this.cell.toolMarkup,r=this.$(t).empty();if(l.Markup.isStringMarkup(e)){var o=li(e),a=l.Vector.create(o());if(r.append(a.node),this.toolCache=a.node,this.options.doubleTools){var s=void 0,u=this.cell.doubleToolMarkup;l.Markup.isStringMarkup(u)?(o=li(u),s=l.Vector.create(o())):s=a.clone(),r.append(s.node),this.tool2Cache=s.node}}return this},n.prototype.renderExternalTools=function(){var t=this.cell.getTools();return this.addTools(t),this},n.prototype.renderVertexMarkers=function(){var t=this.containers.vertices;if(t==null)return this;var e=this.cell.vertexMarkup,r=this.$(t).empty();if(l.Markup.isStringMarkup(e)){var o=li(e);this.cell.getVertices().forEach(function(a,s){r.append(l.Vector.create(o(y({index:s},a))).node)})}return this},n.prototype.renderArrowheadMarkers=function(){var t=this.containers.arrowheads;if(t==null)return this;var e=this.cell.arrowheadMarkup,r=this.$(t).empty();if(l.Markup.isStringMarkup(e)){var o=li(e),a=l.Vector.create(o({end:"source"})).node,s=l.Vector.create(o({end:"target"})).node;this.containers.sourceArrowhead=a,this.containers.targetArrowhead=s,r.append(a,s)}return this},n.prototype.update=function(t,e){e===void 0&&(e={}),this.cleanCache(),this.updateConnection(e);var r=this.cell.getAttrs();return r!=null&&this.updateAttrs(this.container,r,{attrs:t===r?null:t,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(e),this},n.prototype.removeRedundantLinearVertices=function(t){t===void 0&&(t={});var e=this.cell,r=e.getVertices(),o=T(T([this.sourceAnchor],r,!0),[this.targetAnchor],!1),a=o.length,s=new l.Polyline(o);s.simplify({threshold:.01});var u=s.points.map(function(h){return h.toJSON()}),c=u.length;return a===c?0:(e.setVertices(u.slice(1,c-1),t),a-c)},n.prototype.updateConnectionPath=function(){var t=this.containers;if(t.connection){var e=this.getConnectionPathData();t.connection.setAttribute("d",e)}t.connectionWrap&&(e=this.getConnectionPathData(),t.connectionWrap.setAttribute("d",e)),t.sourceMarker&&t.targetMarker&&this.translateAndAutoOrientArrows(t.sourceMarker,t.targetMarker)},n.prototype.getTerminalView=function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("Unknown terminal type '"+t+"'")}},n.prototype.getTerminalAnchor=function(t){switch(t){case"source":return l.Point.create(this.sourceAnchor);case"target":return l.Point.create(this.targetAnchor);default:throw new Error("Unknown terminal type '"+t+"'")}},n.prototype.getTerminalConnectionPoint=function(t){switch(t){case"source":return l.Point.create(this.sourcePoint);case"target":return l.Point.create(this.targetPoint);default:throw new Error("Unknown terminal type '"+t+"'")}},n.prototype.getTerminalMagnet=function(t,e){switch(e===void 0&&(e={}),t){case"source":if(e.raw)return this.sourceMagnet;var r=this.sourceView;return r?this.sourceMagnet||r.container:null;case"target":if(e.raw)return this.targetMagnet;var o=this.targetView;return o?this.targetMagnet||o.container:null;default:throw new Error("Unknown terminal type '"+t+"'")}},n.prototype.updateConnection=function(t){t===void 0&&(t={});var e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){var r=t.tx||0,o=t.ty||0;this.routePoints=new l.Polyline(this.routePoints).translate(r,o).points,this.translateConnectionPoints(r,o),this.path.translate(r,o)}else{var a=e.getVertices(),s=this.findAnchors(a);this.sourceAnchor=s.source,this.targetAnchor=s.target,this.routePoints=this.findRoutePoints(a);var u=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=u.source,this.targetPoint=u.target;var c=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,c.source||this.sourcePoint,c.target||this.targetPoint)}this.cleanCache()},n.prototype.findAnchors=function(t){var e=this.cell,r=e.source,o=e.target,a=t[0],s=t[t.length-1];return o.priority&&!r.priority?this.findAnchorsOrdered("target",s,"source",a):this.findAnchorsOrdered("source",a,"target",s)},n.prototype.findAnchorsOrdered=function(t,e,r,o){var a,s,u,c=this.cell,h=c[t],d=c[r],g=this.getTerminalView(t),C=this.getTerminalView(r),A=this.getTerminalMagnet(t),D=this.getTerminalMagnet(r);if(g){var k=void 0;k=e?l.Point.create(e):C?D:l.Point.create(d),s=this.getAnchor(h.anchor,g,A,k,t)}else s=l.Point.create(h);if(C){var O=l.Point.create(o||s);u=this.getAnchor(d.anchor,C,D,O,r)}else u=l.Point.isPointLike(d)?l.Point.create(d):new l.Point;return(a={})[t]=s,a[r]=u,a},n.prototype.getAnchor=function(t,e,r,o,a){var s,u=e.isEdgeElement(r),c=this.graph.options.connecting,h=typeof t=="string"?{name:t}:t;if(!h){var d=u?(a==="source"?c.sourceEdgeAnchor:c.targetEdgeAnchor)||c.edgeAnchor:(a==="source"?c.sourceAnchor:c.targetAnchor)||c.anchor;h=typeof d=="string"?{name:d}:d}if(!h)throw new Error("Anchor should be specified.");var g=h.name;if(u){if(typeof(C=xi.registry.get(g))!="function")return xi.registry.onNotFound(g);s=Lt(C,this,e,r,o,h.args||{},a)}else{var C;if(typeof(C=Ci.registry.get(g))!="function")return Ci.registry.onNotFound(g);s=Lt(C,this,e,r,o,h.args||{},a)}return s?s.round(this.POINT_ROUNDING):new l.Point},n.prototype.findRoutePoints=function(t){t===void 0&&(t=[]);var e,r=this.graph.options.connecting.router||Eo.presets.normal,o=this.cell.getRouter()||r;if(typeof o=="function")e=Lt(o,this,t,{},this);else{var a=typeof o=="string"?o:o.name,s=typeof o=="string"?{}:o.args||{},u=a?Eo.registry.get(a):Eo.presets.normal;if(typeof u!="function")return Eo.registry.onNotFound(a);e=Lt(u,this,t,s,this)}return e==null?t.map(function(c){return l.Point.create(c)}):e.map(function(c){return l.Point.create(c)})},n.prototype.findConnectionPoints=function(t,e,r){var o,a,s=this.cell,u=this.graph.options.connecting,c=s.getSource(),h=s.getTarget(),d=this.sourceView,g=this.targetView,C=t[0],A=t[t.length-1];if(d&&!d.isEdgeElement(this.sourceMagnet)){var D=this.sourceMagnet||d.container,k=C||r,O=new l.Line(k,e),F=c.connectionPoint||u.sourceConnectionPoint||u.connectionPoint;o=this.getConnectionPoint(F,d,D,O,"source")}else o=e;if(g&&!g.isEdgeElement(this.targetMagnet)){var B=this.targetMagnet||g.container,z=h.connectionPoint||u.targetConnectionPoint||u.connectionPoint,Y=A||e,w=new l.Line(Y,r);a=this.getConnectionPoint(z,g,B,w,"target")}else a=r;return{source:o,target:a}},n.prototype.getConnectionPoint=function(t,e,r,o,a){var s=o.end;if(t==null)return s;var u=typeof t=="string"?t:t.name,c=typeof t=="string"?{}:t.args,h=wi.registry.get(u);if(typeof h!="function")return wi.registry.onNotFound(u);var d=Lt(h,this,o,e,r,c||{},a);return d?d.round(this.POINT_ROUNDING):s},n.prototype.updateMarkerAttr=function(t){var e,r=this.cell.getAttrs(),o="."+t+"-marker",a=r&&r[o];a&&this.updateAttrs(this.container,{},{attrs:(e={},e[o]=a,e),selectors:this.selectors})},n.prototype.findMarkerPoints=function(t,e,r){var o,a,s,u=this,c=function(k){for(var O=u.cell.getAttrs(),F=Object.keys(O),B=0,z=F.length;B<z;B+=1){var Y=O[F[B]];if(Y[k+"Marker"]||Y[k+"-marker"]){var w=Y.strokeWidth||Y["stroke-width"];if(w)return parseFloat(w);break}}return null},h=t[0],d=t[t.length-1],g=this.containers.sourceMarker,C=this.containers.targetMarker,A=this.markerCache;if(g){if(this.updateMarkerAttr("source"),A.sourceBBox=A.sourceBBox||An(g),A.sourceBBox.width>0){var D=bo(g);o=e.clone().move(h||r,A.sourceBBox.width*D.sx*-1)}}else(s=c("source"))&&(o=e.clone().move(h||r,-s));return C?(this.updateMarkerAttr("target"),A.targetBBox=A.targetBBox||An(C),A.targetBBox.width>0&&(D=bo(C),a=r.clone().move(d||e,A.targetBBox.width*D.sx*-1))):(s=c("target"))&&(a=r.clone().move(d||e,-s)),A.sourcePoint=o||e.clone(),A.targetPoint=a||r.clone(),{source:o,target:a}},n.prototype.findPath=function(t,e,r){var o,a,s,u=this.cell.getConnector()||this.graph.options.connecting.connector;if(typeof u=="string"?o=u:(o=u.name,a=u.args),o){var c=Ko.registry.get(o);if(typeof c!="function")return Ko.registry.onNotFound(o);s=c}else s=Ko.presets.normal;var h=Lt(s,this,e,r,t,y(y({},a),{raw:!0}),this);return typeof h=="string"?l.Path.parse(h):h},n.prototype.translateConnectionPoints=function(t,e){var r=this.markerCache;r.sourcePoint&&r.sourcePoint.translate(t,e),r.targetPoint&&r.targetPoint.translate(t,e),this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e)},n.prototype.updateLabelPositions=function(){if(this.containers.labels==null)return this;if(!this.path)return this;var t=this.cell,e=t.getLabels();if(e.length===0)return this;for(var r=t.getDefaultLabel(),o=this.normalizeLabelPosition(r.position),a=0,s=e.length;a<s;a+=1){var u=e[a],c=this.normalizeLabelPosition(u.position),h=Ve({},o,c),d=this.getLabelTransformationMatrix(h);this.labelCache[a].setAttribute("transform",Vo(d))}return this},n.prototype.updateToolsPosition=function(){if(this.containers.tools==null)return this;var t="",e=this.options.toolsOffset,r=this.getConnectionLength();if(r!=null){r<this.options.shortLength&&(t="scale(.5)",e/=2);var o=this.getPointAtLength(e);if(o!=null&&Se(this.toolCache,"transform","translate("+o.x+","+o.y+") "+t),this.options.doubleTools&&r>=this.options.longLength){var a=this.options.doubleToolsOffset||e;(o=this.getPointAtLength(r-a))!=null&&Se(this.tool2Cache,"transform","translate("+o.x+","+o.y+") "+t),Se(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&Se(this.tool2Cache,"visibility","hidden")}return this},n.prototype.updateArrowheadMarkers=function(){var t=this.containers.arrowheads;if(t==null)return this;if(t.style.display==="none")return this;var e=this.containers.sourceArrowhead,r=this.containers.targetArrowhead;if(e&&r){var o=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;bo(e,o),bo(r,o),this.translateAndAutoOrientArrows(e,r)}return this},n.prototype.updateTerminalProperties=function(t){var e=this.cell,r=this.graph,o=e[t],a=o&&o.cell,s=t+"View";if(!a)return this[s]=null,this.updateTerminalMagnet(t),!0;var u=r.getCellById(a);if(!u)throw new Error("Edge's "+t+' node with id "'+a+'" not exists');var c=u.findView(r);return!!c&&(this[s]=c,this.updateTerminalMagnet(t),!0)},n.prototype.updateTerminalMagnet=function(t){var e=t+"Magnet",r=this.getTerminalView(t);if(r){var o=r.getMagnetFromEdgeTerminal(this.cell[t]);o===r.container&&(o=null),this[e]=o}else this[e]=null},n.prototype.translateAndAutoOrientArrows=function(t,e){var r=this.routePoints;t&&Ul(t,this.sourcePoint,r[0]||this.targetPoint,this.graph.view.stage),e&&Ul(e,this.targetPoint,r[r.length-1]||this.sourcePoint,this.graph.view.stage)},n.prototype.getLabelPositionAngle=function(t){var e=this.cell.getLabelAt(t);return e&&e.position&&typeof e.position=="object"&&e.position.angle||0},n.prototype.getLabelPositionArgs=function(t){var e=this.cell.getLabelAt(t);if(e&&e.position&&typeof e.position=="object")return e.position.options},n.prototype.getDefaultLabelPositionArgs=function(){var t=this.cell.getDefaultLabel();if(t&&t.position&&typeof t.position=="object")return t.position.options},n.prototype.mergeLabelPositionArgs=function(t,e){return t===null?null:t===void 0?e===null?null:e:Ve({},e,t)},n.prototype.addLabel=function(t,e,r,o){var a,s,u,c=0;typeof t!="number"?(a=t.x,s=t.y,typeof e=="number"?(c=e,u=r):u=e):(a=t,s=e,typeof r=="number"?(c=r,u=o):u=r);var h=this.getDefaultLabelPositionArgs(),d=u,g=this.mergeLabelPositionArgs(d,h),C={position:this.getLabelPosition(a,s,c,g)};return this.cell.insertLabel(C,-1,u),-1},n.prototype.addVertex=function(t,e,r){var o=typeof t!="number",a=o?t.x:t,s=o?t.y:e,u=o?e:r,c={x:a,y:s},h=this.getVertexIndex(a,s);return this.cell.insertVertex(c,h,u),h},n.prototype.sendToken=function(t,e,r){var o,a,s,u,c="linear";typeof e=="object"?(o=e.duration,a=e.reversed===!0,s=e.selector,e.rotate===!1?u="":e.rotate===!0?u="auto":e.rotate!=null&&(u=""+e.rotate),e.timing&&(c=e.timing)):(o=e,a=!1,s=null);var h,d={dur:(o=o||1e3)+"ms",repeatCount:"1",calcMode:c,fill:"freeze"};if(u&&(d.rotate=u),a&&(d.keyPoints="1;0",d.keyTimes="0;1"),typeof e=="object"){e.duration,e.reversed,e.selector,e.rotate,e.timing;var g=f(e,["duration","reversed","selector","rotate","timing"]);Object.keys(g).forEach(function(B){d[B]=g[B]})}if(!((h=typeof s=="string"?this.findOne(s,this.container,this.selectors):this.containers.connection?this.containers.connection:this.container.querySelector("path"))instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");var C=typeof t=="string"?this.findOne(t):t;if(C==null)throw new Error("Token animation requires a valid token element.");var A=C.parentNode,D=function(){A||no(C)},k=l.Vector.create(C);A||k.appendTo(this.graph.view.stage);var O=d.complete;d.complete=function(B){D(),r&&r(),O&&O(B)};var F=k.animateAlongPath(d,h);return function(){D(),F()}},n.prototype.getConnection=function(){return this.path!=null?this.path.clone():null},n.prototype.getConnectionPathData=function(){if(this.path==null)return"";var t=this.cache.pathCache;return Zi(t,"data")||(t.data=this.path.serialize()),t.data||""},n.prototype.getConnectionSubdivisions=function(){if(this.path==null)return null;var t=this.cache.pathCache;return Zi(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions},n.prototype.getConnectionLength=function(){if(this.path==null)return 0;var t=this.cache.pathCache;return Zi(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length},n.prototype.getPointAtLength=function(t){return this.path==null?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})},n.prototype.getPointAtRatio=function(t){return this.path==null?null:(Gr(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))},n.prototype.getTangentAtLength=function(t){return this.path==null?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})},n.prototype.getTangentAtRatio=function(t){return this.path==null?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})},n.prototype.getClosestPoint=function(t){return this.path==null?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})},n.prototype.getClosestPointLength=function(t){return this.path==null?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})},n.prototype.getClosestPointRatio=function(t){return this.path==null?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})},n.prototype.getLabelPosition=function(t,e,r,o){var a,s={distance:0},u=0;typeof r=="number"?(u=r,a=o):a=r,a!=null&&(s.options=a);var c,h,d=a&&a.absoluteOffset,g=!(a&&a.absoluteDistance),C=a&&a.absoluteDistance&&a.reverseDistance,A=this.path,D={segmentSubdivisions:this.getConnectionSubdivisions()},k=new l.Point(t,e),O=A.closestPointT(k,D),F=this.getConnectionLength()||0,B=A.lengthAtT(O,D);if(g&&(B=F>0?B/F:0),C&&(B=-1*(F-B)||1),s.distance=B,d||(c=A.tangentAtT(O)),c)h=c.pointOffset(k);else{var z=A.pointAtT(O),Y=k.diff(z);h={x:Y.x,y:Y.y}}return s.offset=h,s.angle=u,s},n.prototype.normalizeLabelPosition=function(t){return typeof t=="number"?{distance:t}:t},n.prototype.getLabelTransformationMatrix=function(t){var e=this.normalizeLabelPosition(t),r=e.options||{},o=e.angle||0,a=e.distance,s=a>0&&a<=1,u=0,c={x:0,y:0},h=e.offset;h&&(typeof h=="number"?u=h:(h.x!=null&&(c.x=h.x),h.y!=null&&(c.y=h.y)));var d,g=c.x!==0||c.y!==0||u===0,C=r.keepGradient,A=r.ensureLegibility,D=this.path,k={segmentSubdivisions:this.getConnectionSubdivisions()},O=s?a*this.getConnectionLength():a,F=D.tangentAtLength(O,k),B=o;if(F){if(g)(d=F.start).translate(c);else{var z=F.clone();z.rotate(-90,F.start),z.setLength(u),d=z.end}C&&(B=F.angle()+o,A&&(B=l.Angle.normalize((B+90)%180-90)))}else d=D.start,g&&d.translate(c);return Pn().translate(d.x,d.y).rotate(B)},n.prototype.getLabelCoordinates=function(t){var e=this.getLabelTransformationMatrix(t);return new l.Point(e.e,e.f)},n.prototype.getVertexIndex=function(t,e){var r=this.cell.getVertices(),o=this.getClosestPointLength(new l.Point(t,e)),a=0;if(o!=null)for(var s=r.length;a<s;a+=1){var u=r[a],c=this.getClosestPointLength(u);if(c!=null&&o<c)break}return a},n.prototype.getEventArgs=function(t,e,r){var o=this,a=o.cell;return e==null||r==null?{e:t,view:o,edge:a,cell:a}:{e:t,x:e,y:r,view:o,edge:a,cell:a}},n.prototype.notifyUnhandledMouseDown=function(t,e,r){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:r,view:this,cell:this.cell,edge:this.cell})},n.prototype.notifyMouseDown=function(t,e,r){i.prototype.onMouseDown.call(this,t,e,r),this.notify("edge:mousedown",this.getEventArgs(t,e,r))},n.prototype.notifyMouseMove=function(t,e,r){i.prototype.onMouseMove.call(this,t,e,r),this.notify("edge:mousemove",this.getEventArgs(t,e,r))},n.prototype.notifyMouseUp=function(t,e,r){i.prototype.onMouseUp.call(this,t,e,r),this.notify("edge:mouseup",this.getEventArgs(t,e,r))},n.prototype.onClick=function(t,e,r){i.prototype.onClick.call(this,t,e,r),this.notify("edge:click",this.getEventArgs(t,e,r))},n.prototype.onDblClick=function(t,e,r){i.prototype.onDblClick.call(this,t,e,r),this.notify("edge:dblclick",this.getEventArgs(t,e,r))},n.prototype.onContextMenu=function(t,e,r){i.prototype.onContextMenu.call(this,t,e,r),this.notify("edge:contextmenu",this.getEventArgs(t,e,r))},n.prototype.onMouseDown=function(t,e,r){switch(this.notifyMouseDown(t,e,r),t.target.getAttribute("class")){case"vertex":return void this.startVertexDragging(t,e,r);case"vertex-remove":case"vertex-remove-area":return void this.handleVertexRemoving(t,e,r);case"connection":case"connection-wrap":return void this.handleVertexAdding(t,e,r);case"arrowhead":return void this.startArrowheadDragging(t,e,r);case"source-marker":case"target-marker":return void this.notifyUnhandledMouseDown(t,e,r)}this.startEdgeDragging(t,e,r)},n.prototype.onMouseMove=function(t,e,r){var o=this.getEventData(t);switch(o.action){case"drag-vertex":this.dragVertex(t,e,r);break;case"drag-label":this.dragLabel(t,e,r);break;case"drag-arrowhead":this.dragArrowhead(t,e,r);break;case"drag-edge":this.dragEdge(t,e,r)}return this.notifyMouseMove(t,e,r),o},n.prototype.onMouseUp=function(t,e,r){var o=this.getEventData(t);switch(o.action){case"drag-vertex":this.stopVertexDragging(t,e,r);break;case"drag-label":this.stopLabelDragging(t,e,r);break;case"drag-arrowhead":this.stopArrowheadDragging(t,e,r);break;case"drag-edge":this.stopEdgeDragging(t,e,r)}return this.notifyMouseUp(t,e,r),this.checkMouseleave(t),o},n.prototype.onMouseOver=function(t){i.prototype.onMouseOver.call(this,t),this.notify("edge:mouseover",this.getEventArgs(t))},n.prototype.onMouseOut=function(t){i.prototype.onMouseOut.call(this,t),this.notify("edge:mouseout",this.getEventArgs(t))},n.prototype.onMouseEnter=function(t){i.prototype.onMouseEnter.call(this,t),this.notify("edge:mouseenter",this.getEventArgs(t))},n.prototype.onMouseLeave=function(t){i.prototype.onMouseLeave.call(this,t),this.notify("edge:mouseleave",this.getEventArgs(t))},n.prototype.onMouseWheel=function(t,e,r,o){i.prototype.onMouseWheel.call(this,t,e,r,o),this.notify("edge:mousewheel",y({delta:o},this.getEventArgs(t,e,r)))},n.prototype.onCustomEvent=function(t,e,r,o){if(th(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if(e==="edge:remove")return void this.cell.remove({ui:!0});this.notify("edge:customevent",y({name:e},this.getEventArgs(t,r,o)))}this.notifyMouseDown(t,r,o)}else this.notify("edge:customevent",y({name:e},this.getEventArgs(t,r,o))),i.prototype.onCustomEvent.call(this,t,e,r,o)},n.prototype.onLabelMouseDown=function(t,e,r){this.notifyMouseDown(t,e,r),this.startLabelDragging(t,e,r),this.getEventData(t).stopPropagation&&t.stopPropagation()},n.prototype.startEdgeDragging=function(t,e,r){this.can("edgeMovable")?this.setEventData(t,{x:e,y:r,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(t,e,r)},n.prototype.dragEdge=function(t,e,r){var o=this.getEventData(t);o.moving||(o.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:r,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-o.x,r-o.y,{ui:!0}),this.setEventData(t,{x:e,y:r}),this.notify("edge:moving",{e:t,x:e,y:r,view:this,cell:this.cell,edge:this.cell})},n.prototype.stopEdgeDragging=function(t,e,r){var o=this.getEventData(t);o.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:r,view:this,cell:this.cell,edge:this.cell})),o.moving=!1},n.prototype.prepareArrowheadDragging=function(t,e){var r=this.getTerminalMagnet(t),o={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:e.isNewEdge===!0,terminalType:t,initialMagnet:r,initialTerminal:Ki(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(o),o},n.prototype.createValidateConnectionArgs=function(t){var e,r=[];r[4]=t,r[5]=this;var o=0,a=0;t==="source"?(o=2,e="target"):(a=2,e="source");var s=this.cell[e],u=s.cell;if(u){var c=void 0,h=r[o]=this.graph.renderer.findViewByCell(u);h&&(c=h.getMagnetFromEdgeTerminal(s))===h.container&&(c=void 0),r[o+1]=c}return function(d,g){return r[a]=d,r[a+1]=d.container===g?void 0:g,r}},n.prototype.beforeArrowheadDragging=function(t){t.zIndex=this.cell.zIndex,this.cell.toFront();var e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)},n.prototype.afterArrowheadDragging=function(t){t.zIndex!=null&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null),this.container.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)},n.prototype.arrowheadDragging=function(t,e,r,o){var a;o.x=e,o.y=r,o.currentTarget!==t&&(o.currentMagnet&&o.currentView&&o.currentView.unhighlight(o.currentMagnet,{type:"magnetAdsorbed"}),o.currentView=this.graph.renderer.findViewByElem(t),o.currentView?(o.currentMagnet=o.currentView.findMagnet(t),o.currentMagnet&&(a=this.graph.hook).validateConnection.apply(a,T(T([],o.getValidateConnectionArgs(o.currentView,o.currentMagnet),!1),[o.currentView.getEdgeTerminal(o.currentMagnet,e,r,this.cell,o.terminalType)],!1))?o.currentView.highlight(o.currentMagnet,{type:"magnetAdsorbed"}):o.currentMagnet=null):o.currentMagnet=null),o.currentTarget=t,this.cell.prop(o.terminalType,{x:e,y:r},y(y({},o.options),{ui:!0}))},n.prototype.arrowheadDragged=function(t,e,r){var o=t.currentView,a=t.currentMagnet;if(a&&o){o.unhighlight(a,{type:"magnetAdsorbed"});var s=t.terminalType,u=o.getEdgeTerminal(a,e,r,this.cell,s);this.cell.setTerminal(s,u,{ui:!0})}},n.prototype.snapArrowhead=function(t,e,r){var o=this,a=this.graph,s=a.options.connecting,u=s.snap,c=s.allowEdge,h=typeof u=="object"&&u.radius||50,d={x:t-h,y:e-h,width:2*h,height:2*h},g=a.renderer.findViewsInArea(d);if(c){var C=a.renderer.findEdgeViewsInArea(d).filter(function(J){return J!==o});g.push.apply(g,C)}var A,D=r.closestView||null,k=r.closestMagnet||null;r.closestView=null,r.closestMagnet=null;var O,F=Number.MAX_SAFE_INTEGER,B=new l.Point(t,e);g.forEach(function(J){var nt;J.container.getAttribute("magnet")!=="false"&&(A=J.cell.getBBox().getCenter().distance(B))<h&&A<F&&(k===J.container||(nt=a.hook).validateConnection.apply(nt,T(T([],r.getValidateConnectionArgs(J,null),!1),[J.getEdgeTerminal(J.container,t,e,o.cell,r.terminalType)],!1)))&&(F=A,r.closestView=J,r.closestMagnet=J.container),J.container.querySelectorAll("[magnet]").forEach(function(lt){var ut;if(lt.getAttribute("magnet")!=="false"){var xt=J.getBBoxOfElement(lt);(A=B.distance(xt.getCenter()))<h&&A<F&&(k===lt||(ut=a.hook).validateConnection.apply(ut,T(T([],r.getValidateConnectionArgs(J,lt),!1),[J.getEdgeTerminal(lt,t,e,o.cell,r.terminalType)],!1)))&&(F=A,r.closestView=J,r.closestMagnet=lt)}})});var z=r.terminalType,Y=r.closestView,w=r.closestMagnet,Q=k!==w;if(D&&Q&&D.unhighlight(k,{type:"magnetAdsorbed"}),Y){if(!Q)return;Y.highlight(w,{type:"magnetAdsorbed"}),O=Y.getEdgeTerminal(w,t,e,this.cell,z)}else O={x:t,y:e};this.cell.setTerminal(z,O,{},y(y({},r.options),{ui:!0}))},n.prototype.snapArrowheadEnd=function(t){var e=t.closestView,r=t.closestMagnet;e&&r&&(e.unhighlight(r,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(r)),t.closestView=null,t.closestMagnet=null},n.prototype.finishEmbedding=function(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)},n.prototype.fallbackConnection=function(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0})}},n.prototype.notifyConnectionEvent=function(t,e){var r=t.terminalType,o=t.initialTerminal,a=this.cell[r];if(a&&!l.Edge.equalTerminals(o,a)){var s=this.graph,u=o,c=u.cell?s.getCellById(u.cell):null,h=u.port,d=c?s.findViewByCell(c):null,g=c||t.isNewEdge?null:l.Point.create(o).toJSON(),C=a,A=C.cell?s.getCellById(C.cell):null,D=C.port,k=A?s.findViewByCell(A):null,O=A?null:l.Point.create(a).toJSON();this.notify("edge:connected",{e,previousCell:c,previousPort:h,previousView:d,previousPoint:g,currentCell:A,currentView:k,currentPort:D,currentPoint:O,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:r,isNew:t.isNewEdge})}},n.prototype.highlightAvailableMagnets=function(t){var e=this,r=this.graph,o=r.model.getCells();t.marked={};for(var a=function(c,h){var d=r.renderer.findViewByCell(o[c]);if(!d)return"continue";var g=Array.prototype.slice.call(d.container.querySelectorAll("[magnet]"));d.container.getAttribute("magnet")!=="false"&&g.push(d.container);var C=g.filter(function(k){var O;return(O=r.hook).validateConnection.apply(O,T(T([],t.getValidateConnectionArgs(d,k),!1),[d.getEdgeTerminal(k,t.x,t.y,e.cell,t.terminalType)],!1))});if(C.length>0){for(var A=0,D=C.length;A<D;A+=1)d.highlight(C[A],{type:"magnetAvailable"});d.highlight(null,{type:"nodeAvailable"}),t.marked[d.cell.id]=C}},s=0,u=o.length;s<u;s+=1)a(s)},n.prototype.unhighlightAvailableMagnets=function(t){var e=this,r=t.marked||{};Object.keys(r).forEach(function(o){var a=e.graph.renderer.findViewByCell(o);a&&(r[o].forEach(function(s){a.unhighlight(s,{type:"magnetAvailable"})}),a.unhighlight(null,{type:"nodeAvailable"}))}),t.marked=null},n.prototype.startArrowheadDragging=function(t,e,r){if(this.can("arrowheadMovable")){var o=t.target.getAttribute("data-terminal"),a=this.prepareArrowheadDragging(o,{x:e,y:r});this.setEventData(t,a)}else this.notifyUnhandledMouseDown(t,e,r)},n.prototype.dragArrowhead=function(t,e,r){var o=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,r,o):this.arrowheadDragging(this.getEventTarget(t),e,r,o)},n.prototype.stopArrowheadDragging=function(t,e,r){var o=this.graph,a=this.getEventData(t);o.options.connecting.snap?this.snapArrowheadEnd(a):this.arrowheadDragged(a,e,r),o.hook.validateEdge(this.cell,a.terminalType,a.initialTerminal)?(this.finishEmbedding(a),this.notifyConnectionEvent(a,t)):this.fallbackConnection(a),this.afterArrowheadDragging(a)},n.prototype.startLabelDragging=function(t,e,r){if(this.can("edgeLabelMovable")){var o=t.currentTarget,a=parseInt(o.getAttribute("data-index"),10),s=this.getLabelPositionAngle(a),u=this.getLabelPositionArgs(a),c=this.getDefaultLabelPositionArgs(),h=this.mergeLabelPositionArgs(u,c);this.setEventData(t,{index:a,positionAngle:s,positionArgs:h,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)},n.prototype.dragLabel=function(t,e,r){var o=this.getEventData(t),a=this.cell.getLabelAt(o.index),s=Ve({},a,{position:this.getLabelPosition(e,r,o.positionAngle,o.positionArgs)});this.cell.setLabelAt(o.index,s)},n.prototype.stopLabelDragging=function(t,e,r){},n.prototype.handleVertexAdding=function(t,e,r){if(this.can("vertexAddable")){var o=this.addVertex({x:e,y:r},{ui:!0});this.setEventData(t,{index:o,action:"drag-vertex"})}else this.notifyUnhandledMouseDown(t,e,r)},n.prototype.handleVertexRemoving=function(t,e,r){if(this.can("vertexDeletable")){var o=t.target,a=parseInt(o.getAttribute("idx"),10);this.cell.removeVertexAt(a)}else this.notifyUnhandledMouseDown(t,e,r)},n.prototype.startVertexDragging=function(t,e,r){if(this.can("vertexMovable")){var o=t.target,a=parseInt(o.getAttribute("idx"),10);this.setEventData(t,{index:a,action:"drag-vertex"})}else this.notifyUnhandledMouseDown(t,e,r)},n.prototype.dragVertex=function(t,e,r){var o=this.getEventData(t);this.cell.setVertexAt(o.index,{x:e,y:r},{ui:!0})},n.prototype.stopVertexDragging=function(t,e,r){},n}(l.CellView),(us=l.EdgeView||(l.EdgeView={})).toStringTag="X6."+us.name,us.isEdgeView=function(i){if(i==null)return!1;if(i instanceof us)return!0;var n=i[Symbol.toStringTag],t=i;return(n==null||n===us.toStringTag)&&typeof t.isNodeView=="function"&&typeof t.isEdgeView=="function"&&typeof t.confirmUpdate=="function"&&typeof t.update=="function"&&typeof t.getConnection=="function"},l.EdgeView.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50}),l.EdgeView.registry.register("edge",l.EdgeView,!0),l.NodeView=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.scalableNode=null,t.rotatableNode=null,t.scalableSelector="scalable",t.rotatableSelector="rotatable",t.defaultPortMarkup=l.Markup.getPortMarkup(),t.defaultPortLabelMarkup=l.Markup.getPortLabelMarkup(),t.defaultPortContainerMarkup=l.Markup.getPortContainerMarkup(),t.portsCache={},t}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.getContainerClassName=function(){var t=[i.prototype.getContainerClassName.call(this),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")},n.prototype.updateClassName=function(t){var e=t.target;if(e.hasAttribute("magnet")){var r=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?mr(e,r):Ee(e,r)}else r=this.prefixClassName("node-immovable"),this.can("nodeMovable")?this.removeClass(r):this.addClass(r)},n.prototype.isNodeView=function(){return!0},n.prototype.confirmUpdate=function(t,e){var r=this;e===void 0&&(e={});var o=t;return this.hasAction(o,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(o,"render")?(this.render(),o=this.removeAction(o,["render","update","resize","translate","rotate","ports","tools"])):(o=this.handleAction(o,"resize",function(){return r.resize(e)},"update"),o=this.handleAction(o,"update",function(){return r.update()},lr.useCSSSelector?"ports":null),o=this.handleAction(o,"translate",function(){return r.translate()}),o=this.handleAction(o,"rotate",function(){return r.rotate()}),o=this.handleAction(o,"ports",function(){return r.renderPorts()}),o=this.handleAction(o,"tools",function(){return r.renderTools()})),o},n.prototype.update=function(t){this.cleanCache(),lr.useCSSSelector&&this.removePorts();var e=this.cell,r=e.getSize(),o=e.getAttrs();this.updateAttrs(this.container,o,{attrs:t===o?null:t,rootBBox:new l.Rectangle(0,0,r.width,r.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),lr.useCSSSelector&&this.renderPorts()},n.prototype.renderMarkup=function(){var t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid node markup.")},n.prototype.renderJSONMarkup=function(t){var e=this.parseJSONMarkup(t,this.container),r=function(o){return Array.isArray(o)?o[0]:o};this.selectors=e.selectors,this.rotatableNode=r(this.selectors[this.rotatableSelector]),this.scalableNode=r(this.selectors[this.scalableSelector]),this.container.appendChild(e.fragment)},n.prototype.renderStringMarkup=function(t){_i(this.container,l.Vector.toNodes(l.Vector.createVectors(t))),this.rotatableNode=Pl(this.container,"."+this.rotatableSelector),this.scalableNode=Pl(this.container,"."+this.scalableSelector),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)},n.prototype.render=function(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),lr.useCSSSelector||this.renderPorts(),this.renderTools(),this},n.prototype.resize=function(t){if(t===void 0&&(t={}),this.scalableNode)return this.updateSize(t);this.cell.getAngle()&&this.rotate(),this.update()},n.prototype.translate=function(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()},n.prototype.rotate=function(){if(this.rotatableNode)return this.updateRotation(),void this.update();this.updateTransform()},n.prototype.getTranslationString=function(){var t=this.cell.getPosition();return"translate("+t.x+","+t.y+")"},n.prototype.getRotationString=function(){var t=this.cell.getAngle();if(t){var e=this.cell.getSize();return"rotate("+t+","+e.width/2+","+e.height/2+")"}},n.prototype.updateTransform=function(){var t=this.getTranslationString(),e=this.getRotationString();e&&(t+=" "+e),this.container.setAttribute("transform",t)},n.prototype.updateRotation=function(){if(this.rotatableNode!=null){var t=this.getRotationString();t!=null?this.rotatableNode.setAttribute("transform",t):this.rotatableNode.removeAttribute("transform")}},n.prototype.updateTranslation=function(){this.container.setAttribute("transform",this.getTranslationString())},n.prototype.updateSize=function(t){t===void 0&&(t={});var e=this.cell,r=e.getSize(),o=e.getAngle(),a=this.scalableNode,s=!1;a.getElementsByTagName("path").length>0&&(s=!0);var u=An(a,{recursive:s}),c=r.width/(u.width||1),h=r.height/(u.height||1);a.setAttribute("transform","scale("+c+","+h+")");var d=this.rotatableNode;if(d!=null){var g=d.getAttribute("transform");if(g){d.setAttribute("transform",g+" rotate("+-o+","+r.width/2+","+r.height/2+")");var C=An(a,{target:this.graph.view.stage});e.prop("position",{x:C.x,y:C.y},y({updated:!0},t)),this.translate(),this.rotate()}}this.update()},n.prototype.findPortElem=function(t,e){var r=t?this.portsCache[t]:null;if(!r)return null;var o=r.portContentElement,a=r.portContentSelectors||{};return this.findOne(e,o,a)},n.prototype.initializePorts=function(){this.cleanPortsCache()},n.prototype.refreshPorts=function(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()},n.prototype.cleanPortsCache=function(){this.portsCache={}},n.prototype.removePorts=function(){var t=this;Object.keys(this.portsCache).forEach(function(e){no(t.portsCache[e].portElement)})},n.prototype.renderPorts=function(){var t=this,e=this.getPortsContainer(),r=[];e.childNodes.forEach(function(s){r.push(s)});var o=Lc(this.cell.getParsedPorts(),"zIndex"),a="auto";o.auto&&o.auto.forEach(function(s){var u=t.getPortElement(s);e.append(u),r.push(u)}),Object.keys(o).forEach(function(s){if(s!==a){var u=parseInt(s,10);t.appendPorts(o[s],u,r)}}),this.updatePorts()},n.prototype.getPortsContainer=function(){return this.rotatableNode||this.container},n.prototype.appendPorts=function(t,e,r){var o=this,a=t.map(function(s){return o.getPortElement(s)});r[e]||e<0?Tl(r[Math.max(e,0)],a):_i(this.getPortsContainer(),a)},n.prototype.getPortElement=function(t){var e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)},n.prototype.createPortElement=function(t){var e=l.Markup.renderMarkup(this.getPortContainerMarkup()),r=e.elem;if(r==null)throw new Error("Invalid port container markup.");var o=(e=l.Markup.renderMarkup(this.getPortMarkup(t))).elem,a=e.selectors;if(o==null)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},o);var s,u=(e=l.Markup.renderMarkup(this.getPortLabelMarkup(t.label))).elem,c=e.selectors;if(u==null)throw new Error("Invalid port label markup.");if(a&&c){for(var h in c)if(a[h]&&h!==this.rootSelector)throw new Error("Selectors within port must be unique.");s=y(y({},a),c)}else s=a||c;var d="x6-port";return t.group&&(d+=" x6-port-"+t.group),Ee(r,d),Ee(o,"x6-port-body"),Ee(u,"x6-port-label"),r.appendChild(o),r.appendChild(u),this.portsCache[t.id]={portElement:r,portSelectors:s,portLabelElement:u,portLabelSelectors:c,portContentElement:o,portContentSelectors:a},this.graph.hook.onPortRendered({port:t,node:this.cell,container:r,selectors:s,labelContainer:u,labelSelectors:c,contentContainer:o,contentSelectors:a}),r},n.prototype.updatePorts=function(){var t=this;this.updatePortGroup();var e=this.cell.getParsedGroups();Object.keys(e).forEach(function(r){return t.updatePortGroup(r)})},n.prototype.updatePortGroup=function(t){for(var e=l.Rectangle.fromSize(this.cell.getSize()),r=this.cell.getPortsLayoutByGroup(t,e),o=0,a=r.length;o<a;o+=1){var s=r[o],u=s.portId,c=this.portsCache[u]||{},h=s.portLayout;if(this.applyPortTransform(c.portElement,h),s.portAttrs!=null){var d={selectors:c.portSelectors||{}};s.portSize&&(d.rootBBox=l.Rectangle.fromSize(s.portSize)),this.updateAttrs(c.portElement,s.portAttrs,d)}var g=s.labelLayout;g&&(this.applyPortTransform(c.portLabelElement,g,-(h.angle||0)),g.attrs)&&(d={selectors:c.portLabelSelectors||{}},s.labelSize&&(d.rootBBox=l.Rectangle.fromSize(s.labelSize)),this.updateAttrs(c.portLabelElement,g.attrs,d))}},n.prototype.applyPortTransform=function(t,e,r){r===void 0&&(r=0);var o=e.angle,a=e.position;fi(t,Pn().rotate(r).translate(a.x||0,a.y||0).rotate(o||0),{absolute:!0})},n.prototype.getPortContainerMarkup=function(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup},n.prototype.getPortMarkup=function(t){return t.markup||this.cell.portMarkup||this.defaultPortMarkup},n.prototype.getPortLabelMarkup=function(t){return t.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup},n.prototype.getEventArgs=function(t,e,r){var o=this,a=o.cell;return e==null||r==null?{e:t,view:o,node:a,cell:a}:{e:t,x:e,y:r,view:o,node:a,cell:a}},n.prototype.notifyMouseDown=function(t,e,r){i.prototype.onMouseDown.call(this,t,e,r),this.notify("node:mousedown",this.getEventArgs(t,e,r))},n.prototype.notifyMouseMove=function(t,e,r){i.prototype.onMouseMove.call(this,t,e,r),this.notify("node:mousemove",this.getEventArgs(t,e,r))},n.prototype.notifyMouseUp=function(t,e,r){i.prototype.onMouseUp.call(this,t,e,r),this.notify("node:mouseup",this.getEventArgs(t,e,r))},n.prototype.onClick=function(t,e,r){i.prototype.onClick.call(this,t,e,r),this.notify("node:click",this.getEventArgs(t,e,r))},n.prototype.onDblClick=function(t,e,r){i.prototype.onDblClick.call(this,t,e,r),this.notify("node:dblclick",this.getEventArgs(t,e,r))},n.prototype.onContextMenu=function(t,e,r){i.prototype.onContextMenu.call(this,t,e,r),this.notify("node:contextmenu",this.getEventArgs(t,e,r))},n.prototype.onMouseDown=function(t,e,r){if(!this.isPropagationStopped(t)){var o=t.target;Dl(o)||eh(o)||(this.notifyMouseDown(t,e,r),this.startNodeDragging(t,e,r))}},n.prototype.onMouseMove=function(t,e,r){var o=this.getEventData(t),a=o.action;if(a==="magnet")this.dragMagnet(t,e,r);else{if(a==="move"){var s=o.targetView||this;s.dragNode(t,e,r),s.notify("node:moving",{e:t,x:e,y:r,view:s,cell:s.cell,node:s.cell})}this.notifyMouseMove(t,e,r)}this.setEventData(t,o)},n.prototype.onMouseUp=function(t,e,r){var o=this.getEventData(t),a=o.action;if(a==="magnet")this.stopMagnetDragging(t,e,r);else{var s=t.target;if(Dl(s)||eh(s))return;this.notifyMouseUp(t,e,r),a==="move"&&(o.targetView||this).stopNodeDragging(t,e,r)}var u=o.targetMagnet;u&&this.onMagnetClick(t,u,e,r),this.checkMouseleave(t)},n.prototype.onMouseOver=function(t){i.prototype.onMouseOver.call(this,t),this.notify("node:mouseover",this.getEventArgs(t))},n.prototype.onMouseOut=function(t){i.prototype.onMouseOut.call(this,t),this.notify("node:mouseout",this.getEventArgs(t))},n.prototype.onMouseEnter=function(t){this.updateClassName(t),i.prototype.onMouseEnter.call(this,t),this.notify("node:mouseenter",this.getEventArgs(t))},n.prototype.onMouseLeave=function(t){i.prototype.onMouseLeave.call(this,t),this.notify("node:mouseleave",this.getEventArgs(t))},n.prototype.onMouseWheel=function(t,e,r,o){i.prototype.onMouseWheel.call(this,t,e,r,o),this.notify("node:mousewheel",y({delta:o},this.getEventArgs(t,e,r)))},n.prototype.onMagnetClick=function(t,e,r,o){this.graph.view.getMouseMovedCount(t)>this.graph.options.clickThreshold||this.notify("node:magnet:click",y({magnet:e},this.getEventArgs(t,r,o)))},n.prototype.onMagnetDblClick=function(t,e,r,o){this.notify("node:magnet:dblclick",y({magnet:e},this.getEventArgs(t,r,o)))},n.prototype.onMagnetContextMenu=function(t,e,r,o){this.notify("node:magnet:contextmenu",y({magnet:e},this.getEventArgs(t,r,o)))},n.prototype.onMagnetMouseDown=function(t,e,r,o){this.startMagnetDragging(t,r,o)},n.prototype.onCustomEvent=function(t,e,r,o){this.notify("node:customevent",y({name:e},this.getEventArgs(t,r,o))),i.prototype.onCustomEvent.call(this,t,e,r,o)},n.prototype.prepareEmbedding=function(t){var e=this.getEventData(t).cell||this.cell,r=this.graph.findViewByCell(e),o=this.graph.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:e,view:r,cell:e,x:o.x,y:o.y,currentParent:e.getParent()})},n.prototype.processEmbedding=function(t,e){var r=this,o=e.cell||this.cell,a=e.graph||this.graph,s=a.options.embedding,u=s.findParent,c=typeof u=="function"?Lt(u,a,{view:this,node:this.cell}).filter(function(B){return l.Cell.isCell(B)&&r.cell.id!==B.id&&!B.isDescendantOf(r.cell)}):a.model.getNodesUnderNode(o,{by:u});if(s.frontOnly&&c.length>0){var h=Lc(c,"zIndex"),d=zf(Object.keys(h));d&&(c=h[d])}c=c.filter(function(B){return B.visible});for(var g=null,C=e.candidateEmbedView,A=s.validate,D=c.length-1;D>=0;D-=1){var k=c[D];if(C&&C.cell.id===k.id){g=C;break}var O=k.findView(a);if(Lt(A,a,{child:this.cell,parent:O.cell,childView:this,parentView:O})){g=O;break}}this.clearEmbedding(e),g&&g.highlight(null,{type:"embedding"}),e.candidateEmbedView=g;var F=a.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:o,node:o,view:a.findViewByCell(o),x:F.x,y:F.y,currentParent:o.getParent(),candidateParent:g?g.cell:null})},n.prototype.clearEmbedding=function(t){var e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)},n.prototype.finalizeEmbedding=function(t,e){this.graph.startBatch("embedding");var r=e.cell||this.cell,o=e.graph||this.graph,a=o.findViewByCell(r),s=r.getParent(),u=e.candidateEmbedView;if(u?(u.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,s!=null&&s.id===u.cell.id||u.cell.insertChild(r,void 0,{ui:!0})):s&&s.unembed(r,{ui:!0}),o.model.getConnectedEdges(r,{deep:!0}).forEach(function(h){h.updateParent({ui:!0})}),a&&u){var c=o.snapToGrid(t.clientX,t.clientY);a.notify("node:embedded",{e:t,cell:r,x:c.x,y:c.y,node:r,view:o.findViewByCell(r),previousParent:s,currentParent:r.getParent()})}this.graph.stopBatch("embedding")},n.prototype.getDelegatedView=function(){for(var t=this.cell,e=this;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.renderer.findViewByCell(t)}return null},n.prototype.startMagnetDragging=function(t,e,r){if(this.can("magnetConnectable")){t.stopPropagation();var o=t.currentTarget,a=this.graph;this.setEventData(t,{targetMagnet:o}),a.hook.validateMagnet(this,o,t)?(a.options.magnetThreshold<=0&&this.startConnectting(t,o,e,r),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):((Qi(o,"x6-port-body")||I(o).closest(".x6-port-body").length>0)&&this.stopPropagation(t),this.onMouseDown(t,e,r)),a.view.delegateDragEvents(t,this)}},n.prototype.startConnectting=function(t,e,r,o){this.graph.model.startBatch("add-edge");var a=this.createEdgeFromMagnet(e,r,o);a.notifyMouseDown(t,r,o),a.setEventData(t,a.prepareArrowheadDragging("target",{x:r,y:o,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:a})},n.prototype.createEdgeFromMagnet=function(t,e,r){var o=this.graph,a=o.model,s=o.hook.getDefaultEdge(this,t);return s.setSource(y(y({},s.getSource()),this.getEdgeTerminal(t,e,r,s,"source"))),s.setTarget(y(y({},s.getTarget()),{x:e,y:r})),s.addTo(a,{async:!1,ui:!0}),s.findView(o)},n.prototype.dragMagnet=function(t,e,r){var o=this.getEventData(t),a=o.edgeView;if(a)a.onMouseMove(t,e,r),this.autoScrollGraph(t.clientX,t.clientY);else{var s=this.graph,u=s.options.magnetThreshold,c=this.getEventTarget(t),h=o.targetMagnet;if(u==="onleave"){if(h===c||h.contains(c))return}else if(s.view.getMouseMovedCount(t)<=u)return;this.startConnectting(t,h,e,r)}},n.prototype.stopMagnetDragging=function(t,e,r){var o=this.eventData(t).edgeView;o&&(o.onMouseUp(t,e,r),this.graph.model.stopBatch("add-edge"))},n.prototype.notifyUnhandledMouseDown=function(t,e,r){this.notify("node:unhandled:mousedown",{e:t,x:e,y:r,view:this,cell:this.cell,node:this.cell})},n.prototype.notifyNodeMove=function(t,e,r,o,a){var s=this,u=[a],c=this.graph.selection.widget;if(c&&c.options.movable){var h=this.graph.getSelectedCells();h.includes(a)&&(u=h.filter(function(d){return d.isNode()}))}u.forEach(function(d){s.notify(t,{e,x:r,y:o,cell:d,node:d,view:d.findView(s.graph)})})},n.prototype.startNodeDragging=function(t,e,r){var o=this.getDelegatedView();if(o==null||!o.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,r);this.setEventData(t,{targetView:o,action:"move"});var a=l.Point.create(o.cell.getPosition());o.setEventData(t,{moving:!1,offset:a.diff(e,r),restrict:this.graph.hook.getRestrictArea(o)})},n.prototype.dragNode=function(t,e,r){var o=this.cell,a=this.graph,s=a.getGridSize(),u=this.getEventData(t),c=u.offset,h=u.restrict;u.moving||(u.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,r,this.cell)),this.autoScrollGraph(t.clientX,t.clientY);var d=l.Util.snapToGrid(e+c.x,s),g=l.Util.snapToGrid(r+c.y,s);o.setPosition(d,g,{restrict:h,deep:!0,ui:!0}),a.options.embedding.enabled&&(u.embedding||(this.prepareEmbedding(t),u.embedding=!0),this.processEmbedding(t,u))},n.prototype.stopNodeDragging=function(t,e,r){var o=this.getEventData(t);o.embedding&&this.finalizeEmbedding(t,o),o.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,r,this.cell)),o.moving=!1,o.embedding=!1},n.prototype.autoScrollGraph=function(t,e){var r=this.graph.scroller.widget;r&&r.autoScroll(t,e)},n}(l.CellView),(cs=l.NodeView||(l.NodeView={})).toStringTag="X6."+cs.name,cs.isNodeView=function(i){if(i==null)return!1;if(i instanceof cs)return!0;var n=i[Symbol.toStringTag],t=i;return(n==null||n===cs.toStringTag)&&typeof t.isNodeView=="function"&&typeof t.isEdgeView=="function"&&typeof t.confirmUpdate=="function"&&typeof t.update=="function"&&typeof t.findPortElem=="function"&&typeof t.resize=="function"&&typeof t.rotate=="function"&&typeof t.translate=="function"},l.NodeView.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),l.NodeView.registry.register("node",l.NodeView,!0);var Qv=Vh("text"),_v=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n}(io("text",{view:Qv,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}));(function(i){var n=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return x(e,t),e.prototype.confirmUpdate=function(r,o){o===void 0&&(o={});var a=t.prototype.confirmUpdate.call(this,r,o);return this.hasAction(a,"scale")&&(this.resize(),a=this.removeAction(a,"scale")),a},e}(l.NodeView);i.View=n,n.config({actions:{attrs:["scale"]}}),l.NodeView.registry.register(Qv,n)})(_v||(_v={}));var hs,Gh=function(i){function n(t,e){e===void 0&&(e={});var r=i.call(this)||this;return r.length=0,r.comparator=e.comparator||"zIndex",r.clean(),t&&r.reset(t,{silent:!0}),r}return x(n,i),n.prototype.toJSON=function(){return this.cells.map(function(t){return t.toJSON()})},n.prototype.add=function(t,e,r){var o,a,s,u=this;typeof e=="number"?(a=e,s=y({merge:!1},r)):(a=this.length,s=y({merge:!1},e)),a>this.length&&(a=this.length),a<0&&(a+=this.length+1);var c=Array.isArray(t)?t:[t],h=this.comparator&&typeof e!="number"&&s.sort!==!1,d=this.comparator||null,g=!1,C=[],A=[];return c.forEach(function(D){var k=u.get(D);k?s.merge&&!D.isSameStore(k)&&(k.setProp(D.getProp(),r),A.push(k),h&&!g&&(g=d==null||typeof d=="function"?k.hasChanged():typeof d=="string"?k.hasChanged(d):d.some(function(O){return k.hasChanged(O)}))):(C.push(D),u.reference(D))}),C.length&&(h&&(g=!0),(o=this.cells).splice.apply(o,T([a,0],C,!1)),this.length=this.cells.length),g&&this.sort({silent:!0}),s.silent||(C.forEach(function(D,k){var O={cell:D,index:a+k,options:s};u.trigger("added",O),s.dryrun||D.notify("added",y({},O))}),g&&this.trigger("sorted"),(C.length||A.length)&&this.trigger("updated",{added:C,merged:A,removed:[],options:s})),this},n.prototype.remove=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:[t],o=this.removeCells(r,e);return!e.silent&&o.length>0&&this.trigger("updated",{options:e,removed:o,added:[],merged:[]}),Array.isArray(t)?o:o[0]},n.prototype.removeCells=function(t,e){for(var r=[],o=0;o<t.length;o+=1){var a=this.get(t[o]);if(a!=null){var s=this.cells.indexOf(a);this.cells.splice(s,1),this.length-=1,delete this.map[a.id],r.push(a),this.unreference(a),e.dryrun||a.remove(),e.silent||(this.trigger("removed",{cell:a,index:s,options:e}),e.dryrun||a.notify("removed",{cell:a,index:s,options:e}))}}return r},n.prototype.reset=function(t,e){var r=this;e===void 0&&(e={});var o=this.cells.slice();if(o.forEach(function(c){return r.unreference(c)}),this.clean(),this.add(t,y({silent:!0},e)),!e.silent){var a=this.cells.slice();this.trigger("reseted",{options:e,previous:o,current:a});var s=[],u=[];a.forEach(function(c){o.some(function(h){return h.id===c.id})||s.push(c)}),o.forEach(function(c){a.some(function(h){return h.id===c.id})||u.push(c)}),this.trigger("updated",{options:e,added:s,removed:u,merged:[]})}return this},n.prototype.push=function(t,e){return this.add(t,this.length,e)},n.prototype.pop=function(t){var e=this.at(this.length-1);return this.remove(e,t)},n.prototype.unshift=function(t,e){return this.add(t,0,e)},n.prototype.shift=function(t){var e=this.at(0);return this.remove(e,t)},n.prototype.get=function(t){if(t==null)return null;var e=typeof t=="string"||typeof t=="number"?t:t.id;return this.map[e]||null},n.prototype.has=function(t){return this.get(t)!=null},n.prototype.at=function(t){return t<0&&(t+=this.length),this.cells[t]||null},n.prototype.first=function(){return this.at(0)},n.prototype.last=function(){return this.at(-1)},n.prototype.indexOf=function(t){return this.cells.indexOf(t)},n.prototype.toArray=function(){return this.cells.slice()},n.prototype.sort=function(t){return t===void 0&&(t={}),this.comparator!=null&&(this.cells=pl(this.cells,this.comparator),t.silent||this.trigger("sorted")),this},n.prototype.clone=function(){return new this.constructor(this.cells.slice(),{comparator:this.comparator})},n.prototype.reference=function(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)},n.prototype.unreference=function(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]},n.prototype.notifyCellEvent=function(t,e){var r=e.cell;this.trigger("cell:"+t,e),r&&(r.isNode()?this.trigger("node:"+t,y(y({},e),{node:r})):r.isEdge()&&this.trigger("edge:"+t,y(y({},e),{edge:r})))},n.prototype.clean=function(){this.length=0,this.cells=[],this.map={}},n}(l.Basecoat);l.Model=function(i){function n(t){t===void 0&&(t=[]);var e=i.call(this)||this;return e.batches={},e.addings=new WeakMap,e.nodes={},e.edges={},e.outgoings={},e.incomings={},e.collection=new Gh(t),e.setup(),e}return x(n,i),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.notify=function(t,e){this.trigger(t,e);var r=this.graph;return r&&(t==="sorted"||t==="reseted"||t==="updated"?r.trigger("model:"+t,e):r.trigger(t,e)),this},n.prototype.setup=function(){var t=this,e=this.collection;e.on("sorted",function(){return t.notify("sorted",null)}),e.on("updated",function(r){return t.notify("updated",r)}),e.on("cell:change:zIndex",function(){return t.sortOnChangeZ()}),e.on("added",function(r){var o=r.cell;t.onCellAdded(o)}),e.on("removed",function(r){var o=r.cell;t.onCellRemoved(o,r.options),t.notify("cell:removed",r),o.isNode()?t.notify("node:removed",y(y({},r),{node:o})):o.isEdge()&&t.notify("edge:removed",y(y({},r),{edge:o}))}),e.on("reseted",function(r){t.onReset(r.current),t.notify("reseted",r)}),e.on("edge:change:source",function(r){var o=r.edge;return t.onEdgeTerminalChanged(o,"source")}),e.on("edge:change:target",function(r){var o=r.edge;t.onEdgeTerminalChanged(o,"target")})},n.prototype.sortOnChangeZ=function(){this.collection.sort()},n.prototype.onCellAdded=function(t){var e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0},n.prototype.onCellRemoved=function(t,e){var r=t.id;if(t.isEdge()){delete this.edges[r];var o,a,s=t.getSource(),u=t.getTarget();s&&s.cell&&(a=(o=this.outgoings[s.cell])?o.indexOf(r):-1)>=0&&(o.splice(a,1),o.length===0&&delete this.outgoings[s.cell]),u&&u.cell&&(a=(o=this.incomings[u.cell])?o.indexOf(r):-1)>=0&&(o.splice(a,1),o.length===0&&delete this.incomings[u.cell])}else delete this.nodes[r];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)},n.prototype.onReset=function(t){var e=this;this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(function(r){return e.onCellAdded(r)})},n.prototype.onEdgeTerminalChanged=function(t,e){var r=e==="source"?this.outgoings:this.incomings,o=t.previous(e);if(o&&o.cell){var a=l.Cell.isCell(o.cell)?o.cell.id:o.cell;(c=(u=r[a])?u.indexOf(t.id):-1)>=0&&(u.splice(c,1),u.length===0&&delete r[a])}var s=t.getTerminal(e);if(s&&s.cell){var u,c,h=l.Cell.isCell(s.cell)?s.cell.id:s.cell;(c=(u=r[h]||[]).indexOf(t.id))===-1&&u.push(t.id),r[h]=u}},n.prototype.prepareCell=function(t,e){return t.model||e&&e.dryrun||(t.model=this),t.zIndex==null&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t},n.prototype.resetCells=function(t,e){var r=this;return e===void 0&&(e={}),t.map(function(o){return r.prepareCell(o,y(y({},e),{dryrun:!0}))}),this.collection.reset(t,e),t.map(function(o){return r.prepareCell(o,{options:e})}),this},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.getCells();if(e.length===0)return this;var r=y(y({},t),{clear:!0});return this.batchUpdate("clear",function(){for(var o=e.sort(function(s,u){return(s.isEdge()?1:2)-(u.isEdge()?1:2)});o.length>0;){var a=o.shift();a&&a.remove(r)}},r),this},n.prototype.addNode=function(t,e){e===void 0&&(e={});var r=l.Node.isNode(t)?t:this.createNode(t);return this.addCell(r,e),r},n.prototype.createNode=function(t){return l.Node.create(t)},n.prototype.addEdge=function(t,e){e===void 0&&(e={});var r=l.Edge.isEdge(t)?t:this.createEdge(t);return this.addCell(r,e),r},n.prototype.createEdge=function(t){return l.Edge.create(t)},n.prototype.addCell=function(t,e){var r=this;return e===void 0&&(e={}),Array.isArray(t)?this.addCells(t,e):(this.collection.has(t)||this.addings.has(t)||(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(function(o){return r.addCell(o,e)}),this.addings.delete(t)),this)},n.prototype.addCells=function(t,e){var r=this;e===void 0&&(e={});var o=t.length;if(o===0)return this;var a=y(y({},e),{position:o-1,maxPosition:o-1});return this.startBatch("add",y(y({},a),{cells:t})),t.forEach(function(s){r.addCell(s,a),a.position-=1}),this.stopBatch("add",y(y({},a),{cells:t})),this},n.prototype.removeCell=function(t,e){e===void 0&&(e={});var r=typeof t=="string"?this.getCell(t):t;return r&&this.has(r)?this.collection.remove(r,e):null},n.prototype.updateCellId=function(t,e){this.startBatch("update",{id:e}),t.prop("id",e);var r=t.clone({keepId:!0});return this.addCell(r),this.getConnectedEdges(t).forEach(function(o){var a=o.getSourceCell(),s=o.getTargetCell();a===t&&o.setSource(y(y({},o.getSource()),{cell:e})),s===t&&o.setTarget(y(y({},o.getTarget()),{cell:e}))}),this.removeCell(t),this.stopBatch("update",{id:e}),r},n.prototype.removeCells=function(t,e){var r=this;return e===void 0&&(e={}),t.length?this.batchUpdate("remove",function(){return t.map(function(o){return r.removeCell(o,e)})}):[]},n.prototype.removeConnectedEdges=function(t,e){e===void 0&&(e={});var r=this.getConnectedEdges(t);return r.forEach(function(o){o.remove(e)}),r},n.prototype.disconnectConnectedEdges=function(t,e){e===void 0&&(e={});var r=typeof t=="string"?t:t.id;this.getConnectedEdges(t).forEach(function(o){var a=o.getSourceCell(),s=o.getTargetCell();a&&a.id===r&&o.setSource({x:0,y:0},e),s&&s.id===r&&o.setTarget({x:0,y:0},e)})},n.prototype.has=function(t){return this.collection.has(t)},n.prototype.total=function(){return this.collection.length},n.prototype.indexOf=function(t){return this.collection.indexOf(t)},n.prototype.getCell=function(t){return this.collection.get(t)},n.prototype.getCells=function(){return this.collection.toArray()},n.prototype.getFirstCell=function(){return this.collection.first()},n.prototype.getLastCell=function(){return this.collection.last()},n.prototype.getMinZIndex=function(){var t=this.collection.first();return t&&t.getZIndex()||0},n.prototype.getMaxZIndex=function(){var t=this.collection.last();return t&&t.getZIndex()||0},n.prototype.getCellsFromCache=function(t){var e=this;return t?Object.keys(t).map(function(r){return e.getCell(r)}).filter(function(r){return r!=null}):[]},n.prototype.getNodes=function(){return this.getCellsFromCache(this.nodes)},n.prototype.getEdges=function(){return this.getCellsFromCache(this.edges)},n.prototype.getOutgoingEdges=function(t){var e=this,r=typeof t=="string"?t:t.id,o=this.outgoings[r];return o?o.map(function(a){return e.getCell(a)}).filter(function(a){return a&&a.isEdge()}):null},n.prototype.getIncomingEdges=function(t){var e=this,r=typeof t=="string"?t:t.id,o=this.incomings[r];return o?o.map(function(a){return e.getCell(a)}).filter(function(a){return a&&a.isEdge()}):null},n.prototype.getConnectedEdges=function(t,e){var r=this;e===void 0&&(e={});var o=[],a=typeof t=="string"?this.getCell(t):t;if(a==null)return o;var s={},u=e.indirect,c=e.incoming,h=e.outgoing;c==null&&h==null&&(c=h=!0);var d=function(D,k){var O=k?r.getOutgoingEdges(D):r.getIncomingEdges(D);if(O!=null&&O.forEach(function(B){s[B.id]||(o.push(B),s[B.id]=!0,u&&(c&&d(B,!1),h&&d(B,!0)))}),u&&D.isEdge()){var F=k?D.getTargetCell():D.getSourceCell();F&&F.isEdge()&&(s[F.id]||(o.push(F),d(F,k)))}};if(h&&d(a,!0),c&&d(a,!1),e.deep){var g=a.getDescendants({deep:!0}),C={};g.forEach(function(D){D.isNode()&&(C[D.id]=!0)});var A=function(D,k){var O=k?r.getOutgoingEdges(D.id):r.getIncomingEdges(D.id);O!=null&&O.forEach(function(F){if(!s[F.id]){var B=F.getSourceCell(),z=F.getTargetCell();if(!e.enclosed&&B&&C[B.id]&&z&&C[z.id])return;o.push(F),s[F.id]=!0}})};g.forEach(function(D){D.isEdge()||(h&&A(D,!0),c&&A(D,!1))})}return o},n.prototype.isBoundary=function(t,e){var r=typeof t=="string"?this.getCell(t):t,o=e?this.getIncomingEdges(r):this.getOutgoingEdges(r);return o==null||o.length===0},n.prototype.getBoundaryNodes=function(t){var e=this,r=[];return Object.keys(this.nodes).forEach(function(o){if(e.isBoundary(o,t)){var a=e.getCell(o);a&&r.push(a)}}),r},n.prototype.getRoots=function(){return this.getBoundaryNodes(!0)},n.prototype.getLeafs=function(){return this.getBoundaryNodes(!1)},n.prototype.isRoot=function(t){return this.isBoundary(t,!0)},n.prototype.isLeaf=function(t){return this.isBoundary(t,!1)},n.prototype.getNeighbors=function(t,e){e===void 0&&(e={});var r=e.incoming,o=e.outgoing;r==null&&o==null&&(r=o=!0);var a=this.getConnectedEdges(t,e).reduce(function(c,h){var d=h.hasLoop(e),g=h.getSourceCell(),C=h.getTargetCell();return r&&g&&g.isNode()&&!c[g.id]&&(!d&&(g===t||e.deep&&g.isDescendantOf(t))||(c[g.id]=g)),o&&C&&C.isNode()&&!c[C.id]&&(!d&&(C===t||e.deep&&C.isDescendantOf(t))||(c[C.id]=C)),c},{});if(t.isEdge()){if(r){var s=t.getSourceCell();s&&s.isNode()&&!a[s.id]&&(a[s.id]=s)}if(o){var u=t.getTargetCell();u&&u.isNode()&&!a[u.id]&&(a[u.id]=u)}}return Object.keys(a).map(function(c){return a[c]})},n.prototype.isNeighbor=function(t,e,r){r===void 0&&(r={});var o=r.incoming,a=r.outgoing;return o==null&&a==null&&(o=a=!0),this.getConnectedEdges(t,r).some(function(s){var u=s.getSourceCell(),c=s.getTargetCell();return!(!o||!u||u.id!==e.id)||!(!a||!c||c.id!==e.id)})},n.prototype.getSuccessors=function(t,e){var r=this;e===void 0&&(e={});var o=[];return this.search(t,function(a,s){a!==t&&r.matchDistance(s,e.distance)&&o.push(a)},y(y({},e),{outgoing:!0})),o},n.prototype.isSuccessor=function(t,e,r){var o=this;r===void 0&&(r={});var a=!1;return this.search(t,function(s,u){if(s===e&&s!==t&&o.matchDistance(u,r.distance))return a=!0,!1},y(y({},r),{outgoing:!0})),a},n.prototype.getPredecessors=function(t,e){var r=this;e===void 0&&(e={});var o=[];return this.search(t,function(a,s){a!==t&&r.matchDistance(s,e.distance)&&o.push(a)},y(y({},e),{incoming:!0})),o},n.prototype.isPredecessor=function(t,e,r){var o=this;r===void 0&&(r={});var a=!1;return this.search(t,function(s,u){if(s===e&&s!==t&&o.matchDistance(u,r.distance))return a=!0,!1},y(y({},r),{incoming:!0})),a},n.prototype.matchDistance=function(t,e){return e==null||(typeof e=="function"?e(t):!(!Array.isArray(e)||!e.includes(t))||t===e)},n.prototype.getCommonAncestor=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=[];return t.forEach(function(o){o&&(Array.isArray(o)?r.push.apply(r,o):r.push(o))}),l.Cell.getCommonAncestor.apply(l.Cell,r)},n.prototype.getSubGraph=function(t,e){var r=this;e===void 0&&(e={});var o=[],a={},s=[],u=[],c=function(h){a[h.id]||(o.push(h),a[h.id]=h,h.isEdge()&&u.push(h),h.isNode()&&s.push(h))};return t.forEach(function(h){c(h),e.deep&&h.getDescendants({deep:!0}).forEach(function(d){return c(d)})}),u.forEach(function(h){var d=h.getSourceCell(),g=h.getTargetCell();d&&!a[d.id]&&(o.push(d),a[d.id]=d,d.isNode()&&s.push(d)),g&&!a[g.id]&&(o.push(g),a[g.id]=g,g.isNode()&&s.push(g))}),s.forEach(function(h){r.getConnectedEdges(h,e).forEach(function(d){var g=d.getSourceCell(),C=d.getTargetCell();!a[d.id]&&g&&a[g.id]&&C&&a[C.id]&&(o.push(d),a[d.id]=d)})}),o},n.prototype.cloneSubGraph=function(t,e){e===void 0&&(e={});var r=this.getSubGraph(t,e);return this.cloneCells(r)},n.prototype.cloneCells=function(t){return l.Cell.cloneCells(t)},n.prototype.getNodesFromPoint=function(t,e){var r=typeof t=="number"?{x:t,y:e||0}:t;return this.getNodes().filter(function(o){return o.getBBox().containsPoint(r)})},n.prototype.getNodesInArea=function(t,e,r,o,a){var s=typeof t=="number"?new l.Rectangle(t,e,r,o):l.Rectangle.create(t),u=typeof t=="number"?a:e,c=u&&u.strict;return this.getNodes().filter(function(h){var d=h.getBBox();return c?s.containsRect(d):s.isIntersectWithRect(d)})},n.prototype.getEdgesInArea=function(t,e,r,o,a){var s=typeof t=="number"?new l.Rectangle(t,e,r,o):l.Rectangle.create(t),u=typeof t=="number"?a:e,c=u&&u.strict;return this.getEdges().filter(function(h){var d=h.getBBox();return d.width===0?d.inflate(1,0):d.height===0&&d.inflate(0,1),c?s.containsRect(d):s.isIntersectWithRect(d)})},n.prototype.getNodesUnderNode=function(t,e){e===void 0&&(e={});var r=t.getBBox();return(e.by==null||e.by==="bbox"?this.getNodesInArea(r):this.getNodesFromPoint(r[e.by])).filter(function(o){return t.id!==o.id&&!o.isDescendantOf(t)})},n.prototype.getAllCellsBBox=function(){return this.getCellsBBox(this.getCells())},n.prototype.getCellsBBox=function(t,e){return e===void 0&&(e={}),l.Cell.getCellsBBox(t,e)},n.prototype.search=function(t,e,r){r===void 0&&(r={}),r.breadthFirst?this.breadthFirstSearch(t,e,r):this.depthFirstSearch(t,e,r)},n.prototype.breadthFirstSearch=function(t,e,r){r===void 0&&(r={});var o=[],a={},s={};o.push(t),s[t.id]=0;for(var u=function(){var h=o.shift();return h==null||a[h.id]?"continue":(a[h.id]=!0,Lt(e,c,h,s[h.id])===!1?"continue":void c.getNeighbors(h,r).forEach(function(d){s[d.id]=s[h.id]+1,o.push(d)}))},c=this;o.length>0;)u()},n.prototype.depthFirstSearch=function(t,e,r){r===void 0&&(r={});var o=[],a={},s={};o.push(t),s[t.id]=0;for(var u=function(){var h=o.pop();if(h==null||a[h.id]||(a[h.id]=!0,Lt(e,c,h,s[h.id])===!1))return"continue";var d=c.getNeighbors(h,r),g=o.length;d.forEach(function(C){s[C.id]=s[h.id]+1,o.splice(g,0,C)})},c=this;o.length>0;)u()},n.prototype.getShortestPath=function(t,e,r){r===void 0&&(r={});var o={};this.getEdges().forEach(function(h){var d=h.getSourceCellId(),g=h.getTargetCellId();d&&g&&(o[d]||(o[d]=[]),o[g]||(o[g]=[]),o[d].push(g),r.directed||o[g].push(d))});var a=typeof t=="string"?t:t.id,s=l.Dijkstra.run(o,a,r.weight),u=[],c=typeof e=="string"?e:e.id;for(s[c]&&u.push(c);c=s[c];)u.unshift(c);return u},n.prototype.translate=function(t,e,r){return this.getCells().filter(function(o){return!o.hasParent()}).forEach(function(o){return o.translate(t,e,r)}),this},n.prototype.resize=function(t,e,r){return this.resizeCells(t,e,this.getCells(),r)},n.prototype.resizeCells=function(t,e,r,o){o===void 0&&(o={});var a=this.getCellsBBox(r);if(a){var s=Math.max(t/a.width,0),u=Math.max(e/a.height,0),c=a.getOrigin();r.forEach(function(h){return h.scale(s,u,c,o)})}return this},n.prototype.toJSON=function(t){return t===void 0&&(t={}),n.toJSON(this.getCells(),t)},n.prototype.parseJSON=function(t){return n.fromJSON(t)},n.prototype.fromJSON=function(t,e){e===void 0&&(e={});var r=this.parseJSON(t);return this.resetCells(r,e),this},n.prototype.startBatch=function(t,e){return e===void 0&&(e={}),this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this},n.prototype.stopBatch=function(t,e){return e===void 0&&(e={}),this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this},n.prototype.batchUpdate=function(t,e,r){r===void 0&&(r={}),this.startBatch(t,r);var o=e();return this.stopBatch(t,r),o},n.prototype.hasActiveBatch=function(t){var e=this;return t===void 0&&(t=Object.keys(this.batches)),(Array.isArray(t)?t:[t]).some(function(r){return e.batches[r]>0})},n}(l.Basecoat),(hs=l.Model||(l.Model={})).toStringTag="X6."+hs.name,hs.isModel=function(i){if(i==null)return!1;if(i instanceof hs)return!0;var n=i[Symbol.toStringTag],t=i;return(n==null||n===hs.toStringTag)&&typeof t.addNode=="function"&&typeof t.addEdge=="function"&&t.collection!=null},function(i){i.toJSON=function(n,t){return t===void 0&&(t={}),{cells:n.map(function(e){return e.toJSON(t)})}},i.fromJSON=function(n){var t=[];return Array.isArray(n)?t.push.apply(t,n):(n.cells&&t.push.apply(t,n.cells),n.nodes&&n.nodes.forEach(function(e){e.shape==null&&(e.shape="rect"),t.push(e)}),n.edges&&n.edges.forEach(function(e){e.shape==null&&(e.shape="edge"),t.push(e)})),t.map(function(e){var r=e.shape;if(r){if(l.Node.registry.exist(r))return l.Node.create(e);if(l.Edge.registry.exist(r))return l.Edge.create(e)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}}(l.Model||(l.Model={}));var ao=".text-block-content",uu=Vh("text-block"),cu=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"content",{get:function(){return this.getContent()},set:function(t){this.setContent(t)},enumerable:!1,configurable:!0}),n.prototype.getContent=function(){return this.store.get("content","")},n.prototype.setContent=function(t,e){e===void 0&&(e={}),this.store.set("content",t,e)},n.prototype.setup=function(){var t=this;i.prototype.setup.call(this),this.store.on("change:*",function(e){var r=e.key;r==="content"?t.updateContent(t.getContent()):r==="size"&&t.updateSize(t.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())},n.prototype.updateSize=function(t){var e;l.Platform.SUPPORT_FOREIGNOBJECT&&this.setAttrs(((e={foreignObject:y({},t)})[ao]={style:y({},t)},e))},n.prototype.updateContent=function(t){var e,r;l.Platform.SUPPORT_FOREIGNOBJECT?this.setAttrs(((e={})[ao]={html:t?Yc(t):""},e)):this.setAttrs(((r={})[ao]={text:t},r))},n}(l.Node);(function(i){var n;i.config({type:uu,view:uu,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',l.Platform.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">','<div class="'+ao.substr(1)+'" />',"</body>","</foreignObject>"].join(""):'<text class="'+ao.substr(1)+'"/>',"</g>"].join(""),attrs:(n={".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}}},n[ao]={refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}},n)}),l.Node.registry.register(uu,i)})(cu||(cu={})),function(i){var n="content",t=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return x(r,e),r.prototype.confirmUpdate=function(o,a){a===void 0&&(a={});var s=e.prototype.confirmUpdate.call(this,o,a);return this.hasAction(s,n)&&(this.updateContent(),s=this.removeAction(s,n)),s},r.prototype.update=function(o){if(l.Platform.SUPPORT_FOREIGNOBJECT)e.prototype.update.call(this,o);else{var a=this.cell,s=y({},o||a.getAttrs());delete s[ao],e.prototype.update.call(this,s),o&&!Zi(o,ao)||this.updateContent(o)}},r.prototype.updateContent=function(o){var a;if(l.Platform.SUPPORT_FOREIGNOBJECT)e.prototype.update.call(this,o);else{var s=this.cell,u=(o||s.getAttrs())[ao],c=hh(s.getContent(),s.getSize(),u,{svgDocument:this.graph.view.svg}),h=((a={})[ao]=Ve({},u,{text:c}),a);e.prototype.update.call(this,h)}},r}(l.NodeView);i.View=t,function(e){e.config({bootstrap:["render",n],actions:l.Platform.SUPPORT_FOREIGNOBJECT?{}:{size:n,content:n}}),l.NodeView.registry.register(uu,e)}(t=i.View||(i.View={}))}(cu||(cu={}));var KC=Gn.define({shape:"empty"});function JC(i,n){return n===void 0&&(n="body"),[{tagName:i,selector:n},{tagName:"text",selector:"label"}]}function So(i,n,t){var e;t===void 0&&(t={});var r={constructorName:i,markup:JC(i,t.selector),attrs:(e={},e[i]=y({},Gn.bodyAttr),e)};return(t.parent||Gn).define(Ve(r,n,{shape:i}))}var ZC=So("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}}),qC=l.Node.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:y(y({},Gn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:y(y({},Gn.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:y(y({},Gn.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:y(y({},Gn.labelAttr),{refY2:15})}}),QC=So("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}}),_C=Gn.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:y(y({},Gn.bodyAttr),{lateral:10}),top:y(y({},Gn.bodyAttr),{refCx:"50%",refRx:"50%",cy:10,ry:10})},attrHooks:{lateral:{set:function(i,n){var t=n.refBBox,e=Gr(i);e&&(i=parseFloat(i)/100);var r=t.x,o=t.y,a=t.width,s=t.height,u=e?s*i:i,c=.551784,h=c*(a/2),d=c*u,g=r+a/2,C=r+a,A=o+u,D=A-u,k=o+s-u,O=o+s;return{d:["M",r,A,"L",r,k,"C",r,k+d,g-h,O,g,O,"C",g+h,O,C,k+d,C,k,"L",C,A,"C",C,A-d,g+h,D,g,D,"C",g-h,D,r,A-d,r,A,"Z"].join(" ")}}}},knob:{enabled:!0,position:function(i){return{x:0,y:i.node.attr("body/lateral")}},onMouseMove:function(i){var n=i.node,t=i.data,e=i.deltaY;if(e!==0){var r=n.getBBox(),o=n.attr("body/lateral");t.round==null&&(t.round=o);var a=r.height/2,s=Jn(t.round+e,0,a);s!==o&&n.attr({body:{lateral:s},top:{cy:s,ry:s}})}}}}),tx=So("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}}),hu=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"points",{get:function(){return this.getPoints()},set:function(t){this.setPoints(t)},enumerable:!1,configurable:!0}),n.prototype.getPoints=function(){return this.getAttrByPath("body/refPoints")},n.prototype.setPoints=function(t,e){return t==null?this.removePoints():this.setAttrByPath("body/refPoints",n.pointsToString(t),e),this},n.prototype.removePoints=function(){return this.removeAttrByPath("body/refPoints"),this},n}(Gn);(function(i){function n(t){return typeof t=="string"?t:t.map(function(e){return Array.isArray(e)?e.join(","):l.Point.isPointLike(e)?e.x+", "+e.y:""}).join(" ")}i.pointsToString=n,i.config({propHooks:function(t){var e=t.points,r=f(t,["points"]);if(e){var o=n(e);o&&ui(r,"attrs/body/refPoints",o)}return r}})})(hu||(hu={}));var ex=So("polygon",{},{parent:hu}),nx=So("polyline",{},{parent:hu}),rx=Gn.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks:function(i){var n=i.path,t=f(i,["path"]);return n&&ui(t,"attrs/body/refD",n),t}}),ox=Gn.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},l.Platform.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:yn.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:y(y({},Gn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks:function(i){var n=i.text,t=f(i,["text"]);return n&&ui(t,"attrs/label/text",n),t},attrHooks:{text:{set:function(i,n){var t=n.cell,e=n.view,r=n.refBBox,o=n.elem,a=n.attrs;if(!(o instanceof HTMLElement)){var s=a.style||{},u={text:i,width:-5,height:"100%"},c=y({textVerticalAnchor:"middle"},s);return Lt($r.presets.textWrap.set,this,u,{cell:t,view:e,elem:o,refBBox:r,attrs:c}),{fill:s.color||null}}o.textContent=i},position:function(i,n){var t=n.refBBox;if(n.elem instanceof SVGElement)return t.getCenter()}}}}),ix=So("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:ls()},{selector:"image"}),ax=So("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:ls()}),sx=So("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:ls()}),lx=So("image-inscribed",{propHooks:ls(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}}),Hh=l.Edge.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}}),ux=l.Edge.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}}),cx=l.Edge.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}}),Wr=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"html",{get:function(){return this.getHTML()},set:function(t){this.setHTML(t)},enumerable:!1,configurable:!0}),n.prototype.getHTML=function(){return this.store.get("html")},n.prototype.setHTML=function(t,e){return e===void 0&&(e={}),t==null?this.removeHTML(e):this.store.set("html",t,e),this},n.prototype.removeHTML=function(t){return t===void 0&&(t={}),this.store.remove("html",t)},n}(Gn);(function(i){var n=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return x(e,t),e.prototype.init=function(){var r=this;t.prototype.init.call(this),this.cell.on("change:*",function(){r.graph.hook.shouldUpdateHTMLComponent(r.cell)&&r.renderHTMLComponent()})},e.prototype.confirmUpdate=function(r){var o=this,a=t.prototype.confirmUpdate.call(this,r);return this.handleAction(a,e.action,function(){return o.renderHTMLComponent()})},e.prototype.renderHTMLComponent=function(){var r=this.selectors.foContent;if(r){var o=this.$(r).empty(),a=this.graph.hook.getHTMLComponent(this.cell);a&&(typeof a=="string"?o.html(a):o.append(a))}},e}(l.NodeView);i.View=n,function(t){t.action="html",t.config({bootstrap:[t.action],actions:{html:t.action}}),l.NodeView.registry.register("html-view",t)}(n=i.View||(i.View={}))})(Wr||(Wr={})),function(i){i.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},y({},l.Markup.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),l.Node.registry.register("html",i)}(Wr||(Wr={})),function(i){i.componentRegistry=rn.create({type:"html componnet"})}(Wr||(Wr={}));var hx=Object.freeze({__proto__:null,Empty:KC,Rect:ZC,HeaderedRect:qC,Circle:QC,Cylinder:_C,Ellipse:tx,Polygon:ex,Polyline:nx,Path:rx,TextBlock:ox,Image:ix,BorderedImage:ax,EmbeddedImage:sx,InscribedImage:lx,Edge:Hh,ShadowEdge:ux,DoubleEdge:cx,get HTML(){return Wr}}),Uh=function(i){function n(t){var e=i.call(this)||this;return e.delay=10,e.throttle=2,e.threshold=5,e.changeCount=0,e.timestamp=0,e.options=y(y({},n.defaultOptions),t),e.graph.model.on("cell:change:*",e.onModelChanged,e),e}return x(n,i),Object.defineProperty(n.prototype,"graph",{get:function(){return this.options.graph},enumerable:!1,configurable:!0}),n.prototype.onModelChanged=function(){if(!this.disabled){var t=(new Date().getTime()-this.timestamp)/1e3;t>this.delay||this.changeCount>=this.threshold&&t>this.throttle?(this.save(),this.reset()):this.changeCount+=1}},n.prototype.save=function(){this.trigger("save")},n.prototype.reset=function(){this.changeCount=0,this.timestamp=new Date().getTime()},n.prototype.dispose=function(){this.graph.model.off("cell:change:*",this.onModelChanged,this)},P([Fh.dispose()],n.prototype,"dispose",null),n}(Fh);(function(i){i.defaultOptions={delay:10,throttle:2,threshold:5}})(Uh||(Uh={}));var Nr,ke=function(i){function n(t){var e=i.call(this)||this;return e.graph=t,e.init(),e}return x(n,i),Object.defineProperty(n.prototype,"options",{get:function(){return this.graph.options},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.graph.model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"view",{get:function(){return this.graph.view},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n}(l.Disposable),Ei=function(i){function n(t){var e=i.call(this)||this;e.graph=t;var r=l.Markup.parseJSONMarkup(n.markup),o=r.selectors,a=r.fragment;return e.background=o.background,e.grid=o.grid,e.svg=o.svg,e.defs=o.defs,e.viewport=o.viewport,e.primer=o.primer,e.stage=o.stage,e.decorator=o.decorator,e.overlay=o.overlay,e.container=e.options.container,e.restore=n.snapshoot(e.container),e.$(e.container).addClass(e.prefixClassName("graph")).append(a),e.delegateEvents(),e}return x(n,i),Object.defineProperty(n.prototype,"model",{get:function(){return this.graph.model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.graph.options},enumerable:!1,configurable:!0}),n.prototype.delegateEvents=function(){var t=this.constructor;return i.prototype.delegateEvents.call(this,t.events),this},n.prototype.guard=function(t,e){return t.type==="mousedown"&&t.button===2||!(!this.options.guard||!this.options.guard(t,e))||(t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.cell&&l.Cell.isCell(e.cell))&&this.svg!==t.target&&this.container!==t.target&&!I.contains(this.svg,t.target))},n.prototype.findView=function(t){return this.graph.renderer.findViewByElem(t)},n.prototype.onDblClick=function(t){this.options.preventDefaultDblClick&&t.preventDefault();var e=this.normalizeEvent(t),r=this.findView(e.target);if(!this.guard(e,r)){var o=this.graph.snapToGrid(e.clientX,e.clientY);r?r.onDblClick(e,o.x,o.y):this.graph.trigger("blank:dblclick",{e,x:o.x,y:o.y})}},n.prototype.onClick=function(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){var e=this.normalizeEvent(t),r=this.findView(e.target);if(this.guard(e,r))return;var o=this.graph.snapToGrid(e.clientX,e.clientY);r?r.onClick(e,o.x,o.y):this.graph.trigger("blank:click",{e,x:o.x,y:o.y})}},n.prototype.isPreventDefaultContextMenu=function(t,e){var r=this.options.preventDefaultContextMenu;return typeof r=="function"&&(r=Lt(r,this.graph,{view:e})),r},n.prototype.onContextMenu=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);if(this.isPreventDefaultContextMenu(e,r)&&t.preventDefault(),!this.guard(e,r)){var o=this.graph.snapToGrid(e.clientX,e.clientY);r?r.onContextMenu(e,o.x,o.y):this.graph.trigger("blank:contextmenu",{e,x:o.x,y:o.y})}},n.prototype.delegateDragEvents=function(t,e){t.data==null&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});var r=this.constructor;this.delegateDocumentEvents(r.documentEvents,t.data),this.undelegateEvents()},n.prototype.getMouseMovedCount=function(t){return this.getEventData(t).mouseMovedCount||0},n.prototype.onMouseDown=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);if(!this.guard(e,r)){this.options.preventDefaultMouseDown&&e.preventDefault();var o=this.graph.snapToGrid(e.clientX,e.clientY);r?r.onMouseDown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(e.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e,x:o.x,y:o.y})),this.delegateDragEvents(e,r)}},n.prototype.onMouseMove=function(t){var e=this.getEventData(t),r=e.startPosition;if((!r||r.x!==t.clientX||r.y!==t.clientY)&&(e.mouseMovedCount==null&&(e.mouseMovedCount=0),e.mouseMovedCount+=1,!(e.mouseMovedCount<=this.options.moveThreshold))){var o=this.normalizeEvent(t),a=this.graph.snapToGrid(o.clientX,o.clientY),s=e.currentView;s?s.onMouseMove(o,a.x,a.y):this.graph.trigger("blank:mousemove",{e:o,x:a.x,y:a.y}),this.setEventData(o,e)}},n.prototype.onMouseUp=function(t){this.undelegateDocumentEvents();var e=this.normalizeEvent(t),r=this.graph.snapToGrid(e.clientX,e.clientY),o=this.getEventData(t).currentView;o?o.onMouseUp(e,r.x,r.y):this.graph.trigger("blank:mouseup",{e,x:r.x,y:r.y}),t.isPropagationStopped()||this.onClick(I.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()},n.prototype.onMouseOver=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);if(!this.guard(e,r))if(r)r.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e})}},n.prototype.onMouseOut=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);if(!this.guard(e,r))if(r)r.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e})}},n.prototype.onMouseEnter=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);if(!this.guard(e,r)){var o=this.graph.renderer.findViewByElem(e.relatedTarget);if(r){if(o===r)return;r.onMouseEnter(e)}else{if(o)return;this.graph.trigger("graph:mouseenter",{e})}}},n.prototype.onMouseLeave=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);if(!this.guard(e,r)){var o=this.graph.renderer.findViewByElem(e.relatedTarget);if(r){if(o===r)return;r.onMouseLeave(e)}else{if(o)return;this.graph.trigger("graph:mouseleave",{e})}}},n.prototype.onMouseWheel=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);if(!this.guard(e,r)){var o=e.originalEvent,a=this.graph.snapToGrid(o.clientX,o.clientY),s=Math.max(-1,Math.min(1,o.wheelDelta||-o.detail));r?r.onMouseWheel(e,a.x,a.y,s):this.graph.trigger("blank:mousewheel",{e,delta:s,x:a.x,y:a.y})}},n.prototype.onCustomEvent=function(t){var e=t.currentTarget,r=e.getAttribute("event")||e.getAttribute("data-event");if(r){var o=this.findView(e);if(o){var a=this.normalizeEvent(t);if(this.guard(a,o))return;var s=this.graph.snapToGrid(a.clientX,a.clientY);o.onCustomEvent(a,r,s.x,s.y)}}},n.prototype.handleMagnetEvent=function(t,e){var r=t.currentTarget,o=r.getAttribute("magnet");if(o&&o.toLowerCase()!=="false"){var a=this.findView(r);if(a){var s=this.normalizeEvent(t);if(this.guard(s,a))return;var u=this.graph.snapToGrid(s.clientX,s.clientY);Lt(e,this.graph,a,s,r,u.x,u.y)}}},n.prototype.onMagnetMouseDown=function(t){this.handleMagnetEvent(t,function(e,r,o,a,s){e.onMagnetMouseDown(r,o,a,s)})},n.prototype.onMagnetDblClick=function(t){this.handleMagnetEvent(t,function(e,r,o,a,s){e.onMagnetDblClick(r,o,a,s)})},n.prototype.onMagnetContextMenu=function(t){var e=this.normalizeEvent(t),r=this.findView(e.target);this.isPreventDefaultContextMenu(e,r)&&e.preventDefault(),this.handleMagnetEvent(e,function(o,a,s,u,c){o.onMagnetContextMenu(a,s,u,c)})},n.prototype.onLabelMouseDown=function(t){var e=t.currentTarget,r=this.findView(e);if(r){var o=this.normalizeEvent(t);if(this.guard(o,r))return;var a=this.graph.snapToGrid(o.clientX,o.clientY);r.onLabelMouseDown(o,a.x,a.y)}},n.prototype.onImageDragStart=function(){return!1},n.prototype.dispose=function(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=function(){}},P([l.View.dispose()],n.prototype,"dispose",null),n}(l.View);(function(i){var n=lr.prefixCls+"-graph";i.markup=[{ns:yn.xhtml,tagName:"div",selector:"background",className:n+"-background"},{ns:yn.xhtml,tagName:"div",selector:"grid",className:n+"-grid"},{ns:yn.svg,tagName:"svg",selector:"svg",className:n+"-svg",attrs:{width:"100%",height:"100%","xmlns:xlink":yn.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:n+"-svg-viewport",children:[{tagName:"g",selector:"primer",className:n+"-svg-primer"},{tagName:"g",selector:"stage",className:n+"-svg-stage"},{tagName:"g",selector:"decorator",className:n+"-svg-decorator"},{tagName:"g",selector:"overlay",className:n+"-svg-overlay"}]}]}],i.snapshoot=function(t){var e=t.cloneNode();return t.childNodes.forEach(function(r){return e.appendChild(r)}),function(){for(Ml(t);t.attributes.length>0;)t.removeAttribute(t.attributes[0].name);for(var r=0,o=e.attributes.length;r<o;r+=1){var a=e.attributes[r];t.setAttribute(a.name,a.value)}e.childNodes.forEach(function(s){return t.appendChild(s)})}}})(Ei||(Ei={})),function(i){var n,t=lr.prefixCls;i.events=((n={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel"})["mouseenter  ."+t+"-cell"]="onMouseEnter",n["mouseleave  ."+t+"-cell"]="onMouseLeave",n["mouseenter  ."+t+"-cell-tools"]="onMouseEnter",n["mouseleave  ."+t+"-cell-tools"]="onMouseLeave",n["mousedown   ."+t+"-cell [event]"]="onCustomEvent",n["touchstart  ."+t+"-cell [event]"]="onCustomEvent",n["mousedown   ."+t+"-cell [data-event]"]="onCustomEvent",n["touchstart  ."+t+"-cell [data-event]"]="onCustomEvent",n["dblclick    ."+t+"-cell [magnet]"]="onMagnetDblClick",n["contextmenu ."+t+"-cell [magnet]"]="onMagnetContextMenu",n["mousedown   ."+t+"-cell [magnet]"]="onMagnetMouseDown",n["touchstart  ."+t+"-cell [magnet]"]="onMagnetMouseDown",n["dblclick    ."+t+"-cell [data-magnet]"]="onMagnetDblClick",n["contextmenu ."+t+"-cell [data-magnet]"]="onMagnetContextMenu",n["mousedown   ."+t+"-cell [data-magnet]"]="onMagnetMouseDown",n["touchstart  ."+t+"-cell [data-magnet]"]="onMagnetMouseDown",n["dragstart   ."+t+"-cell image"]="onImageDragStart",n["mousedown   ."+t+"-edge ."+t+"-edge-label"]="onLabelMouseDown",n["touchstart  ."+t+"-edge ."+t+"-edge-label"]="onLabelMouseDown",n),i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Ei||(Ei={})),function(i){i.checkScroller=function(n,t){return function(e,r,o){var a=o.value;o.value=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c=this.scroller.widget;if(c==null){var h="Shoule enable scroller to use method '"+r+"'";if(n!==!1)throw console.error(h),new Error(h);return t!==!1&&console.warn(h),this}return a.call.apply(a,T([this],s,!1))}}}}(Nr||(Nr={}));var $h=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.init=function(){lr.autoInsertCSS&&n.ensure()},n.prototype.dispose=function(){n.clean()},P([n.dispose()],n.prototype,"dispose",null),n}(ke);(function(i){var n,t=0;i.ensure=function(){if(!((t+=1)>1||l.Platform.isApplyingHMR())){(n=document.createElement("style")).setAttribute("type","text/css"),n.textContent=`.x6-graph {
  position: relative;
  outline: none;
  touch-action: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  stroke: #2ecc71;
  stroke-width: 1px;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var e=document.querySelector("head");e&&e.insertBefore(n,e.firstChild)}},i.clean=function(){(t-=1)>0||(n&&n.parentNode&&n.parentNode.removeChild(n),n=null)}})($h||($h={}));var Le,ps=function(){function i(){}return Object.defineProperty(i.prototype,"handleClassName",{get:function(){return Le.handle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pie",{get:function(){return y(y({},i.defaultPieOptions),this.handleOptions.pie)},enumerable:!1,configurable:!0}),i.prototype.initHandles=function(){var n,t=this;if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(function(o){return t.addHandle(o)}),this.handleOptions.type==="pie"){if(this.pie.toggles){var e=Le.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(function(o){var a=t.$("<div/>");t.applyAttrs(a,o.attrs),a.addClass(e).addClass(e+"-pos-"+(o.position||"e")).attr("data-name",o.name).appendTo(t.container),t.$pieToggles[o.name]=a})}this.setPieIcons()}if(this.$handleContainer){var r=this.handleOptions.type||"surround";this.$handleContainer.addClass(Le.wrap).addClass(Le.animate).addClass(Le.handle+"-"+r)}this.delegateEvents(((n={})["mousedown ."+Le.handle]="onHandleMouseDown",n["touchstart ."+Le.handle]="onHandleMouseDown",n["mousedown ."+Le.pieToggle]="onPieToggleMouseDown",n["touchstart ."+Le.pieToggle]="onPieToggleMouseDown",n))},i.prototype.onHandleMouseDown=function(n){var t=this.$(n.currentTarget).closest("."+Le.handle).attr("data-action");t&&(n.preventDefault(),n.stopPropagation(),this.setEventData(n,{action:t,clientX:n.clientX,clientY:n.clientY,startX:n.clientX,startY:n.clientY}),n.type==="mousedown"&&n.button===2?this.triggerHandleAction(t,"contextmenu",n):(this.triggerHandleAction(t,"mousedown",n),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},n.data)))},i.prototype.onHandleMouseMove=function(n){var t=this.getEventData(n).action;t&&this.triggerHandleAction(t,"mousemove",n)},i.prototype.onHandleMouseUp=function(n){var t=this.getEventData(n).action;t&&(this.triggerHandleAction(t,"mouseup",n),this.undelegateDocumentEvents())},i.prototype.triggerHandleAction=function(n,t,e,r){e.preventDefault(),e.stopPropagation();var o=this.normalizeEvent(e),a=this.getEventData(o),s=this.graph.snapToGrid(o.clientX,o.clientY),u=this.graph.snapToGrid(a.clientX,a.clientY),c=s.x-u.x,h=s.y-u.y;this.trigger("action:"+n+":"+t,y({e:o,dx:c,dy:h,x:s.x,y:s.y,offsetX:e.clientX-a.startX,offsetY:e.clientY-a.startY},r)),a.clientX=e.clientX,a.clientY=e.clientY},i.prototype.onPieToggleMouseDown=function(n){n.stopPropagation();var t=this.$(n.target).closest("."+Le.pieToggle).attr("data-name");this.isOpen(t)||this.isOpen()&&this.toggleState(),this.toggleState(t)},i.prototype.setPieIcons=function(){var n=this;this.handleOptions.type==="pie"&&this.$handleContainer.find("."+Le.handle).each(function(t,e){var r=n.$(e),o=r.attr("data-action"),a=Le.pieSlice,s=n.getHandle(o);if(!s||!s.icon){var u=window.getComputedStyle(e,":before").getPropertyValue("content");if(u&&u!=="none"){var c=r.find("."+a+"-txt");c.length&&l.Vector.create(c[0]).text(u.replace(/['"]/g,""))}var h=r.css("background-image");if(h){var d=h.match(/url\(['"]?([^'"]+)['"]?\)/);if(d){var g=d[1],C=r.find("."+a+"-img");C.length>0&&l.Vector.create(C[0]).attr("xlink:href",g)}}}})},i.prototype.getHandleIdx=function(n){return this.handles.findIndex(function(t){return t.name===n})},i.prototype.hasHandle=function(n){return this.getHandleIdx(n)>=0},i.prototype.getHandle=function(n){return this.handles.find(function(t){return t.name===n})},i.prototype.renderHandle=function(n){var t=this.$("<div/>").addClass(Le.handle+" "+Le.handle+"-"+n.name).attr("data-action",n.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){var e=this.getHandleIdx(n.name),r=this.pie,o=r.outerRadius,a=r.innerRadius,s=(o+a)/2,u=new l.Point(o,o),c=l.Angle.toRad(r.sliceAngle),h=e*c+l.Angle.toRad(r.startAngle),d=jg(a,o,h,h+c),g=l.Vector.create("svg").addClass(Le.pieSlice+"-svg"),C=l.Vector.create("path").addClass(Le.pieSlice).attr("d",d).translate(o,o),A=l.Point.fromPolar(s,-h-c/2,u).toJSON(),D=r.iconSize,k=l.Vector.create("image").attr(A).addClass(Le.pieSlice+"-img");A.y=A.y+D-2;var O=l.Vector.create("text",{"font-size":D}).attr(A).addClass(Le.pieSlice+"-txt");k.attr({width:D,height:D}),k.translate(-D/2,-D/2),O.translate(-D/2,-D/2),g.append([C,k,O]),t.append(g.node)}else t.addClass(Le.handle+"-pos-"+n.position),n.content&&(typeof n.content=="string"?t.html(n.content):t.append(n.content));return this.updateHandleIcon(t,n.icon),this.applyAttrs(t,n.attrs),t},i.prototype.addHandle=function(n){var t=this;if(!this.hasHandle(n.name)){this.handles.push(n);var e=n.events;e&&Object.keys(e).forEach(function(r){var o=e[r],a="action:"+n.name+":"+r;typeof o=="string"?t.on(a,t[o],t):t.on(a,o)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(n))}return this},i.prototype.addHandles=function(n){var t=this;return n.forEach(function(e){return t.addHandle(e)}),this},i.prototype.removeHandles=function(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this},i.prototype.removeHandle=function(n){var t=this,e=this.getHandleIdx(n),r=this.handles[e];return r&&(r.events&&Object.keys(r.events).forEach(function(o){t.off("action:"+n+":"+o)}),this.getHandleElem(n).remove(),this.handles.splice(e,1)),this},i.prototype.changeHandle=function(n,t){var e=this.getHandle(n);return e&&(this.removeHandle(n),this.addHandle(y(y({},e),t))),this},i.prototype.toggleHandle=function(n,t){var e=this.getHandle(n);if(e){var r=this.getHandleElem(n),o=Le.handle+"-selected";t===void 0&&(t=!r.hasClass(o)),r.toggleClass(o,t);var a=t?e.iconSelected:e.icon;a&&this.updateHandleIcon(r,a)}return this},i.prototype.selectHandle=function(n){return this.toggleHandle(n,!0)},i.prototype.deselectHandle=function(n){return this.toggleHandle(n,!1)},i.prototype.deselectAllHandles=function(){var n=this;return this.handles.forEach(function(t){return n.deselectHandle(t.name)}),this},i.prototype.getHandleElem=function(n){return this.$handleContainer.find("."+Le.handle+"-"+n)},i.prototype.updateHandleIcon=function(n,t){if(this.handleOptions.type==="pie"){var e=n.find("."+Le.pieSliceImg);this.$(e[0]).attr("xlink:href",t||"")}else n.css("background-image",t?"url("+t+")":"")},i.prototype.isRendered=function(){return this.$handleContainer!=null},i.prototype.isOpen=function(n){return!!this.isRendered()&&(n?this.$pieToggles[n].hasClass(Le.pieToggleOpened):this.$handleContainer.hasClass(""+Le.pieOpended))},i.prototype.toggleState=function(n){var t=this;if(this.isRendered()){var e=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(function(a){t.$pieToggles[a].removeClass(Le.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:n}),e.removeClass(Le.pieOpended);else{if(this.trigger("pie:open",{name:n}),n){var r=this.pie.toggles,o=r&&r.find(function(a){return a.name===n});o&&e.attr({"data-pie-toggle-name":o.name,"data-pie-toggle-position":o.position}),this.$pieToggles[n].addClass(Le.pieToggleOpened)}e.addClass(Le.pieOpended)}}},i.prototype.applyAttrs=function(n,t){if(t){var e=l.View.$(n);Object.keys(t).forEach(function(r){var o=e.find(r).addBack().filter(r),a=t[r],s=a.class,u=f(a,["class"]);s&&o.addClass(s),o.attr(u)})}},i}();(function(i){i.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(ps||(ps={})),function(i){i.handle=l.View.prototype.prefixClassName("widget-handle"),i.wrap=i.handle+"-wrap",i.animate=i.handle+"-animate",i.pieOpended=i.handle+"-pie-opened",i.pieToggle=i.handle+"-pie-toggle",i.pieToggleOpened=i.handle+"-pie-toggle-opened",i.pieSlice=i.handle+"-pie-slice",i.pieSliceImg=i.handle+"-pie-slice-img"}(Le||(Le={}));var Si,ds,Wh=function(i){function n(t){var e=i.call(this)||this,r=t,o=r.view,a=r.cell,s=r.node,u=r.edge,c=r.graph,h=f(r,["view","cell","node","edge","graph"]);o?(e.view=o,e.cell=o.cell,e.graph=o.graph,e.model=e.graph.model):(a||u||s)&&c&&(e.cell=s||u||a,e.view=c.renderer.findViewByCell(e.cell),e.graph=c,e.model=e.graph.model);var d=e.constructor;return t.clearAll!==!1&&d.removeInstances(e.graph),d.register(e),e.init(h),e}return x(n,i),n.ensureCache=function(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)},n.register=function(t,e){e==null&&(e=t.graph);var r=this.ensureCache(),o=r[e.view.cid];o==null&&(o=r[e.view.cid]={}),o[t.cid]=t},n.unregister=function(t,e){e==null&&(e=t.graph);var r=this.ensureCache();r[e.view.cid]&&delete r[e.view.cid][t.cid]},n.removeInstances=function(t){var e=this.ensureCache()[t.view.cid];e&&Object.keys(e).forEach(function(r){var o=e[r];o&&o.remove()})},n.getInstances=function(t){return this.ensureCache()[t.view.cid]||{}},n.prototype.init=function(t){},n.prototype.render=function(){return this},n.prototype.startListening=function(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)},n.prototype.stopListening=function(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)},n.prototype.remove=function(){return this.stopListening(),this.constructor.unregister(this),i.prototype.remove.call(this)},n.prototype.dispose=function(){this.remove()},n.instanceCache=new WeakMap,P([l.View.dispose()],n.prototype,"dispose",null),n}(l.View),Xh=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"node",{get:function(){return this.cell},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){var t=this.cell.prop("knob");return Array.isArray(t)?this.options.index!=null?t[this.options.index]:null:t},enumerable:!1,configurable:!0}),n.prototype.init=function(t){this.options=y({},t),this.render(),this.startListening()},n.prototype.startListening=function(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),i.prototype.startListening.call(this)},n.prototype.stopListening=function(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),i.prototype.stopListening.call(this)},n.prototype.render=function(){return this.container=document.createElement("div"),Ee(this.container,this.prefixClassName("widget-knob")),this.options.className&&Ee(this.container,this.options.className),this.view.addClass(Si.KNOB),this.graph.container.appendChild(this.container),this.update(),this},n.prototype.remove=function(){return this.view.removeClass(Si.KNOB),i.prototype.remove.call(this)},n.prototype.update=function(){if(this.metadata){var t=this.metadata,e=t.update,r=t.position,o={knob:this,cell:this.cell,node:this.node};if(r){var a=r.call(this.graph,y({},o));if(a){var s=this.graph.matrix(),u=this.node.getBBox(),c=l.Angle.normalize(this.node.getAngle()),h=l.Point.create(a);c!==0&&h.rotate(-c,{x:u.width/2,y:u.height/2}),h.translate(u).scale(s.a,s.d).translate(s.e,s.f),this.container.style.left=h.x+"px",this.container.style.top=h.y+"px"}}e&&e.call(this.graph,y({},o))}},n.prototype.hide=function(){this.container.style.display="none"},n.prototype.show=function(){this.container.style.display=""},n.prototype.onTransform=function(){this.hide()},n.prototype.onTransformed=function(){this.show()},n.prototype.onKnobMouseDown=function(t){var e=t.knob;this.cid!==e.cid&&this.hide()},n.prototype.onKnobMouseUp=function(){this.show()},n.prototype.notify=function(t,e){if(this.view){var r=this.view.normalizeEvent(e),o=this.graph.snapToGrid(r.clientX,r.clientY);this.view.notify("cell:"+t,{e:r,view:this.view,node:this.node,cell:this.cell,x:o.x,y:o.y,knob:this}),this.cell.isNode()?this.view.notify("node:"+t,{e:r,view:this.view,node:this.node,cell:this.cell,x:o.x,y:o.y,knob:this}):this.cell.isEdge()&&this.view.notify("edge:"+t,{e:r,view:this.view,edge:this.cell,cell:this.cell,x:o.x,y:o.y,knob:this})}},n.prototype.onMouseDown=function(t){t.stopPropagation(),this.setEventData(t,{knobbing:!1,originX:t.clientX,originY:t.clientY,clientX:t.clientX,clientY:t.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Si.documentEvents,t.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e:t,data:this.getEventData(t),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",t)},n.prototype.onMouseMove=function(t){var e=this.getEventData(t),r=this.graph.findViewByCell(this.node);if(e.knobbing||(e.knobbing=!0,r&&(r.addClass(Si.KNOBBING),this.notify("knob",t)),this.model.startBatch("knob",{cid:this.cid})),e.clientX=t.clientX,e.clientY=t.clientY,this.metadata&&this.metadata.onMouseMove){var o=this.graph.matrix(),a=(t.clientX-e.originX)/o.a,s=(t.clientY-e.originY)/o.d,u=this.node.getAngle(),c=new l.Point(a,s).rotate(u);this.metadata.onMouseMove.call(this.graph,{e:t,data:e,deltaX:c.x,deltaY:c.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",t),this.notify("knob:mousemove",t)},n.prototype.onMouseUp=function(t){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();var e=this.getEventData(t),r=this.graph.findViewByCell(this.node);e.knobbing&&(r&&r.removeClass(Si.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e:t,data:e,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",t)),this.notify("knob:mouseup",t)},n}(Wh);(function(i){i.KNOB="has-widget-knob",i.KNOBBING="node-knobbing",i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(Si||(Si={})),function(i){i.root="widget-minimap",i.viewport=i.root+"-viewport",i.zoom=i.viewport+"-zoom"}(ds||(ds={}));var pu,t0=function(i){function n(t){var e=i.call(this)||this;e.options=y(y({},pu.defaultOptions),t),e.updateViewport=Dc(e.updateViewport.bind(e),0),e.container=document.createElement("div"),e.$container=e.$(e.container).addClass(e.prefixClassName(ds.root));var r=document.createElement("div");e.container.appendChild(r),e.$viewport=e.$("<div>").addClass(e.prefixClassName(ds.viewport)),e.options.scalable&&(e.zoomHandle=e.$("<div>").addClass(e.prefixClassName(ds.zoom)).appendTo(e.$viewport).get(0)),e.$container.append(e.$viewport).css({width:e.options.width,height:e.options.height,padding:e.options.padding}),e.options.container&&e.options.container.appendChild(e.container),e.sourceGraph=e.graph;var o=y(y({},e.options.graphOptions),{container:r,model:e.sourceGraph.model,frozen:!0,async:e.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});return e.targetGraph=e.options.createGraph?e.options.createGraph(o):new l.Graph(o),e.targetGraph.renderer.unfreeze(),e.updatePaper(e.sourceGraph.options.width,e.sourceGraph.options.height),e.startListening(),e}return x(n,i),Object.defineProperty(n.prototype,"graph",{get:function(){return this.options.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scroller",{get:function(){return this.graph.scroller.widget},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"graphContainer",{get:function(){return this.scroller?this.scroller.container:this.graph.container},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"$graphContainer",{get:function(){return this.scroller?this.scroller.$container:this.$(this.graph.container)},enumerable:!1,configurable:!0}),n.prototype.startListening=function(){var t;this.scroller?this.$graphContainer.on("scroll"+this.getEventNamespace(),this.updateViewport):(this.sourceGraph.on("translate",this.onTransform,this),this.sourceGraph.on("scale",this.onTransform,this),this.sourceGraph.on("model:updated",this.onModelUpdated,this)),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents(((t={mousedown:"startAction",touchstart:"startAction"})["mousedown ."+this.prefixClassName("graph")]="scrollTo",t["touchstart ."+this.prefixClassName("graph")]="scrollTo",t))},n.prototype.stopListening=function(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):(this.sourceGraph.off("translate",this.onTransform,this),this.sourceGraph.off("scale",this.onTransform,this),this.sourceGraph.off("model:updated",this.onModelUpdated,this)),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()},n.prototype.onRemove=function(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()},n.prototype.onTransform=function(t){(t.ui||this.targetGraphTransforming)&&this.updateViewport()},n.prototype.onModelUpdated=function(){this.targetGraph.zoomToFit()},n.prototype.updatePaper=function(t,e){var r,o;typeof t=="object"?(r=t.width,o=t.height):(r=t,o=e);var a=this.sourceGraph.options,s=this.sourceGraph.transform.getScale(),u=this.options.width-2*this.options.padding,c=this.options.height-2*this.options.padding;r/=s.sx,o/=s.sy,this.ratio=Math.min(u/r,c/o);var h=this.ratio,d=a.x*h/s.sx,g=a.y*h/s.sy;return r*=h,o*=h,this.targetGraph.resizeGraph(r,o),this.targetGraph.translate(d,g),this.scroller?this.targetGraph.scale(h,h):this.targetGraph.zoomToFit(),this.updateViewport(),this},n.prototype.updateViewport=function(){var t=this.sourceGraph.transform.getScale(),e=this.targetGraph.transform.getScale(),r=null;r=this.scroller?this.scroller.clientToLocalPoint(0,0):this.graph.graphToLocal(0,0);var o=this.$(this.targetGraph.container).position(),a=this.targetGraph.translate();a.ty=a.ty||0,this.geometry={top:o.top+r.y*e.sy+a.ty,left:o.left+r.x*e.sx+a.tx,width:this.$graphContainer.innerWidth()*e.sx/t.sx,height:this.$graphContainer.innerHeight()*e.sy/t.sy},this.$viewport.css(this.geometry)},n.prototype.startAction=function(t){var e=this.normalizeEvent(t),r=e.target===this.zoomHandle?"zooming":"panning",o=this.sourceGraph.translate(),a=o.tx,s=o.ty,u={action:r,clientX:e.clientX,clientY:e.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:a,translateY:s};this.targetGraphTransforming=!0,this.delegateDocumentEvents(pu.documentEvents,u)},n.prototype.doAction=function(t){var e=this,r=this.normalizeEvent(t),o=r.clientX,a=r.clientY,s=r.data;switch(s.action){case"panning":var u=this.sourceGraph.transform.getScale(),c=(o-s.clientX)*u.sx,h=(a-s.clientY)*u.sy;this.scroller?(this.graphContainer.scrollLeft=s.scrollLeft+c/this.ratio,this.graphContainer.scrollTop=s.scrollTop+h/this.ratio):this.sourceGraph.translate(s.translateX-c/this.ratio,s.translateY-h/this.ratio);break;case"zooming":var d=s.scale,g=s.geometry,C=1+(s.clientX-o)/g.width/d.sx;s.frameId&&cancelAnimationFrame(s.frameId),s.frameId=requestAnimationFrame(function(){e.sourceGraph.zoom(C*s.zoom,{absolute:!0,minScale:e.options.minScale,maxScale:e.options.maxScale})})}},n.prototype.stopAction=function(){this.undelegateDocumentEvents(),this.targetGraphTransforming=!1},n.prototype.scrollTo=function(t){var e,r,o=this.normalizeEvent(t),a=this.targetGraph.translate();if(a.ty=a.ty||0,o.offsetX==null){var s=this.$(this.targetGraph.container).offset();e=o.pageX-s.left,r=o.pageY-s.top}else e=o.offsetX,r=o.offsetY;var u=(e-a.tx)/this.ratio,c=(r-a.ty)/this.ratio;this.sourceGraph.centerPoint(u,c)},n.prototype.dispose=function(){this.remove()},P([l.View.dispose()],n.prototype,"dispose",null),n}(l.View);(function(i){i.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:function(n){return new l.Graph(n)}},i.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(pu||(pu={}));var e0=function(i){function n(t){var e=i.call(this)||this,r=t.graph,o=f(t,["graph"]);return e.graph=r,e.options=y({tolerance:10},o),e.offset={x:0,y:0},e.render(),e.parseFilter(),e.disabled||e.startListening(),e}return x(n,i),Object.defineProperty(n.prototype,"model",{get:function(){return this.graph.model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"containerClassName",{get:function(){return this.prefixClassName("widget-snapline")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"verticalClassName",{get:function(){return this.containerClassName+"-vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"horizontalClassName",{get:function(){return this.containerClassName+"-horizontal"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0},enumerable:!1,configurable:!0}),n.prototype.enable=function(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())},n.prototype.disable=function(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())},n.prototype.setFilter=function(t){this.options.filter=t,this.parseFilter()},n.prototype.render=function(){var t=this.containerWrapper=new l.Vector("svg"),e=this.horizontal=new l.Vector("line"),r=this.vertical=new l.Vector("line");t.addClass(this.containerClassName),e.addClass(this.horizontalClassName),r.addClass(this.verticalClassName),t.setAttribute("width","100%"),t.setAttribute("height","100%"),e.setAttribute("display","none"),r.setAttribute("display","none"),t.append([e,r]),this.options.className&&t.addClass(this.options.className),this.container=this.containerWrapper.node},n.prototype.startListening=function(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})},n.prototype.stopListening=function(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()},n.prototype.parseFilter=function(){var t=this;this.filterShapes={},this.filterCells={},this.filterFunction=null;var e=this.options.filter;Array.isArray(e)?e.forEach(function(r){typeof r=="string"?t.filterShapes[r]=!0:t.filterCells[r.id]=!0}):typeof e=="function"&&(this.filterFunction=e)},n.prototype.onBatchStop=function(t){var e=t.name,r=t.data;e==="resize"&&this.snapOnResizing(r.cell,r)},n.prototype.captureCursorOffset=function(t){var e=t.view,r=t.x,o=t.y,a=e.getDelegatedView();if(a&&this.isNodeMovable(a)){var s=e.cell.getPosition();this.offset={x:r-s.x,y:o-s.y}}},n.prototype.isNodeMovable=function(t){return t&&t.cell.isNode()&&t.can("nodeMovable")},n.prototype.snapOnResizing=function(t,e){var r=this;if(this.options.resizing&&!e.snapped&&e.ui&&e.direction&&e.trueDirection){var o=this.graph.renderer.findViewByCell(t);if(o&&o.cell.isNode()){var a,s,u,c,h,d,g=t.getBBox(),C=g.bbox(t.getAngle()),A=C.getTopLeft(),D=C.getBottomRight(),k=l.Angle.normalize(t.getAngle()),O=this.options.tolerance||0,F={vertical:0,horizontal:0},B=e.direction,z=e.trueDirection,Y=e.relativeDirection;z.indexOf("right")!==-1?F.vertical=D.x:F.vertical=A.x,z.indexOf("bottom")!==-1?F.horizontal=D.y:F.horizontal=A.y,this.model.getNodes().some(function(Pt){if(r.isIgnored(t,Pt))return!1;var It=Pt.getBBox().bbox(Pt.getAngle()),Vt=It.getTopLeft(),Rt=It.getBottomRight(),Zt={vertical:[Vt.x,Rt.x],horizontal:[Vt.y,Rt.y]},de={};return Object.keys(Zt).forEach(function(Qe){var Ue=Qe,be=Zt[Ue].map(function(Ie){return{position:Ie,distance:Math.abs(Ie-F[Ue])}}).filter(function(Ie){return Ie.distance<=O});de[Ue]=pl(be,function(Ie){return Ie.distance})}),a==null&&de.vertical.length>0&&(a=de.vertical[0].position,s=Math.min(C.y,It.y),u=Math.max(D.y,Rt.y)-s),c==null&&de.horizontal.length>0&&(c=de.horizontal[0].position,h=Math.min(C.x,It.x),d=Math.max(D.x,Rt.x)-h),a!=null&&c!=null}),this.hide();var w=0,Q=0;c==null&&a==null||(a!=null&&(w=z.indexOf("right")!==-1?a-D.x:A.x-a),c!=null&&(Q=z.indexOf("bottom")!==-1?c-D.y:A.y-c));var J=0,nt=0;if(k%90==0)k===90||k===270?(J=Q,nt=w):(J=w,nt=Q);else{var lt=k>=0&&k<90?1:k>=90&&k<180?4:k>=180&&k<270?3:2;c!=null&&a!=null&&(w<Q?(Q=0,c=void 0):(w=0,a=void 0));var ut=l.Angle.toRad(k%90);w&&(J=lt===3?w/Math.cos(ut):w/Math.sin(ut)),Q&&(nt=lt===3?Q/Math.cos(ut):Q/Math.sin(ut));var xt=lt===1||lt===3;switch(Y){case"top":case"bottom":nt=Q?Q/(xt?Math.cos(ut):Math.sin(ut)):w/(xt?Math.sin(ut):Math.cos(ut));break;case"left":case"right":J=w?w/(xt?Math.cos(ut):Math.sin(ut)):Q/(xt?Math.sin(ut):Math.cos(ut))}}switch(Y){case"top":case"bottom":J=0;break;case"left":case"right":nt=0}var Dt=this.graph.getGridSize(),ft=Math.max(g.width+J,Dt),At=Math.max(g.height+nt,Dt);e.minWidth&&e.minWidth>Dt&&(ft=Math.max(ft,e.minWidth)),e.minHeight&&e.minHeight>Dt&&(At=Math.max(At,e.minHeight)),e.maxWidth&&(ft=Math.min(ft,e.maxWidth)),e.maxHeight&&(At=Math.min(At,e.maxHeight)),e.preserveAspectRatio&&(nt<J?At=ft*(g.height/g.width):ft=At*(g.width/g.height)),ft===g.width&&At===g.height||(t.resize(ft,At,{direction:B,relativeDirection:Y,trueDirection:z,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(o)}),u&&(u+=At-g.height),d&&(d+=ft-g.width));var Ot=t.getBBox().bbox(k);a&&Math.abs(Ot.x-a)>1&&Math.abs(Ot.width+Ot.x-a)>1&&(a=void 0),c&&Math.abs(Ot.y-c)>1&&Math.abs(Ot.height+Ot.y-c)>1&&(c=void 0),this.update({verticalLeft:a,verticalTop:s,verticalHeight:u,horizontalTop:c,horizontalLeft:h,horizontalWidth:d})}}},n.prototype.snapOnMoving=function(t){var e=this,r=t.view,o=t.e,a=t.x,s=t.y,u=r.getEventData(o).delegatedView||r;if(this.isNodeMovable(u)){var c,h,d,g,C,A,D=u.cell,k=D.getSize(),O=D.getPosition(),F=new l.Rectangle(a-this.offset.x,s-this.offset.y,k.width,k.height),B=D.getAngle(),z=F.getCenter(),Y=F.bbox(B),w=Y.getTopLeft(),Q=Y.getBottomRight(),J=this.options.tolerance||0,nt=0,lt=0;if(this.model.getNodes().some(function(Ot){if(e.isIgnored(D,Ot))return!1;var Pt=Ot.getBBox().bbox(Ot.getAngle()),It=Pt.getCenter(),Vt=Pt.getTopLeft(),Rt=Pt.getBottomRight();return c==null&&(Math.abs(It.x-z.x)<J?(c=It.x,nt=.5):Math.abs(Vt.x-w.x)<J?(c=Vt.x,nt=0):Math.abs(Vt.x-Q.x)<J?(c=Vt.x,nt=1):Math.abs(Rt.x-Q.x)<J?(c=Rt.x,nt=1):Math.abs(Rt.x-w.x)<J&&(c=Rt.x),c!=null&&(h=Math.min(Y.y,Pt.y),d=Math.max(Q.y,Rt.y)-h)),g==null&&(Math.abs(It.y-z.y)<J?(g=It.y,lt=.5):Math.abs(Vt.y-w.y)<J?g=Vt.y:Math.abs(Vt.y-Q.y)<J?(g=Vt.y,lt=1):Math.abs(Rt.y-Q.y)<J?(g=Rt.y,lt=1):Math.abs(Rt.y-w.y)<J&&(g=Rt.y),g!=null&&(C=Math.min(Y.x,Pt.x),A=Math.max(Q.x,Rt.x)-C)),c!=null&&g!=null}),this.hide(),g!=null||c!=null){g!=null&&(Y.y=g-lt*Y.height),c!=null&&(Y.x=c-nt*Y.width);var ut=Y.getCenter(),xt=ut.x-F.width/2,Dt=ut.y-F.height/2,ft=xt-O.x,At=Dt-O.y;ft===0&&At===0||(D.translate(ft,At,{snapped:!0,restrict:this.graph.hook.getRestrictArea(u)}),A&&(A+=ft),d&&(d+=At)),this.update({verticalLeft:c,verticalTop:h,verticalHeight:d,horizontalTop:g,horizontalLeft:C,horizontalWidth:A})}}},n.prototype.isIgnored=function(t,e){return e.id===t.id||e.isDescendantOf(t)||this.filterShapes[e.shape]||this.filterCells[e.id]||this.filterFunction&&Lt(this.filterFunction,this.graph,e)},n.prototype.update=function(t){if(t.horizontalTop){var e=this.graph.localToGraph(new l.Point(t.horizontalLeft,t.horizontalTop)),r=this.graph.localToGraph(new l.Point(t.horizontalLeft+t.horizontalWidth,t.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?""+e.x:"0",y1:""+e.y,x2:this.options.sharp?""+r.x:"100%",y2:""+r.y,display:"inherit"})}else this.horizontal.setAttribute("display","none");t.verticalLeft?(e=this.graph.localToGraph(new l.Point(t.verticalLeft,t.verticalTop)),r=this.graph.localToGraph(new l.Point(t.verticalLeft,t.verticalTop+t.verticalHeight)),this.vertical.setAttributes({x1:""+e.x,y1:this.options.sharp?""+e.y:"0",x2:""+r.x,y2:this.options.sharp?""+r.y:"100%",display:"inherit"})):this.vertical.setAttribute("display","none"),this.show()},n.prototype.resetTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.show=function(){return this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this},n.prototype.hide=function(){var t=this;this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");var e=this.options.clean,r=typeof e=="number"?e:e!==!1?3e3:0;return r>0&&(this.timer=window.setTimeout(function(){t.container.parentNode!==null&&t.unmount()},r)),this},n.prototype.onRemove=function(){this.stopListening(),this.hide()},n.prototype.dispose=function(){this.remove()},P([l.View.dispose()],n.prototype,"dispose",null),n}(l.View),ha=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.init=function(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},n.prototype.startListening=function(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)},n.prototype.stopListening=function(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)},n.prototype.resetUpdates=function(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}},n.prototype.onSortModel=function(){this.model.hasActiveBatch(n.SORT_DELAYING_BATCHES)||this.sortViews()},n.prototype.onModelReseted=function(t){var e=t.options;this.removeZPivots(),this.resetViews(this.model.getCells(),e)},n.prototype.onBatchStop=function(t){var e=t.name,r=t.data;if(!this.isFrozen()){var o=this.model;if(!this.isAsync()){var a=n.UPDATE_DELAYING_BATCHES;a.includes(e)&&!o.hasActiveBatch(a)&&this.updateViews(r)}var s=n.SORT_DELAYING_BATCHES;s.includes(e)&&!o.hasActiveBatch(s)&&this.sortViews()}},n.prototype.onCellAdded=function(t){var e=t.cell,r=t.options,o=r.position;this.isAsync()||typeof o!="number"?this.renderView(e,r):(r.maxPosition===o&&this.freeze({key:"addCells"}),this.renderView(e,r),o===0&&this.unfreeze({key:"addCells"}))},n.prototype.onCellRemoved=function(t){var e=t.cell,r=t.options,o=this.findViewByCell(e);o&&this.requestViewUpdate(o,n.FLAG_REMOVE,o.priority,r)},n.prototype.onCellZIndexChanged=function(t){var e=t.cell,r=t.options;if(this.options.sorting==="approx"){var o=this.findViewByCell(e);o&&this.requestViewUpdate(o,n.FLAG_INSERT,o.priority,r)}},n.prototype.onCellVisibleChanged=function(t){var e=t.cell,r=t.current,o=t.options;r||this.processEdgeOnTerminalVisibleChanged(e,!1);var a=this.findViewByCell(e);!r&&a?this.removeView(e):r&&a==null&&this.renderView(e,o),r&&this.processEdgeOnTerminalVisibleChanged(e,!0)},n.prototype.processEdgeOnTerminalVisibleChanged=function(t,e){this.model.getConnectedEdges(t).forEach(function(r){var o=function(a,s){return a.getSourceCellId()!==s.id?a.getSourceCell():a.getTargetCellId()!==s.id?a.getTargetCell():null}(r,t);(o==null||o.isVisible())&&(e?r.show():r.hide())})},n.prototype.isEdgeTerminalVisible=function(t,e){var r=e==="source"?t.getSourceCellId():t.getTargetCellId(),o=r?this.model.getCell(r):null;return!(o&&!o.isVisible())},n.prototype.requestConnectedEdgesUpdate=function(t,e){if(e===void 0&&(e={}),l.CellView.isCellView(t))for(var r=t.cell,o=this.model.getConnectedEdges(r),a=0,s=o.length;a<s;a+=1){var u=o[a],c=this.findViewByCell(u);if(c){var h=["update"];u.getTargetCell()===r&&h.push("target"),u.getSourceCell()===r&&h.push("source"),this.scheduleViewUpdate(c,c.getFlag(h),c.priority,e)}}},n.prototype.forcePostponedViewUpdate=function(t,e){if(!t||!l.CellView.isCellView(t))return!1;var r=t.cell;if(r.isNode())return!1;var o=t;if(r.isEdge()&&(e&t.getFlag(["source","target"]))==0){var a=0,s=this.findViewByCell(r.getSourceCell());s&&!this.isViewMounted(s)&&(a=this.dumpView(s),o.updateTerminalMagnet("source"));var u=0,c=this.findViewByCell(r.getTargetCell());if(c&&!this.isViewMounted(c)&&(u=this.dumpView(c),o.updateTerminalMagnet("target")),a===0&&u===0)return!this.dumpView(o)}return!1},n.prototype.scheduleViewUpdate=function(t,e,r,o){o===void 0&&(o={});var a=t.cid,s=this.updates,u=s.priorities[r];u||(u=s.priorities[r]={});var c=u[a]||0;(c&e)!==e&&(c||(s.count+=1),e&n.FLAG_REMOVE&&c&n.FLAG_INSERT?u[a]^=n.FLAG_INSERT:e&n.FLAG_INSERT&&c&n.FLAG_REMOVE&&(u[a]^=n.FLAG_REMOVE),u[a]|=e,this.graph.hook.onViewUpdated(t,e,o))},n.prototype.requestViewUpdate=function(t,e,r,o){o===void 0&&(o={}),this.scheduleViewUpdate(t,e,r,o);var a=this.isAsync();if(!(this.isFrozen()||a&&o.async!==!1||this.model.hasActiveBatch(n.UPDATE_DELAYING_BATCHES))){var s=this.updateViews(o);a&&this.graph.trigger("render:done",{stats:s,options:o})}},n.prototype.dumpView=function(t,e){if(e===void 0&&(e={}),t==null)return 0;var r=t.cid,o=this.updates.priorities[t.priority],a=this.registerMountedView(t)|o[r];return delete o[r],a?this.updateView(t,a,e):0},n.prototype.dumpViews=function(t){t===void 0&&(t={}),this.checkView(t),this.updateViews(t)},n.prototype.requireView=function(t,e){e===void 0&&(e={});var r=this.findViewByCell(t);return r==null?null:(this.dumpView(r,e),r)},n.prototype.updateView=function(t,e,r){if(r===void 0&&(r={}),t==null)return 0;if(l.CellView.isCellView(t)){if(e&n.FLAG_REMOVE)return this.removeView(t.cell),0;e&n.FLAG_INSERT&&(this.insertView(t),e^=n.FLAG_INSERT)}return e?t.confirmUpdate(e,r):0},n.prototype.updateViews=function(t){var e;t===void 0&&(t={});var r=0,o=0,a=n.MIN_PRIORITY;do r+=1,o+=(e=this.updateViewsBatch(t)).updatedCount,a=Math.min(e.priority,a);while(!e.empty);return{priority:a,batchCount:r,updatedCount:o}},n.prototype.updateViewsBatch=function(t){t===void 0&&(t={});var e=this.updates,r=e.priorities,o=t.batchSize||n.UPDATE_BATCH_SIZE,a=!0,s=n.MIN_PRIORITY,u=0,c=0,h=0,d=0,g=t.checkView||this.options.checkView;typeof g!="function"&&(g=null);t:for(var C=0,A=r.length;C<A;C+=1){var D=r[C];for(var k in D){if(h>=o){a=!1;break t}var O=l.View.views[k];if(O){var F=D[k];if((F&n.FLAG_REMOVE)==0){var B=k in e.unmounted;if(g&&!Lt(g,this.graph,{view:O,unmounted:B})){B||(this.registerUnmountedView(O),O.unmount()),e.unmounted[k]|=F,delete D[k],c+=1;continue}B&&(F|=n.FLAG_INSERT,u+=1),F|=this.registerMountedView(O)}var z=O,Y=this.updateView(O,F,t);if(Y>0){var w=z.cell;w&&w.isEdge()&&(z.hasAction(Y,"source")&&!this.isEdgeTerminalVisible(w,"source")&&(Y=z.removeAction(Y,"source"),Y|=n.FLAG_REMOVE),z.hasAction(Y,"target")&&!this.isEdgeTerminalVisible(w,"target")&&(Y=z.removeAction(Y,"target"),Y|=n.FLAG_REMOVE))}Y>0&&(D[k]=Y,!this.graph.hook.onViewPostponed(z,Y,t)||D[k])?(d+=1,a=!1):(s>C&&(s=C),h+=1,delete D[k])}else delete D[k]}}return{empty:a,priority:s,mountedCount:u,unmountedCount:c,updatedCount:h,postponedCount:d}},n.prototype.updateViewsAsync=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={processed:0,priority:n.MIN_PRIORITY});var o=this.updates,a=o.animationId;if(a){if(Ll(a),e.processed===0){var s=t.before;typeof s=="function"&&Lt(s,this.graph,this.graph)}var u=this.updateViewsBatch(t),c=this.checkViewImpl({checkView:t.checkView,mountedBatchSize:n.MOUNT_BATCH_SIZE-u.mountedCount,unmountedBatchSize:n.MOUNT_BATCH_SIZE-u.unmountedCount}),h=e.processed,d=o.count,g=c.mountedCount,C=c.unmountedCount;u.updatedCount>0&&(h+=u.updatedCount+u.unmountedCount,e.priority=Math.min(u.priority,e.priority),u.empty&&g===0?(u.priority=e.priority,u.mountedCount+=g,u.unmountedCount+=C,this.graph.trigger("render:done",{stats:u,options:t}),e.processed=0,o.count=0):e.processed=h);var A=t.progress;if(d&&typeof A=="function"&&Lt(A,this.graph,{total:d,done:u.empty,current:h}),o.animationId!==a)return}o.animationId=kl(function(){r.updateViewsAsync(t,e)})},n.prototype.registerMountedView=function(t){var e=t.cid,r=this.updates;if(e in r.mounted)return 0;r.mounted[e]=!0,r.mountedCids.push(e);var o=r.unmounted[e]||0;return delete r.unmounted[e],o},n.prototype.registerUnmountedView=function(t){var e=t.cid,r=this.updates;if(e in r.unmounted)return 0;r.unmounted[e]|=n.FLAG_INSERT;var o=r.unmounted[e];return r.unmountedCids.push(e),delete r.mounted[e],o},n.prototype.isViewMounted=function(t){return t!=null&&t.cid in this.updates.mounted},n.prototype.getMountedViews=function(){return Object.keys(this.updates.mounted).map(function(t){return l.CellView.views[t]})},n.prototype.getUnmountedViews=function(){return Object.keys(this.updates.unmounted).map(function(t){return l.CellView.views[t]})},n.prototype.checkMountedViews=function(t,e){var r=0;if(typeof t!="function")return r;for(var o=this.updates,a=o.mounted,s=o.mountedCids,u=e==null?s.length:Math.min(s.length,e),c=0;c<u;c+=1){var h=s[c];if(h in a){var d=l.CellView.views[h];d!=null&&(Lt(t,this.graph,{view:d,unmounted:!0})?s.push(h):(r+=1,this.registerUnmountedView(d)&&d.unmount()))}}return s.splice(0,u),r},n.prototype.checkUnmountedViews=function(t,e){var r=0;typeof t!="function"&&(t=null);for(var o=this.updates,a=o.unmounted,s=o.unmountedCids,u=e==null?s.length:Math.min(s.length,e),c=0;c<u;c+=1){var h=s[c];if(h in a){var d=l.CellView.views[h];if(d!=null)if(!t||Lt(t,this.graph,{view:d,unmounted:!1})){r+=1;var g=this.registerMountedView(d);g&&this.scheduleViewUpdate(d,g,d.priority,{mounting:!0})}else s.push(h)}}return s.splice(0,u),r},n.prototype.checkViewImpl=function(t){t===void 0&&(t={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER});var e=t.checkView||this.options.checkView,r=this.checkMountedViews(e,t.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(e,r>0?Math.min(this.updates.unmountedCids.length-r,t.mountedBatchSize):t.mountedBatchSize),unmountedCount:r}},n.prototype.checkView=function(t){return t===void 0&&(t={}),this.checkViewImpl(t)},n.prototype.isFrozen=function(){return!!this.options.frozen},n.prototype.freeze=function(t){t===void 0&&(t={});var e=t.key,r=this.updates,o=this.options.frozen,a=r.freezeKey;if(e&&e!==a){if(o&&a)return;r.frozen=o,r.freezeKey=e}this.options.frozen=!0;var s=r.animationId;r.animationId=null,this.isAsync()&&s!=null&&Ll(s),this.graph.trigger("freeze",{key:e})},n.prototype.unfreeze=function(t){var e=this;t===void 0&&(t={});var r=t.key,o=this.updates,a=o.freezeKey;if(!(r&&a&&r!==a||(o.freezeKey=null,r&&r===a&&o.frozen))){var s=function(){e.options.frozen=o.frozen=!1,o.sort&&(e.sortViews(),o.sort=!1);var c=t.after;c&&Lt(c,e.graph,e.graph),e.graph.trigger("unfreeze",{key:r})};if(this.isAsync()){this.freeze();var u=t.progress;this.updateViewsAsync(y(y({},t),{progress:function(c){var h=c.done,d=c.current,g=c.total;u&&Lt(u,e.graph,{done:h,current:d,total:g}),h&&s()}}))}else this.updateViews(t),s()}},n.prototype.isAsync=function(){return!!this.options.async},n.prototype.setAsync=function(t){this.options.async=t},n.prototype.onRemove=function(){this.freeze(),this.removeViews()},n.prototype.resetViews=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={}),this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var r=0,o=t.length;r<o;r+=1)this.renderView(t[r],e);this.unfreeze({key:"reset"}),this.sortViews()},n.prototype.removeView=function(t){var e=this.views[t.id];if(e){var r=e.cid,o=this.updates,a=o.mounted,s=o.unmounted;e.remove(),delete this.views[t.id],delete a[r],delete s[r]}return e},n.prototype.removeViews=function(){var t=this;this.views&&Object.keys(this.views).forEach(function(e){var r=t.views[e];r&&t.removeView(r.cell)}),this.views={}},n.prototype.renderView=function(t,e){e===void 0&&(e={});var r=t.id,o=this.views,a=0,s=o[r];if(t.isVisible()&&(!t.isEdge()||this.isEdgeTerminalVisible(t,"source")&&this.isEdgeTerminalVisible(t,"target"))){if(s)a=n.FLAG_INSERT;else{var u=this.graph.hook.createCellView(t);u&&((s=o[t.id]=u).graph=this.graph,a=this.registerUnmountedView(s)|s.getBootstrapFlag())}s&&this.requestViewUpdate(s,a,s.priority,e)}},n.prototype.isExactSorting=function(){return this.options.sorting==="exact"},n.prototype.sortViews=function(){this.isExactSorting()&&(this.isFrozen()?this.updates.sort=!0:this.sortViewsExact())},n.prototype.sortElements=function(t,e){var r=t.map(function(o){var a=o.parentNode,s=a.insertBefore(document.createTextNode(""),o.nextSibling);return function(u){if(a===u)throw new Error("You can't sort elements if any one is a descendant of another.");a.insertBefore(u,s),a.removeChild(s)}});t.sort(e).forEach(function(o,a){return r[a](o)})},n.prototype.sortViewsExact=function(){var t=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),e=this.model;this.sortElements(t,function(r,o){var a=e.getCell(r.getAttribute("data-cell-id")||""),s=e.getCell(o.getAttribute("data-cell-id")||""),u=a.getZIndex()||0,c=s.getZIndex()||0;return u===c?0:u<c?-1:1})},n.prototype.addZPivot=function(t){t===void 0&&(t=0),this.zPivots==null&&(this.zPivots={});var e=this.zPivots,r=e[t];if(r)return r;r=e[t]=document.createComment("z-index:"+(t+1));var o=-1/0;for(var a in e){var s=+a;s<t&&s>o&&(o=s)}var u=this.view.stage;if(o!==-1/0){var c=e[o];u.insertBefore(r,c.nextSibling)}else u.insertBefore(r,u.firstChild);return r},n.prototype.removeZPivots=function(){var t=this;this.zPivots&&Object.keys(this.zPivots).forEach(function(e){var r=t.zPivots[e];r&&r.parentNode&&r.parentNode.removeChild(r)}),this.zPivots={}},n.prototype.insertView=function(t){var e=this.view.stage;switch(this.options.sorting){case"approx":var r=t.cell.getZIndex(),o=this.addZPivot(r);e.insertBefore(t.container,o);break;case"exact":default:e.appendChild(t.container)}},n.prototype.findViewByCell=function(t){if(t==null)return null;var e=l.Cell.isCell(t)?t.id:t;return this.views[e]},n.prototype.findViewByElem=function(t){if(t==null)return null;var e=typeof t=="string"?this.view.stage.querySelector(t):t instanceof Element?t:t[0];if(e){var r=this.view.findAttr("data-cell-id",e);if(r)return this.views[r]}return null},n.prototype.findViewsFromPoint=function(t){var e=this,r={x:t.x,y:t.y};return this.model.getCells().map(function(o){return e.findViewByCell(o)}).filter(function(o){return o!=null&&An(o.container,{target:e.view.stage}).containsPoint(r)})},n.prototype.findEdgeViewsInArea=function(t,e){var r=this;e===void 0&&(e={});var o=l.Rectangle.create(t);return this.model.getEdges().map(function(a){return r.findViewByCell(a)}).filter(function(a){if(a){var s=An(a.container,{target:r.view.stage});return s.width===0?s.inflate(1,0):s.height===0&&s.inflate(0,1),e.strict?o.containsRect(s):o.isIntersectWithRect(s)}return!1})},n.prototype.findViewsInArea=function(t,e){var r=this;e===void 0&&(e={});var o=l.Rectangle.create(t);return this.model.getNodes().map(function(a){return r.findViewByCell(a)}).filter(function(a){if(a){var s=An(a.container,{target:r.view.stage});return e.strict?o.containsRect(s):o.isIntersectWithRect(s)}return!1})},n.prototype.dispose=function(){this.resetUpdates(),this.stopListening()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke);(function(i){i.FLAG_INSERT=1<<30,i.FLAG_REMOVE=1<<29,i.MOUNT_BATCH_SIZE=1e3,i.UPDATE_BATCH_SIZE=1e3,i.MIN_PRIORITY=2,i.SORT_DELAYING_BATCHES=["add","to-front","to-back"],i.UPDATE_DELAYING_BATCHES=["translate"]})(ha||(ha={}));var kr,Yh=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"elem",{get:function(){return this.view.background},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.startListening(),this.options.background&&this.draw(this.options.background)},n.prototype.startListening=function(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)},n.prototype.stopListening=function(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)},n.prototype.updateBackgroundImage=function(t){t===void 0&&(t={});var e=t.size||"auto auto",r=t.position||"center",o=this.graph.transform.getScale(),a=this.graph.translate();typeof r=="object"&&(r=a.tx+o.sx*(r.x||0)+"px "+(a.ty+o.sy*(r.y||0))+"px"),typeof e=="object"&&(e=(e=l.Rectangle.fromSize(e).scale(o.sx,o.sy)).width+"px "+e.height+"px"),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=r},n.prototype.drawBackgroundImage=function(t,e){if(e===void 0&&(e={}),t instanceof HTMLImageElement){var r=this.optionsCache;if(!r||r.image===e.image){var o,a=e.opacity,s=e.size,u=e.repeat||"no-repeat",c=aa.registry.get(u);if(typeof c=="function"){var h=e.quality||1;t.width*=h,t.height*=h;var d=c(t,e);if(!(d instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");o=d.toDataURL("image/png"),u=e.repeat&&u!==e.repeat?e.repeat:"repeat",typeof s=="object"?(s.width*=d.width/t.width,s.height*=d.height/t.height):s===void 0&&(e.size={width:d.width/h,height:d.height/h})}else o=t.src,s===void 0&&(e.size={width:t.width,height:t.height});r!=null&&typeof e.size=="object"&&e.image===r.image&&e.repeat===r.repeat&&e.quality===r.quality&&(r.size=Ki(e.size));var g=this.elem.style;g.backgroundImage="url("+o+")",g.backgroundRepeat=u,g.opacity=a==null||a>=1?"":""+a,this.updateBackgroundImage(e)}}else this.elem.style.backgroundImage=""},n.prototype.updateBackgroundColor=function(t){this.elem.style.backgroundColor=t||""},n.prototype.updateBackgroundOptions=function(t){this.graph.options.background=t},n.prototype.update=function(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)},n.prototype.draw=function(t){var e=this,r=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(r.color),r.image){this.optionsCache=Ki(r);var o=document.createElement("img");o.onload=function(){return e.drawBackgroundImage(o,t)},o.setAttribute("crossorigin","anonymous"),o.src=r.image}else this.drawBackgroundImage(null),this.optionsCache=null},n.prototype.clear=function(){this.draw()},n.prototype.dispose=function(){this.clear(),this.stopListening()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke),du=function(i){function n(t){var e=i.call(this)||this;e.padding={left:0,top:0,right:0,bottom:0},e.options=kr.getOptions(t);var r=e.graph.transform.getScale();e.sx=r.sx,e.sy=r.sy;var o=e.options.width||e.graph.options.width,a=e.options.height||e.graph.options.height;e.container=document.createElement("div"),e.$container=e.$(e.container).addClass(e.prefixClassName(kr.containerClass)).css({width:o,height:a}),e.options.pageVisible&&e.$container.addClass(e.prefixClassName(kr.pagedClass)),e.options.className&&e.$container.addClass(e.options.className);var s=e.graph.container;s.parentNode&&e.$container.insertBefore(s);var u=s.getAttribute("style");if(u){var c={};u.split(";").forEach(function(h){var d=h.trim();if(d){var g=d.split(":");g.length&&(c[g[0].trim()]=g[1]?g[1].trim():"")}}),Object.keys(c).forEach(function(h){h!=="width"&&h!=="height"&&(s.style[h]="",e.container.style[h]=c[h])})}return e.content=document.createElement("div"),e.$content=e.$(e.content).addClass(e.prefixClassName(kr.contentClass)).css({width:e.graph.options.width,height:e.graph.options.height}),e.background=document.createElement("div"),e.$background=e.$(e.background).addClass(e.prefixClassName(kr.backgroundClass)),e.$content.append(e.background),e.options.pageVisible||e.$content.append(e.graph.view.grid),e.$content.append(s),e.$content.appendTo(e.container),e.startListening(),e.options.pageVisible||e.graph.grid.update(),e.backgroundManager=new n.Background(e),e.options.autoResize||e.update(),e}return x(n,i),Object.defineProperty(n.prototype,"graph",{get:function(){return this.options.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.graph.model},enumerable:!1,configurable:!0}),n.prototype.startListening=function(){var t=this.graph,e=this.model;t.on("scale",this.onScale,this),t.on("resize",this.onResize,this),t.on("before:print",this.storeScrollPosition,this),t.on("before:export",this.storeScrollPosition,this),t.on("after:print",this.restoreScrollPosition,this),t.on("after:export",this.restoreScrollPosition,this),t.on("render:done",this.onRenderDone,this),t.on("unfreeze",this.onUpdate,this),e.on("reseted",this.onUpdate,this),e.on("cell:added",this.onUpdate,this),e.on("cell:removed",this.onUpdate,this),e.on("cell:changed",this.onUpdate,this),e.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()},n.prototype.stopListening=function(){var t=this.graph,e=this.model;t.off("scale",this.onScale,this),t.off("resize",this.onResize,this),t.off("beforeprint",this.storeScrollPosition,this),t.off("beforeexport",this.storeScrollPosition,this),t.off("afterprint",this.restoreScrollPosition,this),t.off("afterexport",this.restoreScrollPosition,this),t.off("render:done",this.onRenderDone,this),t.off("unfreeze",this.onUpdate,this),e.off("reseted",this.onUpdate,this),e.off("cell:added",this.onUpdate,this),e.off("cell:removed",this.onUpdate,this),e.off("cell:changed",this.onUpdate,this),e.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()},n.prototype.enableAutoResize=function(){this.options.autoResize=!0},n.prototype.disableAutoResize=function(){this.options.autoResize=!1},n.prototype.onUpdate=function(){!this.graph.isAsync()&&this.options.autoResize&&this.update()},n.prototype.onBatchStop=function(t){!this.graph.isAsync()&&this.options.autoResize&&ha.UPDATE_DELAYING_BATCHES.includes(t.name)&&this.update()},n.prototype.delegateBackgroundEvents=function(t){var e=this,r=t||Ei.events;this.delegatedHandlers=Object.keys(r).reduce(function(o,a){var s=r[a];if(a.indexOf(" ")===-1)if(typeof s=="function")o[a]=s;else{var u=e.graph.view[s];typeof u=="function"&&(u=u.bind(e.graph.view),o[a]=u)}return o},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(function(o){e.delegateEvent(o,{guarded:!1},e.onBackgroundEvent)})},n.prototype.undelegateBackgroundEvents=function(){var t=this;Object.keys(this.delegatedHandlers).forEach(function(e){t.undelegateEvent(e,t.onBackgroundEvent)})},n.prototype.onBackgroundEvent=function(t){var e=!1,r=t.target;if(this.options.pageVisible)e=this.options.background?this.background===r:this.content===r;else{var o=this.graph.view;e=o.background===r||o.grid===r}if(e){var a=this.delegatedHandlers[t.type];typeof a=="function"&&a.apply(this.graph,arguments)}},n.prototype.onRenderDone=function(t){var e=t.stats;this.options.autoResize&&e.priority<2&&this.update()},n.prototype.onResize=function(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())},n.prototype.onScale=function(t){var e=t.sx,r=t.sy,o=t.ox,a=t.oy;this.updateScale(e,r),(o||a)&&(this.centerPoint(o,a),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()},n.prototype.storeScrollPosition=function(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop},n.prototype.restoreScrollPosition=function(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null},n.prototype.storeClientSize=function(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}},n.prototype.restoreClientSize=function(){this.cachedClientSize=null},n.prototype.beforeManipulation=function(){(l.Platform.IS_IE||l.Platform.IS_EDGE)&&this.$container.css("visibility","hidden")},n.prototype.afterManipulation=function(){(l.Platform.IS_IE||l.Platform.IS_EDGE)&&this.$container.css("visibility","visible")},n.prototype.updatePageSize=function(t,e){t!=null&&(this.options.pageWidth=t),e!=null&&(this.options.pageHeight=e),this.updatePageBreak()},n.prototype.updatePageBreak=function(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){var t=this.graph.options.width,e=this.graph.options.height,r=this.options.pageWidth*this.sx,o=this.options.pageHeight*this.sy;if(r===0||o===0)return;if(t>r||e>o){for(var a=!1,s=document.createElement("div"),u=1,c=Math.floor(t/r);u<c;u+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:u*r}).appendTo(s),a=!0;for(u=1,c=Math.floor(e/o);u<c;u+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:u*o}).appendTo(s),a=!0;a&&(Ee(s,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(s),this.pageBreak=s)}}},n.prototype.update=function(){var t=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(t.width/2,t.height/2);var e=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof e=="function"&&(e=Lt(e,this,this));var r=y({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative",contentArea:this.calcContextArea(e)},e);this.graph.fitToContent(this.getFitToContentOptions(r))},n.prototype.calcContextArea=function(t){var e=t==null?void 0:t.direction;if(!e)return this.graph.transform.getContentArea(t);function r(u){var c=u.getBBox();if(c&&u.isNode()){var h=u.getAngle();h!=null&&h!==0&&(c=c.bbox(h))}return c}var o=this.options.pageWidth||1,a=this.options.pageHeight||1,s=this.graph.getCells();return e.includes("top")||(s=s.filter(function(u){return r(u).y>=0})),e.includes("left")||(s=s.filter(function(u){return r(u).x>=0})),e.includes("right")||(s=s.filter(function(u){var c=r(u);return c.x+c.width<=o})),e.includes("bottom")||(s=s.filter(function(u){var c=r(u);return c.y+c.height<=a})),this.model.getCellsBBox(s)||new l.Rectangle},n.prototype.getFitToContentOptions=function(t){var e=this.sx,r=this.sy;return t.gridWidth&&(t.gridWidth*=e),t.gridHeight&&(t.gridHeight*=r),t.minWidth&&(t.minWidth*=e),t.minHeight&&(t.minHeight*=r),typeof t.padding=="object"?t.padding={left:(t.padding.left||0)*e,right:(t.padding.right||0)*e,top:(t.padding.top||0)*r,bottom:(t.padding.bottom||0)*r}:typeof t.padding=="number"&&(t.padding*=e),this.options.autoResize||(t.contentArea=l.Rectangle.create()),t},n.prototype.updateScale=function(t,e){var r=this.graph.options,o=t/this.sx,a=e/this.sy;this.sx=t,this.sy=e,this.graph.translate(r.x*o,r.y*a),this.graph.resizeGraph(r.width*o,r.height*a)},n.prototype.scrollbarPosition=function(t,e,r){if(t==null&&e==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};var o={};return typeof t=="number"&&(o.scrollLeft=t),typeof e=="number"&&(o.scrollTop=e),r&&r.animation?this.$container.animate(o,r.animation):this.$container.prop(o),this},n.prototype.scrollToPoint=function(t,e,r){var o=this.getClientSize(),a=this.graph.matrix(),s={};return typeof t=="number"&&(s.scrollLeft=t-o.width/2+a.e+(this.padding.left||0)),typeof e=="number"&&(s.scrollTop=e-o.height/2+a.f+(this.padding.top||0)),r&&r.animation?this.$container.animate(s,r.animation):this.$container.prop(s),this},n.prototype.scrollToContent=function(t){var e=this.sx,r=this.sy,o=this.graph.getContentArea().getCenter();return this.scrollToPoint(o.x*e,o.y*r,t)},n.prototype.scrollToCell=function(t,e){var r=this.sx,o=this.sy,a=t.getBBox().getCenter();return this.scrollToPoint(a.x*r,a.y*o,e)},n.prototype.center=function(t){return this.centerPoint(t)},n.prototype.centerPoint=function(t,e,r){var o,a=this.graph.matrix(),s=a.a,u=a.d,c=-a.e,h=-a.f,d=c+this.graph.options.width,g=h+this.graph.options.height;if(this.storeClientSize(),typeof t=="number"||typeof e=="number"){o=r;var C=this.getVisibleArea().getCenter();typeof t=="number"?t*=s:t=C.x,typeof e=="number"?e*=u:e=C.y}else o=t,t=(c+d)/2,e=(h+g)/2;if(o&&o.padding)return this.positionPoint({x:t,y:e},"50%","50%",o);var A=this.getPadding(),D=this.getClientSize(),k=D.width/2,O=D.height/2,F=k-A.left-t+c,B=k-A.right+t-d,z=O-A.top-e+h,Y=O-A.bottom+e-g;this.addPadding(Math.max(F,0),Math.max(B,0),Math.max(z,0),Math.max(Y,0));var w=this.scrollToPoint(t,e,o||void 0);return this.restoreClientSize(),w},n.prototype.centerContent=function(t){return this.positionContent("center",t)},n.prototype.centerCell=function(t,e){return this.positionCell(t,"center",e)},n.prototype.positionContent=function(t,e){var r=this.graph.getContentArea(e);return this.positionRect(r,t,e)},n.prototype.positionCell=function(t,e,r){var o=t.getBBox();return this.positionRect(o,e,r)},n.prototype.positionRect=function(t,e,r){var o=l.Rectangle.create(t);switch(e){case"center":return this.positionPoint(o.getCenter(),"50%","50%",r);case"top":return this.positionPoint(o.getTopCenter(),"50%",0,r);case"top-right":return this.positionPoint(o.getTopRight(),"100%",0,r);case"right":return this.positionPoint(o.getRightMiddle(),"100%","50%",r);case"bottom-right":return this.positionPoint(o.getBottomRight(),"100%","100%",r);case"bottom":return this.positionPoint(o.getBottomCenter(),"50%","100%",r);case"bottom-left":return this.positionPoint(o.getBottomLeft(),0,"100%",r);case"left":return this.positionPoint(o.getLeftMiddle(),0,"50%",r);case"top-left":return this.positionPoint(o.getTopLeft(),0,0,r);default:return this}},n.prototype.positionPoint=function(t,e,r,o){o===void 0&&(o={});var a=o.padding,s=f(o,["padding"]),u=sr(a),c=l.Rectangle.fromSize(this.getClientSize()),h=c.clone().moveAndExpand({x:u.left,y:u.top,width:-u.right-u.left,height:-u.top-u.bottom});(e=Dr(e,Math.max(0,h.width)))<0&&(e=h.width+e),(r=Dr(r,Math.max(0,h.height)))<0&&(r=h.height+r);var d=h.getTopLeft().translate(e,r),g=c.getCenter().diff(d),C=this.zoom(),A=g.scale(1/C,1/C),D=l.Point.create(t).translate(A);return this.centerPoint(D.x,D.y,s)},n.prototype.zoom=function(t,e){if(t==null)return this.sx;var r,o;e=e||{};var a=this.getClientSize(),s=this.clientToLocalPoint(a.width/2,a.height/2),u=t,c=t;if(e.absolute||(u+=this.sx,c+=this.sy),e.scaleGrid&&(u=Math.round(u/e.scaleGrid)*e.scaleGrid,c=Math.round(c/e.scaleGrid)*e.scaleGrid),e.maxScale&&(u=Math.min(e.maxScale,u),c=Math.min(e.maxScale,c)),e.minScale&&(u=Math.max(e.minScale,u),c=Math.max(e.minScale,c)),u=this.graph.transform.clampScale(u),c=this.graph.transform.clampScale(c),e.center){var h=u/this.sx,d=c/this.sy;r=e.center.x-(e.center.x-s.x)/h,o=e.center.y-(e.center.y-s.y)/d}else r=s.x,o=s.y;return this.beforeManipulation(),this.graph.transform.scale(u,c),this.centerPoint(r,o),this.afterManipulation(),this},n.prototype.zoomToRect=function(t,e){e===void 0&&(e={});var r=l.Rectangle.create(t),o=this.graph;e.contentArea=r,e.viewportArea==null&&(e.viewportArea={x:o.options.x,y:o.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),o.transform.scaleContentToFitImpl(e,!1);var a=r.getCenter();return this.centerPoint(a.x,a.y),this.afterManipulation(),this},n.prototype.zoomToFit=function(t){return t===void 0&&(t={}),this.zoomToRect(this.graph.getContentArea(t),t)},n.prototype.transitionToPoint=function(t,e,r){var o,a,s=this;typeof t=="object"?(r=e,e=t.y,t=t.x):e=e,r==null&&(r={});var u=this.sx,c=Math.max(r.scale||u,1e-6),h=this.getClientSize(),d=new l.Point(t,e),g=this.clientToLocalPoint(h.width/2,h.height/2);if(u===c){var C=g.diff(d).scale(u,u).round();o="translate("+C.x+"px,"+C.y+"px)"}else{var A=c/(u-c)*d.distance(g),D=g.clone().move(d,A),k=this.localToBackgroundPoint(D).round();o="scale("+c/u+")",a=k.x+"px "+k.y+"px"}var O=r.onTransitionEnd;return this.$container.addClass(kr.transitionClassName),this.$content.off(kr.transitionEventName).on(kr.transitionEventName,function(F){s.syncTransition(c,{x:t,y:e}),typeof O=="function"&&Lt(O,s,F.originalEvent)}).css({transform:o,transformOrigin:a,transition:"transform",transitionDuration:r.duration||"1s",transitionDelay:r.delay,transitionTimingFunction:r.timing}),this},n.prototype.syncTransition=function(t,e){return this.beforeManipulation(),this.graph.scale(t),this.removeTransition(),this.centerPoint(e.x,e.y),this.afterManipulation(),this},n.prototype.removeTransition=function(){return this.$container.removeClass(kr.transitionClassName),this.$content.off(kr.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this},n.prototype.transitionToRect=function(t,e){e===void 0&&(e={});var r=l.Rectangle.create(t),o=e.maxScale||1/0,a=e.minScale||Number.MIN_VALUE,s=e.scaleGrid||null,u=e.visibility||1,c=e.center?l.Point.create(e.center):r.getCenter(),h=this.getClientSize(),d=h.width*u,g=h.height*u,C=new l.Rectangle(c.x-d/2,c.y-g/2,d,g).getMaxUniformScaleToFit(r,c);return C=Math.min(C,o),s&&(C=Math.floor(C/s)*s),C=Math.max(a,C),this.transitionToPoint(c,y({scale:C},e))},n.prototype.startPanning=function(t){var e=this.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("pan:start",{e}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))},n.prototype.pan=function(t){var e=this.normalizeEvent(t),r=e.clientX-this.clientX,o=e.clientY-this.clientY;this.container.scrollTop-=o,this.container.scrollLeft-=r,this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("panning",{e})},n.prototype.stopPanning=function(t){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e:t})},n.prototype.clientToLocalPoint=function(t,e){var r=typeof t=="object"?t.x:t,o=typeof t=="object"?t.y:e,a=this.graph.matrix();return r+=this.container.scrollLeft-this.padding.left-a.e,o+=this.container.scrollTop-this.padding.top-a.f,new l.Point(r/a.a,o/a.d)},n.prototype.localToBackgroundPoint=function(t,e){var r=typeof t=="object"?l.Point.create(t):new l.Point(t,e),o=this.graph.matrix(),a=this.padding;return Ur(r,o).translate(a.left,a.top)},n.prototype.resize=function(t,e){var r=t!=null?t:this.container.offsetWidth,o=e!=null?e:this.container.offsetHeight;typeof r=="number"&&(r=Math.round(r)),typeof o=="number"&&(o=Math.round(o)),this.options.width=r,this.options.height=o,this.$container.css({width:r,height:o}),this.update()},n.prototype.getClientSize=function(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}},n.prototype.autoScroll=function(t,e){var r=10,o=this.container,a=o.getBoundingClientRect(),s=0,u=0;return t<=a.left+r&&(s=-10),e<=a.top+r&&(u=-10),t>=a.right-r&&(s=r),e>=a.bottom-r&&(u=r),s!==0&&(o.scrollLeft+=s),u!==0&&(o.scrollTop+=u),{scrollerX:s,scrollerY:u}},n.prototype.addPadding=function(t,e,r,o){var a=this.getPadding();this.padding={left:Math.round(a.left+(t||0)),top:Math.round(a.top+(r||0)),bottom:Math.round(a.bottom+(o||0)),right:Math.round(a.right+(e||0))},a=this.padding,this.$content.css({width:a.left+this.graph.options.width+a.right,height:a.top+this.graph.options.height+a.bottom});var s=this.graph.container;return s.style.left=this.padding.left+"px",s.style.top=this.padding.top+"px",this},n.prototype.getPadding=function(){var t=this.options.padding;return sr(typeof t=="function"?Lt(t,this,this):t)},n.prototype.getVisibleArea=function(){var t=this.graph.matrix(),e=this.getClientSize(),r=tr({x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:e.width,height:e.height},t.inverse());return r.x-=(this.padding.left||0)/this.sx,r.y-=(this.padding.top||0)/this.sy,r},n.prototype.isCellVisible=function(t,e){e===void 0&&(e={});var r=t.getBBox(),o=this.getVisibleArea();return e.strict?o.containsRect(r):o.isIntersectWithRect(r)},n.prototype.isPointVisible=function(t){return this.getVisibleArea().containsPoint(t)},n.prototype.lock=function(){return this.$container.css("overflow","hidden"),this},n.prototype.unlock=function(){return this.$container.css("overflow","scroll"),this},n.prototype.onRemove=function(){this.stopListening()},n.prototype.dispose=function(){this.$(this.graph.container).insertBefore(this.$container),this.remove()},P([l.View.dispose()],n.prototype,"dispose",null),n}(l.View);function Mn(i,n,t,e){if(e===void 0&&(e={}),t){var r=t.graph,o=r.view.normalizeEvent(n),a=r.snapToGrid(o.clientX,o.clientY);t.notify(i,y({e:o,view:t,node:t.cell,cell:t.cell,x:a.x,y:a.y},e))}}(function(i){var n=function(t){function e(r){var o=t.call(this,r.graph)||this;return o.scroller=r,r.options.background&&o.draw(r.options.background),o}return x(e,t),Object.defineProperty(e.prototype,"elem",{get:function(){return this.scroller.background},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)},e.prototype.updateBackgroundOptions=function(r){this.scroller.options.background=r},e}(Yh);i.Background=n})(du||(du={})),function(i){i.containerClass="graph-scroller",i.panningClass=i.containerClass+"-panning",i.pannableClass=i.containerClass+"-pannable",i.pagedClass=i.containerClass+"-paged",i.contentClass=i.containerClass+"-content",i.backgroundClass=i.containerClass+"-background",i.transitionClassName="transition-in-progress",i.transitionEventName="transitionend.graph-scroller-transition",i.defaultOptions={padding:function(){var n=this.getClientSize(),t=Math.max(this.options.minVisibleWidth||0,1)||1,e=Math.max(this.options.minVisibleHeight||0,1)||1,r=Math.max(n.width-t,0),o=Math.max(n.height-e,0);return{left:r,top:o,right:r,bottom:o}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0},i.getOptions=function(n){var t=Ve({},i.defaultOptions,n);return t.pageWidth==null&&(t.pageWidth=n.graph.options.width),t.pageHeight==null&&(t.pageHeight=n.graph.options.height),t}}(kr||(kr={}));var er,Kh=function(i){function n(t){var e=i.call(this)||this;return e.options=Ve({},er.defaultOptions,t),e.options.model&&(e.options.collection=e.options.model.collection),e.options.collection?e.collection=e.options.collection:(e.collection=new Gh([],{comparator:er.depthComparator}),e.options.collection=e.collection),e.boxCount=0,e.createContainer(),e.initHandles(),e.startListening(),e}return x(n,i),Object.defineProperty(n.prototype,"graph",{get:function(){return this.options.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"boxClassName",{get:function(){return this.prefixClassName(er.classNames.box)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"$boxes",{get:function(){return this.$container.children("."+this.boxClassName)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"handleOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),n.prototype.startListening=function(){var t,e=this.graph,r=this.collection;this.delegateEvents(((t={})["mousedown ."+this.boxClassName]="onSelectionBoxMouseDown",t["touchstart ."+this.boxClassName]="onSelectionBoxMouseDown",t),!0),e.on("scale",this.onGraphTransformed,this),e.on("translate",this.onGraphTransformed,this),e.model.on("updated",this.onModelUpdated,this),r.on("added",this.onCellAdded,this),r.on("removed",this.onCellRemoved,this),r.on("reseted",this.onReseted,this),r.on("updated",this.onCollectionUpdated,this),r.on("node:change:position",this.onNodePositionChanged,this),r.on("cell:changed",this.onCellChanged,this)},n.prototype.stopListening=function(){var t=this.graph,e=this.collection;this.undelegateEvents(),t.off("scale",this.onGraphTransformed,this),t.off("translate",this.onGraphTransformed,this),t.model.off("updated",this.onModelUpdated,this),e.off("added",this.onCellAdded,this),e.off("removed",this.onCellRemoved,this),e.off("reseted",this.onReseted,this),e.off("updated",this.onCollectionUpdated,this),e.off("node:change:position",this.onNodePositionChanged,this),e.off("cell:changed",this.onCellChanged,this)},n.prototype.onRemove=function(){this.stopListening()},n.prototype.onGraphTransformed=function(){this.updateSelectionBoxes({async:!1})},n.prototype.onCellChanged=function(){this.updateSelectionBoxes()},n.prototype.onNodePositionChanged=function(t){var e=t.node,r=t.options,o=this.options,a=o.showNodeSelectionBox,s=o.pointerEvents,u=r.ui,c=r.selection,h=r.translateBy,d=r.snapped,g=!(a===!0&&s!=="none"||this.translating||c),C=u&&h&&e.id===h;if(g&&(C||d)){this.translating=!0;var A=e.position(),D=e.previous("position"),k=A.x-D.x,O=A.y-D.y;k===0&&O===0||this.translateSelectedNodes(k,O,e,r),this.translating=!1}},n.prototype.onModelUpdated=function(t){var e=t.removed;e&&e.length&&this.unselect(e)},n.prototype.isEmpty=function(){return this.length<=0},n.prototype.isSelected=function(t){return this.collection.has(t)},Object.defineProperty(n.prototype,"length",{get:function(){return this.collection.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cells",{get:function(){return this.collection.toArray()},enumerable:!1,configurable:!0}),n.prototype.select=function(t,e){e===void 0&&(e={}),e.dryrun=!0;var r=this.filter(Array.isArray(t)?t:[t]);return this.collection.add(r,e),this},n.prototype.unselect=function(t,e){return e===void 0&&(e={}),e.dryrun=!0,this.collection.remove(Array.isArray(t)?t:[t],e),this},n.prototype.reset=function(t,e){if(e===void 0&&(e={}),t){if(e.batch){var r=this.filter(Array.isArray(t)?t:[t]);return this.collection.reset(r,y(y({},e),{ui:!0})),this}var o=this.cells,a=this.filter(Array.isArray(t)?t:[t]),s={},u={};o.forEach(function(d){return s[d.id]=d}),a.forEach(function(d){return u[d.id]=d});var c=[],h=[];return a.forEach(function(d){s[d.id]||c.push(d)}),o.forEach(function(d){u[d.id]||h.push(d)}),h.length&&this.unselect(h,y(y({},e),{ui:!0})),c.length&&this.select(c,y(y({},e),{ui:!0})),h.length===0&&c.length===0&&this.updateContainer(),this}return this.clean(e)},n.prototype.clean=function(t){return t===void 0&&(t={}),this.length&&(t.batch===!1?this.unselect(this.cells,t):this.collection.reset([],y(y({},t),{ui:!0}))),this},n.prototype.setFilter=function(t){this.options.filter=t},n.prototype.setContent=function(t){this.options.content=t},n.prototype.startSelecting=function(t){var e,r;t=this.normalizeEvent(t),this.clean();var o=this.graph.container;if(t.offsetX!=null&&t.offsetY!=null&&o.contains(t.target))e=t.offsetX,r=t.offsetY;else{var a=this.$(o).offset(),s=o.scrollLeft,u=o.scrollTop;e=t.clientX-a.left+window.pageXOffset+s,r=t.clientY-a.top+window.pageYOffset+u}this.$container.css({top:r,left:e,width:1,height:1}),this.setEventData(t,{action:"selecting",clientX:t.clientX,clientY:t.clientY,offsetX:e,offsetY:r,scrollerX:0,scrollerY:0,moving:!1}),this.delegateDocumentEvents(er.documentEvents,t.data)},n.prototype.filter=function(t){var e=this,r=this.options.filter;return Array.isArray(r)?t.filter(function(o){return!r.includes(o)&&!r.includes(o.shape)}):typeof r=="function"?t.filter(function(o){return Lt(r,e.graph,o)}):t},n.prototype.stopSelecting=function(t){var e=this.graph,r=this.getEventData(t);switch(r.action){case"selecting":var o=this.$container.width(),a=this.$container.height(),s=this.$container.offset(),u=e.pageToLocal(s.left,s.top),c=e.transform.getScale();o/=c.sx,a/=c.sy;var h=new l.Rectangle(u.x,u.y,o,a),d=this.getCellViewsInArea(h).map(function(A){return A.cell});this.reset(d,{batch:!0}),this.hideRubberband();break;case"translating":var g=e.snapToGrid(t.clientX,t.clientY);if(!this.options.following){var C=r;this.updateSelectedNodesPosition({dx:C.clientX-C.originX,dy:C.clientY-C.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",t,g.x,g.y);break;default:this.clean()}},n.prototype.onMouseUp=function(t){this.getEventData(t).action&&(this.stopSelecting(t),this.undelegateDocumentEvents())},n.prototype.onSelectionBoxMouseDown=function(t){this.options.following||t.stopPropagation();var e=this.normalizeEvent(t);this.options.movable&&this.startTranslating(e);var r=this.getCellViewFromElem(e.target);this.setEventData(e,{activeView:r});var o=this.graph.snapToGrid(e.clientX,e.clientY);this.notifyBoxEvent("box:mousedown",e,o.x,o.y),this.delegateDocumentEvents(er.documentEvents,e.data)},n.prototype.startTranslating=function(t){this.graph.model.startBatch("move-selection");var e=this.graph.snapToGrid(t.clientX,t.clientY);this.setEventData(t,{action:"translating",clientX:e.x,clientY:e.y,originX:e.x,originY:e.y})},n.prototype.getSelectionOffset=function(t,e){var r=t.x-e.clientX,o=t.y-e.clientY,a=this.graph.hook.getRestrictArea();if(a){var s=this.collection.toArray(),u=l.Cell.getCellsBBox(s,{deep:!0})||l.Rectangle.create(),c=a.x-u.x,h=a.y-u.y,d=a.x+a.width-(u.x+u.width),g=a.y+a.height-(u.y+u.height);if(r<c&&(r=c),o<h&&(o=h),d<r&&(r=d),g<o&&(o=g),!this.options.following){var C=t.x-e.originX,A=t.y-e.originY;r=C<=c||C>=d?0:r,o=A<=h||A>=g?0:o}}return{dx:r,dy:o}},n.prototype.updateSelectedNodesPosition=function(t){var e=t.dx,r=t.dy;if(e||r)if(this.translateSelectedNodes(e,r),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{var o=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:"+="+e*o.sx,top:"+="+r*o.sy})}},n.prototype.autoScrollGraph=function(t,e){var r=this.graph.scroller.widget;return r?r.autoScroll(t,e):{scrollerX:0,scrollerY:0}},n.prototype.adjustSelection=function(t){var e=this.normalizeEvent(t),r=this.getEventData(e);switch(r.action){case"selecting":(C=r).moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),C.moving=!0);var o=this.autoScrollGraph(e.clientX,e.clientY),a=o.scrollerX,s=o.scrollerY;C.scrollerX+=a,C.scrollerY+=s;var u=e.clientX-C.clientX+C.scrollerX,c=e.clientY-C.clientY+C.scrollerY,h=parseInt(this.$container.css("left"),10),d=parseInt(this.$container.css("top"),10);this.$container.css({left:u<0?C.offsetX+u:h,top:c<0?C.offsetY+c:d,width:Math.abs(u),height:Math.abs(c)});break;case"translating":var g=this.graph.snapToGrid(e.clientX,e.clientY),C=r,A=this.getSelectionOffset(g,C);this.options.following?this.updateSelectedNodesPosition(A):this.updateContainerPosition(A),A.dx&&(C.clientX=g.x),A.dy&&(C.clientY=g.y),this.notifyBoxEvent("box:mousemove",t,g.x,g.y)}this.boxesUpdated=!1},n.prototype.translateSelectedNodes=function(t,e,r,o){var a=this,s={},u=[];if(r&&(s[r.id]=!0),this.collection.toArray().forEach(function(h){h.getDescendants({deep:!0}).forEach(function(d){s[d.id]=!0})}),o&&o.translateBy){var c=this.graph.getCellById(o.translateBy);c&&(s[c.id]=!0,c.getDescendants({deep:!0}).forEach(function(h){s[h.id]=!0}),u.push(c))}this.collection.toArray().forEach(function(h){if(!s[h.id]){var d=y(y({},o),{selection:a.cid,exclude:u});h.translate(t,e,d),a.graph.model.getConnectedEdges(h).forEach(function(g){s[g.id]||(g.translate(t,e,d),s[g.id]=!0)})}})},n.prototype.getCellViewsInArea=function(t){var e=this.graph,r={strict:this.options.strict},o=[];return this.options.rubberNode&&(o=this.options.useCellGeometry?o.concat(e.model.getNodesInArea(t,r).map(function(a){return e.renderer.findViewByCell(a)}).filter(function(a){return a!=null})):o.concat(e.renderer.findViewsInArea(t,r))),this.options.rubberEdge&&(o=this.options.useCellGeometry?o.concat(e.model.getEdgesInArea(t,r).map(function(a){return e.renderer.findViewByCell(a)}).filter(function(a){return a!=null})):o.concat(e.renderer.findEdgeViewsInArea(t,r))),o},n.prototype.notifyBoxEvent=function(t,e,r,o){var a=this.getEventData(e).activeView;this.trigger(t,{e,view:a,x:r,y:o,cell:a.cell})},n.prototype.getSelectedClassName=function(t){return this.prefixClassName((t.isNode()?"node":"edge")+"-selected")},n.prototype.addCellSelectedClassName=function(t){var e=this.graph.renderer.findViewByCell(t);e&&e.addClass(this.getSelectedClassName(t))},n.prototype.removeCellUnSelectedClassName=function(t){var e=this.graph.renderer.findViewByCell(t);e&&e.removeClass(this.getSelectedClassName(t))},n.prototype.destroySelectionBox=function(t){this.removeCellUnSelectedClassName(t),this.canShowSelectionBox(t)&&(this.$container.find('[data-cell-id="'+t.id+'"]').remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))},n.prototype.destroyAllSelectionBoxes=function(t){var e=this;t.forEach(function(r){return e.removeCellUnSelectedClassName(r)}),this.hide(),this.$boxes.remove(),this.boxCount=0},n.prototype.hide=function(){this.$container.removeClass(this.prefixClassName(er.classNames.rubberband)).removeClass(this.prefixClassName(er.classNames.selected))},n.prototype.showRubberband=function(){this.$container.addClass(this.prefixClassName(er.classNames.rubberband))},n.prototype.hideRubberband=function(){this.$container.removeClass(this.prefixClassName(er.classNames.rubberband))},n.prototype.showSelected=function(){this.$container.removeAttr("style").addClass(this.prefixClassName(er.classNames.selected))},n.prototype.createContainer=function(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(er.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(er.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(er.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer},n.prototype.updateContainerPosition=function(t){(t.dx||t.dy)&&this.$selectionContainer.css({left:"+="+t.dx,top:"+="+t.dy})},n.prototype.updateContainer=function(){var t=this,e={x:1/0,y:1/0},r={x:0,y:0};this.collection.toArray().filter(function(s){return t.canShowSelectionBox(s)}).forEach(function(s){var u=t.graph.renderer.findViewByCell(s);if(u){var c=u.getBBox({useCellGeometry:t.options.useCellGeometry});e.x=Math.min(e.x,c.x),e.y=Math.min(e.y,c.y),r.x=Math.max(r.x,c.x+c.width),r.y=Math.max(r.y,c.y+c.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:e.x,top:e.y,width:r.x-e.x,height:r.y-e.y}).attr("data-selection-length",this.collection.length);var o=this.options.content;if(o)if(typeof o=="function"){var a=Lt(o,this.graph,this,this.$selectionContent[0]);a&&this.$selectionContent.html(a)}else this.$selectionContent.html(o);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)},n.prototype.canShowSelectionBox=function(t){return t.isNode()&&this.options.showNodeSelectionBox===!0||t.isEdge()&&this.options.showEdgeSelectionBox===!0},n.prototype.createSelectionBox=function(t){if(this.addCellSelectedClassName(t),this.canShowSelectionBox(t)){var e=this.graph.renderer.findViewByCell(t);if(e){var r=e.getBBox({useCellGeometry:this.options.useCellGeometry}),o=this.boxClassName;this.$("<div/>").addClass(o).addClass(o+"-"+(t.isNode()?"node":"edge")).attr("data-cell-id",t.id).css({position:"absolute",left:r.x,top:r.y,width:r.width,height:r.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}},n.prototype.updateSelectionBoxes=function(t){t===void 0&&(t={}),this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,t))},n.prototype.confirmUpdate=function(){var t=this;return this.boxCount&&(this.hide(),this.$boxes.each(function(e,r){var o=t.$(r).remove().attr("data-cell-id"),a=t.collection.get(o);a&&t.createSelectionBox(a)}),this.updateContainer()),0},n.prototype.getCellViewFromElem=function(t){var e=t.getAttribute("data-cell-id");if(e){var r=this.collection.get(e);if(r)return this.graph.renderer.findViewByCell(r)}return null},n.prototype.onCellRemoved=function(t){var e=t.cell;this.destroySelectionBox(e),this.updateContainer()},n.prototype.onReseted=function(t){var e=this,r=t.previous,o=t.current;this.destroyAllSelectionBoxes(r),o.forEach(function(a){e.listenCellRemoveEvent(a),e.createSelectionBox(a)}),this.updateContainer()},n.prototype.onCellAdded=function(t){var e=t.cell;this.listenCellRemoveEvent(e),this.createSelectionBox(e),this.updateContainer()},n.prototype.listenCellRemoveEvent=function(t){t.off("removed",this.onCellRemoved,this),t.on("removed",this.onCellRemoved,this)},n.prototype.onCollectionUpdated=function(t){var e=this,r=t.added,o=t.removed,a=t.options;r.forEach(function(u){e.trigger("cell:selected",{cell:u,options:a}),e.graph.trigger("cell:selected",{cell:u,options:a}),u.isNode()?(e.trigger("node:selected",{cell:u,options:a,node:u}),e.graph.trigger("node:selected",{cell:u,options:a,node:u})):u.isEdge()&&(e.trigger("edge:selected",{cell:u,options:a,edge:u}),e.graph.trigger("edge:selected",{cell:u,options:a,edge:u}))}),o.forEach(function(u){e.trigger("cell:unselected",{cell:u,options:a}),e.graph.trigger("cell:unselected",{cell:u,options:a}),u.isNode()?(e.trigger("node:unselected",{cell:u,options:a,node:u}),e.graph.trigger("node:unselected",{cell:u,options:a,node:u})):u.isEdge()&&(e.trigger("edge:unselected",{cell:u,options:a,edge:u}),e.graph.trigger("edge:unselected",{cell:u,options:a,edge:u}))});var s={added:r,removed:o,options:a,selected:this.cells.filter(function(u){return!!e.graph.getCellById(u.id)})};this.trigger("selection:changed",s),this.graph.trigger("selection:changed",s)},n.prototype.deleteSelectedCells=function(){var t=this.collection.toArray();this.clean(),this.graph.model.removeCells(t,{selection:this.cid})},n.prototype.startRotate=function(t){var e=t.e,r=this.collection.toArray(),o=l.Cell.getCellsBBox(r).getCenter(),a=this.graph.snapToGrid(e.clientX,e.clientY),s=r.reduce(function(u,c){return u[c.id]=l.Angle.normalize(c.getAngle()),u},{});this.setEventData(e,{center:o,angles:s,start:a.theta(o)})},n.prototype.doRotate=function(t){var e=this,r=t.e,o=this.getEventData(r),a=this.graph.options.rotating.grid,s=typeof a=="function"?Lt(a,this.graph,null):a,u=this.graph.snapToGrid(r.clientX,r.clientY),c=o.start-u.theta(o.center);o.rotated||(o.rotated=!0),Math.abs(c)>.001&&(this.collection.toArray().forEach(function(h){var d=l.Util.snapToGrid(o.angles[h.id]+c,s||15);h.rotate(d,{absolute:!0,center:o.center,selection:e.cid})}),this.updateSelectionBoxes())},n.prototype.stopRotate=function(t){var e=this,r=t.e,o=this.getEventData(r);o.rotated&&(o.rotated=!1,this.collection.toArray().forEach(function(a){Mn("node:rotated",r,e.graph.findViewByCell(a))}))},n.prototype.startResize=function(t){var e=t.e,r=this.graph.getGridSize(),o=this.collection.toArray(),a=l.Cell.getCellsBBox(o),s=o.map(function(h){return h.getBBox()}),u=s.reduce(function(h,d){return d.width<h?d.width:h},1/0),c=s.reduce(function(h,d){return d.height<h?d.height:h},1/0);this.setEventData(e,{bbox:a,cells:this.graph.model.getSubGraph(o),minWidth:r*a.width/u,minHeight:r*a.height/c})},n.prototype.doResize=function(t){var e=t.e,r=t.dx,o=t.dy,a=this.eventData(e),s=a.bbox,u=s.width,c=s.height,h=Math.max(u+r,a.minWidth),d=Math.max(c+o,a.minHeight);a.resized||(a.resized=!0),(Math.abs(u-h)>.001||Math.abs(c-d)>.001)&&(this.graph.model.resizeCells(h,d,a.cells,{selection:this.cid}),s.width=h,s.height=d,this.updateSelectionBoxes())},n.prototype.stopResize=function(t){var e=this,r=t.e,o=this.eventData(r);o.resized&&(o.resized=!1,this.collection.toArray().forEach(function(a){Mn("node:resized",r,e.graph.findViewByCell(a))}))},n.prototype.dispose=function(){this.clean(),this.remove()},P([l.View.dispose()],n.prototype,"dispose",null),n}(l.View);Uc(Kh,ps),function(i){var n="widget-selection";i.classNames={root:n,inner:n+"-inner",box:n+"-box",content:n+"-content",rubberband:n+"-rubberband",selected:n+"-selected"},i.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content:function(t){return li('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:t.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]},i.depthComparator=function(t){return t.getAncestors().length}}(er||(er={}));var Fn,Xr,Jh=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"node",{get:function(){return this.cell},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"containerClassName",{get:function(){return this.prefixClassName("widget-transform")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizeClassName",{get:function(){return this.containerClassName+"-resize"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rotateClassName",{get:function(){return this.containerClassName+"-rotate"},enumerable:!1,configurable:!0}),n.prototype.init=function(t){this.options=y(y({},Fn.defaultOptions),t),this.render(),this.startListening()},n.prototype.startListening=function(){var t;this.delegateEvents(((t={})["mousedown ."+this.resizeClassName]="startResizing",t["touchstart ."+this.resizeClassName]="startResizing",t["mousedown ."+this.rotateClassName]="startRotating",t["touchstart ."+this.rotateClassName]="startRotating",t)),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),i.prototype.startListening.call(this)},n.prototype.stopListening=function(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),i.prototype.stopListening.call(this)},n.prototype.renderHandles=function(){var t=this;this.container=document.createElement("div"),this.$container=this.$(this.container);var e=this.$("<div/>").prop("draggable",!1),r=e.clone().addClass(this.rotateClassName),o=Fn.POSITIONS.map(function(a){return e.clone().addClass(t.resizeClassName).attr("data-position",a)});this.empty(),this.$container.append(o,r)},n.prototype.render=function(){return this.renderHandles(),this.view.addClass(Fn.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()},n.prototype.update=function(){var t=this.graph.matrix(),e=this.node.getBBox();e.x*=t.a,e.x+=t.e,e.y*=t.d,e.y+=t.f,e.width*=t.a,e.height*=t.d;var r=l.Angle.normalize(this.node.getAngle()),o=r!==0?"rotate("+r+"deg)":"";return this.$container.css({transform:o,width:e.width,height:e.height,left:e.x,top:e.y}),this.updateResizerDirections(),this},n.prototype.remove=function(){return this.view.removeClass(Fn.NODE_CLS),i.prototype.remove.call(this)},n.prototype.onKnobMouseDown=function(){this.startHandle()},n.prototype.onKnobMouseUp=function(){this.stopHandle()},n.prototype.updateResizerDirections=function(){var t=this,e=l.Angle.normalize(this.node.getAngle()),r=Math.floor(e*(Fn.DIRECTIONS.length/360));if(r!==this.prevShift){var o=Fn.DIRECTIONS.slice(r).concat(Fn.DIRECTIONS.slice(0,r)),a=function(s){return t.containerClassName+"-cursor-"+s};this.$container.find("."+this.resizeClassName).removeClass(Fn.DIRECTIONS.map(function(s){return a(s)}).join(" ")).each(function(s,u){t.$(u).addClass(a(o[s]))}),this.prevShift=r}},n.prototype.getTrueDirection=function(t){var e=l.Angle.normalize(this.node.getAngle()),r=Fn.POSITIONS.indexOf(t);return r+=Math.floor(e*(Fn.POSITIONS.length/360)),r%=Fn.POSITIONS.length,Fn.POSITIONS[r]},n.prototype.toValidResizeDirection=function(t){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[t]||t},n.prototype.startResizing=function(t){t.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});var e=this.$(t.target).attr("data-position"),r=this.graph.findViewByCell(this.node);this.prepareResizing(t,e),this.startAction(t),Mn("node:resize:mousedown",t,r)},n.prototype.prepareResizing=function(t,e){var r=this.getTrueDirection(e),o=0,a=0;e.split("-").forEach(function(h){o={left:-1,right:1}[h]||o,a={top:-1,bottom:1}[h]||a});var s=this.toValidResizeDirection(e),u={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[s],c=l.Angle.normalize(this.node.getAngle());this.setEventData(t,{selector:u,direction:s,trueDirection:r,relativeDirection:e,angle:c,resizeX:o,resizeY:a,action:"resizing"})},n.prototype.startRotating=function(t){t.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});var e=this.graph.findViewByCell(this.node),r=this.node.getBBox().getCenter(),o=this.normalizeEvent(t),a=this.graph.snapToGrid(o.clientX,o.clientY);this.setEventData(t,{center:r,action:"rotating",angle:l.Angle.normalize(this.node.getAngle()),start:l.Point.create(a).theta(r)}),this.startAction(t),Mn("node:rotate:mousedown",t,e)},n.prototype.onMouseMove=function(t){var e=this.graph.findViewByCell(this.node),r=this.getEventData(t);if(r.action){var o=this.normalizeEvent(t),a=o.clientX,s=o.clientY,u=this.graph.scroller.widget,c=this.options.restrictedResizing;if(c===!0||typeof c=="number"){var h=c===!0?0:c,d=u?Math.max(h,8):h,g=this.graph.container.getBoundingClientRect();a=Jn(a,g.left+d,g.right-d),s=Jn(s,g.top+d,g.bottom-d)}else this.options.autoScrollOnResizing&&u&&u.autoScroll(a,s);var C=this.graph.snapToGrid(a,s),A=this.graph.getGridSize(),D=this.node,k=this.options;if(r.action==="resizing"){(r=r).resized||(e&&(e.addClass("node-resizing"),Mn("node:resize",t,e)),r.resized=!0);var O=D.getBBox(),F=l.Point.create(C).rotate(r.angle,O.getCenter()).diff(O[r.selector]),B=r.resizeX?F.x*r.resizeX:O.width,z=r.resizeY?F.y*r.resizeY:O.height,Y=B,w=z;if(B=l.Util.snapToGrid(B,A),z=l.Util.snapToGrid(z,A),B=Math.max(B,k.minWidth||A),z=Math.max(z,k.minHeight||A),B=Math.min(B,k.maxWidth||1/0),z=Math.min(z,k.maxHeight||1/0),k.preserveAspectRatio){var Q=O.width*z/O.height,J=O.height*B/O.width;B<Q?z=J:B=Q}var nt=r.relativeDirection;if(k.allowReverse&&(Y<=-B||w<=-z)){var lt=void 0;nt==="left"?Y<=-B&&(lt="right"):nt==="right"?Y<=-B&&(lt="left"):nt==="top"?w<=-z&&(lt="bottom"):nt==="bottom"?w<=-z&&(lt="top"):nt==="top-left"?Y<=-B&&w<=-z?lt="bottom-right":Y<=-B?lt="top-right":w<=-z&&(lt="bottom-left"):nt==="top-right"?Y<=-B&&w<=-z?lt="bottom-left":Y<=-B?lt="top-left":w<=-z&&(lt="bottom-right"):nt==="bottom-left"?Y<=-B&&w<=-z?lt="top-right":Y<=-B?lt="bottom-right":w<=-z&&(lt="top-left"):nt==="bottom-right"&&(Y<=-B&&w<=-z?lt="top-left":Y<=-B?lt="bottom-left":w<=-z&&(lt="top-right"));var ut=lt;this.stopHandle();var xt=this.$container.find("."+this.resizeClassName+'[data-position="'+ut+'"]');this.startHandle(xt[0]),this.prepareResizing(t,ut),this.onMouseMove(t)}if(O.width!==B||O.height!==z){var Dt={ui:!0,direction:r.direction,relativeDirection:r.relativeDirection,trueDirection:r.trueDirection,minWidth:k.minWidth,minHeight:k.minHeight,maxWidth:k.maxWidth,maxHeight:k.maxHeight,preserveAspectRatio:k.preserveAspectRatio===!0};D.resize(B,z,Dt),Mn("node:resizing",t,e)}Mn("node:resize:mousemove",t,e)}else if(r.action==="rotating"){(r=r).rotated||(e&&(e.addClass("node-rotating"),Mn("node:rotate",t,e)),r.rotated=!0);var ft=D.getAngle(),At=r.start-l.Point.create(C).theta(r.center),Ot=r.angle+At;k.rotateGrid&&(Ot=l.Util.snapToGrid(Ot,k.rotateGrid)),ft!==(Ot=l.Angle.normalize(Ot))&&(D.rotate(Ot,{absolute:!0}),Mn("node:rotating",t,e)),Mn("node:rotate:mousemove",t,e)}}},n.prototype.onMouseUp=function(t){var e=this.graph.findViewByCell(this.node),r=this.getEventData(t);r.action&&(this.stopAction(t),this.model.stopBatch(r.action==="resizing"?"resize":"rotate",{cid:this.cid}),r.action==="resizing"?Mn("node:resize:mouseup",t,e):r.action==="rotating"&&Mn("node:rotate:mouseup",t,e))},n.prototype.startHandle=function(t){if(this.handle=t||null,this.$container.addClass(this.containerClassName+"-active"),t){this.$(t).addClass(this.containerClassName+"-active-handle");var e=t.getAttribute("data-position");if(e){var r=Fn.DIRECTIONS[Fn.POSITIONS.indexOf(e)];this.$container.addClass(this.containerClassName+"-cursor-"+r)}}},n.prototype.stopHandle=function(){if(this.$container.removeClass(this.containerClassName+"-active"),this.handle){this.$(this.handle).removeClass(this.containerClassName+"-active-handle");var t=this.handle.getAttribute("data-position");if(t){var e=Fn.DIRECTIONS[Fn.POSITIONS.indexOf(t)];this.$container.removeClass(this.containerClassName+"-cursor-"+e)}this.handle=null}},n.prototype.startAction=function(t){this.startHandle(t.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Fn.documentEvents,t.data)},n.prototype.stopAction=function(t){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();var e=this.graph.findViewByCell(this.node),r=this.getEventData(t);e&&(e.removeClass("node-"+r.action),r.action==="resizing"&&r.resized?Mn("node:resized",t,e):r.action==="rotating"&&r.rotated&&Mn("node:rotated",t,e))},n}(Wh);(function(i){i.NODE_CLS="has-widget-transform",i.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],i.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},i.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(Fn||(Fn={})),function(i){i.parseOptionGroup=function(n,t,e){var r={};return Object.keys(e||{}).forEach(function(o){var a=e[o];r[o]=typeof a=="function"?a.call(n,t):a}),r}}(Xr||(Xr={})),function(i){i.get=function(n){var t=n.grid;n.panning,n.selecting,n.embedding,n.snapline,n.resizing,n.rotating,n.knob,n.clipboard,n.history,n.scroller,n.minimap,n.keyboard,n.mousewheel;var e=f(n,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),r=n.container;if(r==null)throw new Error("Ensure the container of the graph is specified and valid");e.width==null&&(e.width=r.clientWidth),e.height==null&&(e.height=r.clientHeight);var o=Ve({},i.defaults,e),a={size:10,visible:!1};return o.grid=typeof t=="number"?{size:t,visible:!1}:y(y({},a),typeof t=="boolean"?{visible:t}:t),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(function(s){var u=n[s];typeof u=="boolean"?o[s].enabled=u:o[s]=y(y({},o[s]),u)}),o.background&&o.scroller.enabled&&o.scroller.background==null&&(o.scroller.background=o.background,delete o.background),o}}(Xr||(Xr={})),function(i){i.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:l.Util.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:l.Util.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection:function(n){var t=n.type,e=n.sourceView,r=n.targetView;return(t==="target"?r:e)!=null},createEdge:function(){return new Hh}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:function(){return!0}},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:function(){return!1}}}(Xr||(Xr={}));var Jo,n0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"cid",{get:function(){return this.graph.view.cid},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"svg",{get:function(){return this.view.svg},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defs",{get:function(){return this.view.defs},enumerable:!1,configurable:!0}),n.prototype.isDefined=function(t){return this.svg.getElementById(t)!=null},n.prototype.filter=function(t){var e=t.id,r=t.name;if(e||(e="filter-"+r+"-"+this.cid+"-"+yl(JSON.stringify(t))),!this.isDefined(e)){var o=gi.registry.get(r);if(o==null)return gi.registry.onNotFound(r);var a=o(t.args||{}),s=y(y({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});l.Vector.create(l.Markup.sanitize(a),s).appendTo(this.defs)}return e},n.prototype.gradient=function(t){var e=t.id,r=t.type;if(e||(e="gradient-"+r+"-"+this.cid+"-"+yl(JSON.stringify(t))),!this.isDefined(e)){var o="<"+r+">"+t.stops.map(function(s){var u=s.opacity!=null&&Number.isFinite(s.opacity)?s.opacity:1;return'<stop offset="'+s.offset+'" stop-color="'+s.color+'" stop-opacity="'+u+'"/>'}).join("")+"</"+r+">",a=y({id:e},t.attrs);l.Vector.create(o,a).appendTo(this.defs)}return e},n.prototype.marker=function(t){var e=t.id,r=t.refX,o=t.refY,a=t.markerUnits,s=t.markerOrient,u=t.tagName,c=t.children,h=f(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]),d=e;if(d||(d="marker-"+this.cid+"-"+yl(JSON.stringify(t))),!this.isDefined(d)){u!=="path"&&delete h.d;var g=l.Vector.create("marker",{refX:r,refY:o,id:d,overflow:"visible",orient:s!=null?s:"auto",markerUnits:a||"userSpaceOnUse"},c?c.map(function(C){var A=C.tagName,D=f(C,["tagName"]);return l.Vector.create(""+A||"path",ta(y(y({},h),D)))}):[l.Vector.create(u||"path",ta(h))]);this.defs.appendChild(g.node)}return d},n.prototype.remove=function(t){var e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)},n}(ke),r0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"elem",{get:function(){return this.view.grid},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this.options.grid},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.startListening(),this.draw(this.grid)},n.prototype.startListening=function(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)},n.prototype.stopListening=function(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)},n.prototype.setVisible=function(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())},n.prototype.getGridSize=function(){return this.grid.size},n.prototype.setGridSize=function(t){this.grid.size=Math.max(t,1),this.update()},n.prototype.show=function(){this.setVisible(!0),this.update()},n.prototype.hide=function(){this.setVisible(!1),this.update()},n.prototype.clear=function(){this.elem.style.backgroundImage=""},n.prototype.draw=function(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()},n.prototype.update=function(t){t===void 0&&(t={});var e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();var r=this.graph.matrix(),o=this.getInstance(),a=Array.isArray(t)?t:[t];this.patterns.forEach(function(c,h){var d="pattern_"+h,g=r.a||1,C=r.d||1,A=c.update,D=c.markup,k=f(c,["update","markup"]),O=y(y(y({},k),a[h]),{sx:g,sy:C,ox:r.e||0,oy:r.f||0,width:e*g,height:e*C});o.has(d)||o.add(d,l.Vector.create("pattern",{id:d,patternUnits:"userSpaceOnUse"},l.Vector.createVectors(D)).node);var F=o.get(d);typeof A=="function"&&A(F.childNodes[0],O);var B=O.ox%O.width;B<0&&(B+=O.width);var z=O.oy%O.height;z<0&&(z+=O.height),Se(F,{x:B,y:z,width:O.width,height:O.height})});var s=new XMLSerializer().serializeToString(o.root),u="url(data:image/svg+xml;base64,"+btoa(s)+")";this.elem.style.backgroundImage=u},n.prototype.getInstance=function(){return this.instance||(this.instance=new xo),this.instance},n.prototype.resolveGrid=function(t){if(!t)return[];var e=t.type;if(e==null)return[y(y({},xo.presets.dot),t.args)];var r=xo.registry.get(e);if(r){var o=t.args||[];return Array.isArray(o)||(o=[o]),Array.isArray(r)?r.map(function(a,s){return y(y({},a),o[s])}):[y(y({},r),o[0])]}return xo.registry.onNotFound(e)},n.prototype.dispose=function(){this.stopListening(),this.clear()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke),o0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.getClientMatrix=function(){return Pn(this.view.stage.getScreenCTM())},n.prototype.getClientOffset=function(){var t=this.view.svg.getBoundingClientRect();return new l.Point(t.left,t.top)},n.prototype.getPageOffset=function(){return this.getClientOffset().translate(window.scrollX,window.scrollY)},n.prototype.snapToGrid=function(t,e){return(typeof t=="number"?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())},n.prototype.localToGraphPoint=function(t,e){return Ur(l.Point.create(t,e),this.graph.matrix())},n.prototype.localToClientPoint=function(t,e){return Ur(l.Point.create(t,e),this.getClientMatrix())},n.prototype.localToPagePoint=function(t,e){return(typeof t=="number"?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())},n.prototype.localToGraphRect=function(t,e,r,o){return tr(l.Rectangle.create(t,e,r,o),this.graph.matrix())},n.prototype.localToClientRect=function(t,e,r,o){return tr(l.Rectangle.create(t,e,r,o),this.getClientMatrix())},n.prototype.localToPageRect=function(t,e,r,o){return(typeof t=="number"?this.localToGraphRect(t,e,r,o):this.localToGraphRect(t)).translate(this.getPageOffset())},n.prototype.graphToLocalPoint=function(t,e){return Ur(l.Point.create(t,e),this.graph.matrix().inverse())},n.prototype.clientToLocalPoint=function(t,e){return Ur(l.Point.create(t,e),this.getClientMatrix().inverse())},n.prototype.clientToGraphPoint=function(t,e){return Ur(l.Point.create(t,e),this.graph.matrix().multiply(this.getClientMatrix().inverse()))},n.prototype.pageToLocalPoint=function(t,e){var r=l.Point.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(r)},n.prototype.graphToLocalRect=function(t,e,r,o){return tr(l.Rectangle.create(t,e,r,o),this.graph.matrix().inverse())},n.prototype.clientToLocalRect=function(t,e,r,o){return tr(l.Rectangle.create(t,e,r,o),this.getClientMatrix().inverse())},n.prototype.clientToGraphRect=function(t,e,r,o){return tr(l.Rectangle.create(t,e,r,o),this.graph.matrix().multiply(this.getClientMatrix().inverse()))},n.prototype.pageToLocalRect=function(t,e,r,o){var a=l.Rectangle.create(t,e,r,o),s=this.getPageOffset();return a.x-=s.x,a.y-=s.y,this.graphToLocalRect(a)},n}(ke),i0=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.widget=t.graph.hook.createSnapline(),t}return x(n,i),n.prototype.dispose=function(){this.widget.dispose()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke);(function(i){function n(t){var e=[],r=[];return Array.isArray(t)?e.push.apply(e,t):t.split("|").forEach(function(o){o.indexOf("&")===-1?e.push(o):r.push.apply(r,o.split("&"))}),{or:e,and:r}}i.parse=n,i.equals=function(t,e){if(t!=null&&e!=null){var r=n(t),o=n(e),a=r.or.sort(),s=o.or.sort(),u=r.and.sort(),c=o.and.sort(),h=function(d,g){return d.length===g.length&&(d.length===0||d.every(function(C,A){return C===g[A]}))};return h(a,s)&&h(u,c)}return t==null&&e==null},i.isMatch=function(t,e,r){if(e==null||Array.isArray(e)&&e.length===0)return!r||t.altKey!==!0&&t.ctrlKey!==!0&&t.metaKey!==!0&&t.shiftKey!==!0;var o=n(e),a=o.or,s=o.and,u=function(c){var h=c.toLowerCase()+"Key";return t[h]===!0};return a.some(function(c){return u(c)})&&s.every(function(c){return u(c)})}})(Jo||(Jo={}));var ln,a0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"widgetOptions",{get:function(){return this.options.scroller},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pannable",{get:function(){return!!this.widgetOptions&&(typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable)},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()},n.prototype.startListening=function(){var t=[],e=this.widgetOptions.pannable;(t=typeof e=="object"?e.eventTypes||[]:["leftMouseDown"]).includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))},n.prototype.stopListening=function(){var t=[],e=this.widgetOptions.pannable;(t=typeof e=="object"?e.eventTypes||[]:["leftMouseDown"]).includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)},n.prototype.onRightMouseDown=function(t){var e=this;t.button===2&&this.allowPanning(t,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",function(){return e.updateClassName(!1)}))},n.prototype.preparePanning=function(t){var e=this,r=t.e;this.widget&&(this.allowPanning(r,!0)||this.allowPanning(r)&&!this.graph.selection.allowRubberband(r,!0))&&(this.updateClassName(!0),this.widget.startPanning(r),this.widget.once("pan:stop",function(){return e.updateClassName(!1)}))},n.prototype.allowPanning=function(t,e){return this.widget&&this.pannable&&Jo.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)},n.prototype.updateClassName=function(t){if(this.widget!=null){var e=this.widget.container,r=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(Ee(e,r),e.dataset.panning=(!!t).toString()):mr(e,r)}},n.prototype.enablePanning=function(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())},n.prototype.disablePanning=function(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())},n.prototype.lock=function(){this.widget&&this.widget.lock()},n.prototype.unlock=function(){this.widget&&this.widget.unlock()},n.prototype.update=function(){this.widget&&this.widget.update()},n.prototype.enableAutoResize=function(){this.widget&&this.widget.enableAutoResize()},n.prototype.disableAutoResize=function(){this.widget&&this.widget.disableAutoResize()},n.prototype.resize=function(t,e){this.widget&&this.widget.resize(t,e)},n.prototype.dispose=function(){this.widget&&this.widget.dispose(),this.stopListening()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke),s0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"commonOptions",{get:function(){var t=this.instanceOptions;return t.enabled,f(t,["enabled"])},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"instanceOptions",{get:function(){return this.options.clipboard},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cells",{get:function(){return this.widget.cells},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.instanceOptions.enabled!==!0},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)},n.prototype.enable=function(){this.disabled&&(this.instanceOptions.enabled=!0)},n.prototype.disable=function(){this.disabled||(this.instanceOptions.enabled=!1)},n.prototype.copy=function(t,e){e===void 0&&(e={}),this.disabled||(this.widget.copy(t,this.graph,y(y({},this.commonOptions),e)),this.graph.trigger("clipboard:changed",{cells:t}))},n.prototype.cut=function(t,e){e===void 0&&(e={}),this.disabled||(this.widget.cut(t,this.graph,y(y({},this.commonOptions),e)),this.graph.trigger("clipboard:changed",{cells:t}))},n.prototype.paste=function(t,e){return t===void 0&&(t={}),e===void 0&&(e=this.graph),this.disabled?[]:this.widget.paste(e,y(y({},this.commonOptions),t))},n.prototype.clean=function(t){this.disabled&&!t||(this.widget.clean(),this.graph.trigger("clipboard:changed",{cells:[]}))},n.prototype.isEmpty=function(){return this.widget.isEmpty()},n.prototype.dispose=function(){this.clean(!0)},P([ke.dispose()],n.prototype,"dispose",null),n}(ke),l0=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.highlights={},t}return x(n,i),n.prototype.init=function(){this.startListening()},n.prototype.startListening=function(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)},n.prototype.stopListening=function(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)},n.prototype.onCellHighlight=function(t){var e=t.view,r=t.magnet,o=t.options,a=o===void 0?{}:o,s=this.resolveHighlighter(a);if(s){var u=this.getHighlighterId(r,s);if(!this.highlights[u]){var c=s.highlighter;c.highlight(e,r,y({},s.args)),this.highlights[u]={cellView:e,magnet:r,highlighter:c,args:s.args}}}},n.prototype.onCellUnhighlight=function(t){var e=t.magnet,r=t.options,o=r===void 0?{}:r,a=this.resolveHighlighter(o);if(a){var s=this.getHighlighterId(e,a);this.unhighlight(s)}},n.prototype.resolveHighlighter=function(t){var e=this.options,r=t.highlighter;if(r==null){var o=t.type;r=o&&e.highlighting[o]||e.highlighting.default}if(r==null)return null;var a=typeof r=="string"?{name:r}:r,s=a.name,u=oo.registry.get(s);return u==null?oo.registry.onNotFound(s):(oo.check(s,u),{name:s,highlighter:u,args:a.args||{}})},n.prototype.getHighlighterId=function(t,e){return Va(t),e.name+t.id+JSON.stringify(e.args)},n.prototype.unhighlight=function(t){var e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])},n.prototype.dispose=function(){var t=this;Object.keys(this.highlights).forEach(function(e){return t.unhighlight(e)}),this.stopListening()},P([n.dispose()],n.prototype,"dispose",null),n}(ke),u0=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.widgets=new Map,t}return x(n,i),Object.defineProperty(n.prototype,"container",{get:function(){return this.graph.view.container},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewport",{get:function(){return this.graph.view.viewport},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSelectionEnabled",{get:function(){return this.options.selecting.enabled===!0},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.startListening(),this.resize()},n.prototype.startListening=function(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)},n.prototype.stopListening=function(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)},n.prototype.onNodeMouseUp=function(t){var e=t.node;if(!this.isSelectionEnabled){var r=this.graph.hook.createTransform(e,{clearAll:!0});r&&this.widgets.set(e,r)}},n.prototype.onNodeSelected=function(t){var e=t.node;if(this.isSelectionEnabled){var r=this.graph.hook.createTransform(e,{clearAll:!1});r&&this.widgets.set(e,r)}},n.prototype.onNodeUnSelected=function(t){var e=t.node;if(this.isSelectionEnabled){var r=this.widgets.get(e);r&&r.dispose(),this.widgets.delete(e)}},n.prototype.getMatrix=function(){var t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),Pn(this.viewportMatrix)},n.prototype.setMatrix=function(t){var e=Pn(t),r=Vo(e);this.viewport.setAttribute("transform",r),this.viewportMatrix=e,this.viewportTransformString=r},n.prototype.resize=function(t,e){var r=t===void 0?this.options.width:t,o=e===void 0?this.options.height:e;this.options.width=r,this.options.height=o,typeof r=="number"&&(r=Math.round(r)),typeof o=="number"&&(o=Math.round(o)),this.container.style.width=r==null?"":r+"px",this.container.style.height=o==null?"":o+"px";var a=this.getComputedSize();return this.graph.trigger("resize",y({},a)),this},n.prototype.getComputedSize=function(){var t=this.options.width,e=this.options.height;return Ba(t)||(t=this.container.clientWidth),Ba(e)||(e=this.container.clientHeight),{width:t,height:e}},n.prototype.getScale=function(){return zg(this.getMatrix())},n.prototype.scale=function(t,e,r,o,a){if(e===void 0&&(e=t),r===void 0&&(r=0),o===void 0&&(o=0),a===void 0&&(a={}),t=this.clampScale(t),e=this.clampScale(e),r||o){var s=this.getTranslation(),u=s.tx-r*(t-1),c=s.ty-o*(e-1);u===s.tx&&c===s.ty||this.translate(u,c)}var h=this.getMatrix();return h.a=t,h.d=e,this.setMatrix(h),this.graph.trigger("scale",y({sx:t,sy:e,ox:r,oy:o},a)),this},n.prototype.clampScale=function(t){var e=this.graph.options.scaling;return Jn(t,e.min||.01,e.max||16)},n.prototype.getZoom=function(){return this.getScale().sx},n.prototype.zoom=function(t,e){e=e||{};var r=t,o=t,a=this.getScale(),s=this.getComputedSize(),u=s.width/2,c=s.height/2;if(e.absolute||(r+=a.sx,o+=a.sy),e.scaleGrid&&(r=Math.round(r/e.scaleGrid)*e.scaleGrid,o=Math.round(o/e.scaleGrid)*e.scaleGrid),e.maxScale&&(r=Math.min(e.maxScale,r),o=Math.min(e.maxScale,o)),e.minScale&&(r=Math.max(e.minScale,r),o=Math.max(e.minScale,o)),e.center&&(u=e.center.x,c=e.center.y),r=this.clampScale(r),o=this.clampScale(o),u||c){var h=this.getTranslation(),d=u-(u-h.tx)*(r/a.sx),g=c-(c-h.ty)*(o/a.sy);d===h.tx&&g===h.ty||this.translate(d,g,{ui:e.ui})}return this.scale(r,o,0,0,{ui:e.ui}),this},n.prototype.getRotation=function(){return Vg(this.getMatrix())},n.prototype.rotate=function(t,e,r){if(e==null||r==null){var o=An(this.graph.view.stage);e=o.width/2,r=o.height/2}var a=this.getMatrix().translate(e,r).rotate(t).translate(-e,-r);return this.setMatrix(a),this},n.prototype.getTranslation=function(){return Gg(this.getMatrix())},n.prototype.translate=function(t,e,r){r===void 0&&(r={});var o=this.getMatrix();o.e=t||0,o.f=e||0,this.setMatrix(o);var a=this.getTranslation();return this.options.x=a.tx,this.options.y=a.ty,this.graph.trigger("translate",y(y({},a),r)),this},n.prototype.setOrigin=function(t,e){return this.translate(t||0,e||0)},n.prototype.fitToContent=function(t,e,r,o){if(typeof t=="object"){var a=t;t=a.gridWidth||1,e=a.gridHeight||1,r=a.padding||0,o=a}else t=t||1,e=e||1,r=r||0,o==null&&(o={});var s=sr(r),u=o.border||0,c=o.contentArea?l.Rectangle.create(o.contentArea):this.getContentArea(o);u>0&&c.inflate(u);var h=this.getScale(),d=this.getTranslation(),g=h.sx,C=h.sy;c.x*=g,c.y*=C,c.width*=g,c.height*=C;var A=Math.max(Math.ceil((c.width+c.x)/t),1)*t,D=Math.max(Math.ceil((c.height+c.y)/e),1)*e,k=0,O=0;(o.allowNewOrigin==="negative"&&c.x<0||o.allowNewOrigin==="positive"&&c.x>=0||o.allowNewOrigin==="any")&&(k=Math.ceil(-c.x/t)*t,A+=k+=s.left),(o.allowNewOrigin==="negative"&&c.y<0||o.allowNewOrigin==="positive"&&c.y>=0||o.allowNewOrigin==="any")&&(O=Math.ceil(-c.y/e)*e,D+=O+=s.top),A+=s.right,D+=s.bottom,A=Math.max(A,o.minWidth||0),D=Math.max(D,o.minHeight||0),A=Math.min(A,o.maxWidth||Number.MAX_SAFE_INTEGER),D=Math.min(D,o.maxHeight||Number.MAX_SAFE_INTEGER);var F=this.getComputedSize(),B=A!==F.width||D!==F.height;return(k!==d.tx||O!==d.ty)&&this.translate(k,O),B&&this.resize(A,D),new l.Rectangle(-k/g,-O/C,A/g,D/C)},n.prototype.scaleContentToFit=function(t){t===void 0&&(t={}),this.scaleContentToFitImpl(t)},n.prototype.scaleContentToFitImpl=function(t,e){var r,o;if(t===void 0&&(t={}),e===void 0&&(e=!0),t.contentArea){var a=t.contentArea;r=this.graph.localToGraph(a),o=l.Point.create(a)}else r=this.getContentBBox(t),o=this.graph.graphToLocal(r);if(r.width&&r.height){var s,u=sr(t.padding),c=t.minScale||0,h=t.maxScale||Number.MAX_SAFE_INTEGER,d=t.minScaleX||c,g=t.maxScaleX||h,C=t.minScaleY||c,A=t.maxScaleY||h;if(t.viewportArea)s=t.viewportArea;else{var D=this.getComputedSize(),k=this.getTranslation();s={x:k.tx,y:k.ty,width:D.width,height:D.height}}s=l.Rectangle.create(s).moveAndExpand({x:u.left,y:u.top,width:-u.left-u.right,height:-u.top-u.bottom});var O=this.getScale(),F=s.width/r.width*O.sx,B=s.height/r.height*O.sy;t.preserveAspectRatio!==!1&&(F=B=Math.min(F,B));var z=t.scaleGrid;if(z&&(F=z*Math.floor(F/z),B=z*Math.floor(B/z)),F=Jn(F,d,g),B=Jn(B,C,A),this.scale(F,B),e){var Y=this.options,w=s.x-o.x*F-Y.x,Q=s.y-o.y*B-Y.y;this.translate(w,Q)}}},n.prototype.getContentArea=function(t){return t===void 0&&(t={}),t.useCellGeometry?this.model.getAllCellsBBox()||new l.Rectangle:An(this.graph.view.stage)},n.prototype.getContentBBox=function(t){return t===void 0&&(t={}),this.graph.localToGraph(this.getContentArea(t))},n.prototype.getGraphArea=function(){var t=l.Rectangle.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)},n.prototype.zoomToRect=function(t,e){e===void 0&&(e={});var r=l.Rectangle.create(t),o=this.graph;e.contentArea=r,e.viewportArea==null&&(e.viewportArea={x:o.options.x,y:o.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);var a=r.getCenter();return this.centerPoint(a.x,a.y),this},n.prototype.zoomToFit=function(t){return t===void 0&&(t={}),this.zoomToRect(this.getContentArea(t),t)},n.prototype.centerPoint=function(t,e){var r=this.getComputedSize(),o=this.getScale(),a=this.getTranslation(),s=r.width/2,u=r.height/2;e=typeof e=="number"?e:u,t=s-(t=typeof t=="number"?t:s)*o.sx,e=u-e*o.sy,a.tx===t&&a.ty===e||this.translate(t,e)},n.prototype.centerContent=function(t){var e=this.graph.getContentArea(t).getCenter();this.centerPoint(e.x,e.y)},n.prototype.centerCell=function(t){return this.positionCell(t,"center")},n.prototype.positionPoint=function(t,e,r){var o=this.getComputedSize();(e=Dr(e,Math.max(0,o.width)))<0&&(e=o.width+e),(r=Dr(r,Math.max(0,o.height)))<0&&(r=o.height+r);var a=this.getTranslation(),s=this.getScale(),u=e-t.x*s.sx,c=r-t.y*s.sy;a.tx===u&&a.ty===c||this.translate(u,c)},n.prototype.positionRect=function(t,e){var r=l.Rectangle.create(t);switch(e){case"center":return this.positionPoint(r.getCenter(),"50%","50%");case"top":return this.positionPoint(r.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%");case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(r.getTopLeft(),0,0);default:return this}},n.prototype.positionCell=function(t,e){var r=t.getBBox();return this.positionRect(r,e)},n.prototype.positionContent=function(t,e){var r=this.graph.getContentArea(e);return this.positionRect(r,t)},n.prototype.dispose=function(){this.widgets.forEach(function(t){return t.dispose()}),this.widgets.clear(),this.stopListening()},P([n.dispose()],n.prototype,"dispose",null),n}(ke),c0=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.movedMap=new WeakMap,t.unselectMap=new WeakMap,t}return x(n,i),Object.defineProperty(n.prototype,"widgetOptions",{get:function(){return this.options.selecting},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rubberbandDisabled",{get:function(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.widgetOptions.enabled!==!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.widget.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cells",{get:function(){return this.widget.cells},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.widget=this.graph.hook.createSelection(),this.startListening()},n.prototype.startListening=function(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)},n.prototype.stopListening=function(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)},n.prototype.onBlankMouseDown=function(t){var e=t.e;(this.allowRubberband(e,!0)||this.allowRubberband(e)&&!this.graph.scroller.allowPanning(e,!0)&&!this.graph.panning.allowPanning(e,!0))&&this.startRubberband(e)},n.prototype.onBlankClick=function(){this.clean()},n.prototype.allowRubberband=function(t,e){return!this.rubberbandDisabled&&Jo.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowRubberband(t)},n.prototype.allowMultipleSelection=function(t){return this.isMultiple()&&Jo.isMatch(t,this.widgetOptions.multipleSelectionModifiers)},n.prototype.onCellMouseMove=function(t){var e=t.cell;this.movedMap.set(e,!0)},n.prototype.onCellMouseUp=function(t){var e=t.e,r=t.cell,o=this.widgetOptions,a=this.disabled;!a&&this.movedMap.has(r)&&((a=o.selectCellOnMoved===!1)||(a=o.selectNodeOnMoved===!1&&r.isNode()),a||(a=o.selectEdgeOnMoved===!1&&r.isEdge())),a||(this.allowMultipleSelection(e)?this.unselectMap.has(r)?this.unselectMap.delete(r):this.isSelected(r)?this.unselect(r):this.select(r):this.reset(r)),this.movedMap.delete(r)},n.prototype.onBoxMouseDown=function(t){var e=t.e,r=t.cell;this.disabled||this.allowMultipleSelection(e)&&(this.unselect(r),this.unselectMap.set(r,!0))},n.prototype.isEmpty=function(){return this.length<=0},n.prototype.isSelected=function(t){return this.widget.isSelected(t)},n.prototype.getCells=function(t){var e=this;return(Array.isArray(t)?t:[t]).map(function(r){return typeof r=="string"?e.graph.getCellById(r):r}).filter(function(r){return r!=null})},n.prototype.select=function(t,e){e===void 0&&(e={});var r=this.getCells(t);return r.length&&(this.isMultiple()?this.widget.select(r,e):this.reset(r.slice(0,1),e)),this},n.prototype.unselect=function(t,e){return e===void 0&&(e={}),this.widget.unselect(this.getCells(t),e),this},n.prototype.reset=function(t,e){return e===void 0&&(e={}),this.widget.reset(t?this.getCells(t):[],e),this},n.prototype.clean=function(t){return t===void 0&&(t={}),this.widget.clean(t),this},n.prototype.enable=function(){return this.disabled&&(this.widgetOptions.enabled=!0),this},n.prototype.disable=function(){return this.disabled||(this.widgetOptions.enabled=!1),this},n.prototype.startRubberband=function(t){return this.rubberbandDisabled||this.widget.startSelecting(t),this},n.prototype.enableRubberband=function(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this},n.prototype.disableRubberband=function(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this},n.prototype.isMultiple=function(){return this.widgetOptions.multiple!==!1},n.prototype.enableMultiple=function(){return this.widgetOptions.multiple=!0,this},n.prototype.disableMultiple=function(){return this.widgetOptions.multiple=!1,this},n.prototype.setModifiers=function(t){return this.widgetOptions.modifiers=t,this},n.prototype.setContent=function(t){return this.widget.setContent(t),this},n.prototype.setFilter=function(t){return this.widget.setFilter(t),this},n.prototype.dispose=function(){this.stopListening(),this.widget.dispose()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke),fu=function(i){function n(t){var e=i.call(this)||this;return e.batchCommands=null,e.batchLevel=0,e.lastBatchIndex=-1,e.freezed=!1,e.handlers=[],e.graph=t.graph,e.model=t.graph.model,e.options=ln.getOptions(t),e.validator=new n.Validator({history:e,cancelInvalid:e.options.cancelInvalid}),e.clean(),e.startListening(),e}return x(n,i),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.options.enabled!==!0},enumerable:!1,configurable:!0}),n.prototype.enable=function(){this.disabled&&(this.options.enabled=!0)},n.prototype.disable=function(){this.disabled||(this.options.enabled=!1)},n.prototype.undo=function(t){if(t===void 0&&(t={}),!this.disabled){var e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack.push(e),this.notify("undo",e,t))}return this},n.prototype.redo=function(t){if(t===void 0&&(t={}),!this.disabled){var e=this.redoStack.pop();e&&(this.applyCommand(e,t),this.undoStack.push(e),this.notify("redo",e,t))}return this},n.prototype.cancel=function(t){if(t===void 0&&(t={}),!this.disabled){var e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack=[],this.notify("cancel",e,t))}return this},n.prototype.clean=function(t){return t===void 0&&(t={}),this.undoStack=[],this.redoStack=[],this.notify("clean",null,t),this},n.prototype.canUndo=function(){return!this.disabled&&this.undoStack.length>0},n.prototype.canRedo=function(){return!this.disabled&&this.redoStack.length>0},n.prototype.validate=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return(e=this.validator).validate.apply(e,T([t],r,!1)),this},n.prototype.dispose=function(){this.validator.dispose(),this.clean(),this.stopListening()},n.prototype.startListening=function(){var t=this;this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach(function(e,r){t.handlers[r]=t.addCommand.bind(t,e),t.model.on(e,t.handlers[r])}),this.validator.on("invalid",function(e){return t.trigger("invalid",e)})},n.prototype.stopListening=function(){var t=this;this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach(function(e,r){t.model.off(e,t.handlers[r])}),this.handlers.length=0),this.validator.off("invalid")},n.prototype.createCommand=function(t){return{batch:!!t&&t.batch,data:{}}},n.prototype.revertCommand=function(t,e){this.freezed=!0;for(var r=Array.isArray(t)?ln.sortBatchCommands(t):[t],o=r.length-1;o>=0;o-=1){var a=r[o],s=y(y({},e),zc(a.options,this.options.revertOptionsList||[]));this.executeCommand(a,!0,s)}this.freezed=!1},n.prototype.applyCommand=function(t,e){this.freezed=!0;for(var r=Array.isArray(t)?ln.sortBatchCommands(t):[t],o=0;o<r.length;o+=1){var a=r[o],s=y(y({},e),zc(a.options,this.options.applyOptionsList||[]));this.executeCommand(a,!1,s)}this.freezed=!1},n.prototype.executeCommand=function(t,e,r){var o=this.model,a=o.getCell(t.data.id),s=t.event;if(ln.isAddEvent(s)&&e||ln.isRemoveEvent(s)&&!e)a&&a.remove(r);else if(ln.isAddEvent(s)&&!e||ln.isRemoveEvent(s)&&e)(u=t.data).node?o.addNode(u.props,r):u.edge&&o.addEdge(u.props,r);else if(ln.isChangeEvent(s)){var u,c=(u=t.data).key;if(c&&a){var h=e?u.prev[c]:u.next[c];a.prop(c,h,r)}}else{var d=this.options.executeCommand;d&&Lt(d,this,t,e,r)}},n.prototype.addCommand=function(t,e){if(!this.freezed&&!this.disabled){var r=e,o=r.options||{};if(!o.dryrun&&!(ln.isAddEvent(t)&&this.options.ignoreAdd||ln.isRemoveEvent(t)&&this.options.ignoreRemove||ln.isChangeEvent(t)&&this.options.ignoreChange)){var a=this.options.beforeAddCommand;if(a==null||Lt(a,this,t,e)!==!1){t==="cell:change:*"&&(t="cell:change:"+r.key);var s,u=r.cell,c=l.Model.isModel(u);if(this.batchCommands){s=this.batchCommands[Math.max(this.lastBatchIndex,0)];var h=c&&!s.modelChange||s.data.id!==u.id,d=s.event!==t;if(this.lastBatchIndex>=0&&(h||d)){var g=this.batchCommands.findIndex(function(k){return(c&&k.modelChange||k.data.id===u.id)&&k.event===t});g<0||ln.isAddEvent(t)||ln.isRemoveEvent(t)?s=this.createCommand({batch:!0}):(s=this.batchCommands[g],this.batchCommands.splice(g,1)),this.batchCommands.push(s),this.lastBatchIndex=this.batchCommands.length-1}}else s=this.createCommand({batch:!1});if(ln.isAddEvent(t)||ln.isRemoveEvent(t)){var C=s.data;return s.event=t,s.options=o,C.id=u.id,C.props=nn(u.toJSON()),u.isEdge()?C.edge=!0:u.isNode()&&(C.node=!0),this.push(s,o)}if(ln.isChangeEvent(t)){var A=e.key;return C=s.data,s.batch&&s.event||(s.event=t,s.options=o,C.key=A,C.prev==null&&(C.prev={}),C.prev[A]=Ki(u.previous(A)),c?s.modelChange=!0:C.id=u.id),C.next==null&&(C.next={}),C.next[A]=Ki(u.prop(A)),this.push(s,o)}var D=this.options.afterAddCommand;D&&Lt(D,this,t,e,s),this.push(s,o)}}}},n.prototype.initBatchCommand=function(t){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))},n.prototype.storeBatchCommand=function(t){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){var e=this.filterBatchCommand(this.batchCommands);e.length>0&&(this.redoStack=[],this.undoStack.push(e),this.consolidateCommands(),this.notify("add",e,t)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)},n.prototype.filterBatchCommand=function(t){for(var e=t.slice(),r=[],o=function(){var a=e.shift(),s=a.event,u=a.data.id;if(s!=null&&(u!=null||a.modelChange)){if(ln.isAddEvent(s)){var c=e.findIndex(function(g){return ln.isRemoveEvent(g.event)&&g.data.id===u});if(c>=0)return e=e.filter(function(g,C){return c<C||g.data.id!==u}),"continue"}else if(ln.isRemoveEvent(s)){var h=e.findIndex(function(g){return ln.isAddEvent(g.event)&&g.data.id===u});if(h>=0)return e.splice(h,1),"continue"}else if(ln.isChangeEvent(s)){var d=a.data;if(Vr(d.prev,d.next))return"continue"}r.push(a)}};e.length>0;)o();return r},n.prototype.notify=function(t,e,r){var o=e==null?null:Array.isArray(e)?e:[e];this.emit(t,{cmds:o,options:r}),this.emit("change",{cmds:o,options:r})},n.prototype.push=function(t,e){this.redoStack=[],t.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:t,options:e})):(this.undoStack.push(t),this.consolidateCommands(),this.notify("add",t,e))},n.prototype.consolidateCommands=function(){var t,e=this.undoStack[this.undoStack.length-1],r=this.undoStack[this.undoStack.length-2];if(Array.isArray(e)){var o=new Set(e.map(function(s){return s.event}));if(o.size===2&&o.has("cell:change:parent")&&o.has("cell:change:children")&&e.every(function(s){var u;return s.batch&&((u=s.options)===null||u===void 0?void 0:u.ui)})&&Array.isArray(r)&&r.length===1){var a=r[0];a.event==="cell:change:position"&&((t=a.options)===null||t===void 0?void 0:t.ui)&&(r.push.apply(r,e),this.undoStack.pop())}}},P([l.Basecoat.dispose()],n.prototype,"dispose",null),n}(l.Basecoat);(function(i){var n=function(t){function e(r){var o=t.call(this)||this;return o.map={},o.command=r.history,o.cancelInvalid=r.cancelInvalid!==!1,o.command.on("add",o.onCommandAdded,o),o}return x(e,t),e.prototype.onCommandAdded=function(r){var o=this,a=r.cmds;return Array.isArray(a)?a.every(function(s){return o.isValidCommand(s)}):this.isValidCommand(a)},e.prototype.isValidCommand=function(r){if(r.options&&r.options.validation===!1)return!0;var o=r.event&&this.map[r.event]||[],a=null;return o.forEach(function(s){var u=0,c=function(h){var d=s[u];u+=1;try{if(!d)return void(a=h);d(h,r,c)}catch(g){c(g)}};c(a)}),!a||(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:a}),!1)},e.prototype.validate=function(r){for(var o=this,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];var u=Array.isArray(r)?r:r.split(/\s+/);return a.forEach(function(c){if(typeof c!="function")throw new Error(u.join(" ")+" requires callback functions.")}),u.forEach(function(c){o.map[c]==null&&(o.map[c]=[]),o.map[c].push(a)}),this},e.prototype.dispose=function(){this.command.off("add",this.onCommandAdded,this)},P([l.Basecoat.dispose()],e.prototype,"dispose",null),e}(l.Basecoat);i.Validator=n})(fu||(fu={})),function(i){i.isAddEvent=function(n){return n==="cell:added"},i.isRemoveEvent=function(n){return n==="cell:removed"},i.isChangeEvent=function(n){return n!=null&&n.startsWith("cell:change:")},i.getOptions=function(n){n.graph;var t=f(n,["graph"]),e=["cell:added","cell:removed","cell:change:*"],r=["batch:start","batch:stop"],o=n.eventNames?n.eventNames.filter(function(a){return!(i.isChangeEvent(a)||e.includes(a)||r.includes(a))}):e;return y(y({},t),{eventNames:o,applyOptionsList:n.applyOptionsList||["propertyPath"],revertOptionsList:n.revertOptionsList||["propertyPath"]})},i.sortBatchCommands=function(n){for(var t=[],e=0,r=n.length;e<r;e+=1){var o=n[e],a=null;if(i.isAddEvent(o.event)){for(var s=o.data.id,u=0;u<e;u+=1)if(n[u].data.id===s){a=u;break}}a!==null?t.splice(a,0,o):t.push(o)}return t}}(ln||(ln={}));var h0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"widgetOptions",{get:function(){return this.options.minimap},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.widget=this.graph.hook.createMiniMap()},n.prototype.dispose=function(){this.widget&&this.widget.dispose()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke),p0={exports:{}};(function(i){(function(n,t,e){if(n){for(var r,o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c=1;c<20;++c)o[111+c]="f"+c;for(c=0;c<=9;++c)o[c+96]=c.toString();k.prototype.bind=function(O,F,B){var z=this;return O=O instanceof Array?O:[O],z._bindMultiple.call(z,O,F,B),z},k.prototype.unbind=function(O,F){return this.bind.call(this,O,function(){},F)},k.prototype.trigger=function(O,F){var B=this;return B._directMap[O+":"+F]&&B._directMap[O+":"+F]({},O),B},k.prototype.reset=function(){var O=this;return O._callbacks={},O._directMap={},O},k.prototype.stopCallback=function(O,F){if((" "+F.className+" ").indexOf(" mousetrap ")>-1||D(F,this.target))return!1;if("composedPath"in O&&typeof O.composedPath=="function"){var B=O.composedPath()[0];B!==O.target&&(F=B)}return F.tagName=="INPUT"||F.tagName=="SELECT"||F.tagName=="TEXTAREA"||F.isContentEditable},k.prototype.handleKey=function(){var O=this;return O._handleKey.apply(O,arguments)},k.addKeycodes=function(O){for(var F in O)O.hasOwnProperty(F)&&(o[F]=O[F]);r=null},k.init=function(){var O=k(t);for(var F in O)F.charAt(0)!=="_"&&(k[F]=function(B){return function(){return O[B].apply(O,arguments)}}(F))},k.init(),n.Mousetrap=k,i.exports&&(i.exports=k)}function h(O,F,B){O.addEventListener?O.addEventListener(F,B,!1):O.attachEvent("on"+F,B)}function d(O){if(O.type=="keypress"){var F=String.fromCharCode(O.which);return O.shiftKey||(F=F.toLowerCase()),F}return o[O.which]?o[O.which]:a[O.which]?a[O.which]:String.fromCharCode(O.which).toLowerCase()}function g(O){return O=="shift"||O=="ctrl"||O=="alt"||O=="meta"}function C(O,F,B){return B||(B=function(){if(!r)for(var z in r={},o)z>95&&z<112||o.hasOwnProperty(z)&&(r[o[z]]=z);return r}()[O]?"keydown":"keypress"),B=="keypress"&&F.length&&(B="keydown"),B}function A(O,F){var B,z,Y,w=[];for(B=function(Q){return Q==="+"?["+"]:(Q=Q.replace(/\+{2}/g,"+plus")).split("+")}(O),Y=0;Y<B.length;++Y)z=B[Y],u[z]&&(z=u[z]),F&&F!="keypress"&&s[z]&&(z=s[z],w.push("shift")),g(z)&&w.push(z);return{key:z,modifiers:w,action:F=C(z,w,F)}}function D(O,F){return O!==null&&O!==t&&(O===F||D(O.parentNode,F))}function k(O){var F=this;if(O=O||t,!(F instanceof k))return new k(O);F.target=O,F._callbacks={},F._directMap={};var B,z={},Y=!1,w=!1,Q=!1;function J(ft){ft=ft||{};var At,Ot=!1;for(At in z)ft[At]?Ot=!0:z[At]=0;Ot||(Q=!1)}function nt(ft,At,Ot,Pt,It,Vt){var Rt,Zt,de,Qe,Ue=[],be=Ot.type;if(!F._callbacks[ft])return[];for(be=="keyup"&&g(ft)&&(At=[ft]),Rt=0;Rt<F._callbacks[ft].length;++Rt)if(Zt=F._callbacks[ft][Rt],(Pt||!Zt.seq||z[Zt.seq]==Zt.level)&&be==Zt.action&&(be=="keypress"&&!Ot.metaKey&&!Ot.ctrlKey||(de=At,Qe=Zt.modifiers,de.sort().join(",")===Qe.sort().join(",")))){var Ie=!Pt&&Zt.combo==It,ve=Pt&&Zt.seq==Pt&&Zt.level==Vt;(Ie||ve)&&F._callbacks[ft].splice(Rt,1),Ue.push(Zt)}return Ue}function lt(ft,At,Ot,Pt){F.stopCallback(At,At.target||At.srcElement,Ot,Pt)||ft(At,Ot)===!1&&(function(It){It.preventDefault?It.preventDefault():It.returnValue=!1}(At),function(It){It.stopPropagation?It.stopPropagation():It.cancelBubble=!0}(At))}function ut(ft){typeof ft.which!="number"&&(ft.which=ft.keyCode);var At=d(ft);At&&(ft.type!="keyup"||Y!==At?F.handleKey(At,function(Ot){var Pt=[];return Ot.shiftKey&&Pt.push("shift"),Ot.altKey&&Pt.push("alt"),Ot.ctrlKey&&Pt.push("ctrl"),Ot.metaKey&&Pt.push("meta"),Pt}(ft),ft):Y=!1)}function xt(ft,At,Ot,Pt){function It(de){return function(){Q=de,++z[ft],clearTimeout(B),B=setTimeout(J,1e3)}}function Vt(de){lt(Ot,de,ft),Pt!=="keyup"&&(Y=d(de)),setTimeout(J,10)}z[ft]=0;for(var Rt=0;Rt<At.length;++Rt){var Zt=Rt+1===At.length?Vt:It(Pt||A(At[Rt+1]).action);Dt(At[Rt],Zt,Pt,ft,Rt)}}function Dt(ft,At,Ot,Pt,It){F._directMap[ft+":"+Ot]=At;var Vt,Rt=(ft=ft.replace(/\s+/g," ")).split(" ");Rt.length>1?xt(ft,Rt,At,Ot):(Vt=A(ft,Ot),F._callbacks[Vt.key]=F._callbacks[Vt.key]||[],nt(Vt.key,Vt.modifiers,{type:Vt.action},Pt,ft,It),F._callbacks[Vt.key][Pt?"unshift":"push"]({callback:At,modifiers:Vt.modifiers,action:Vt.action,seq:Pt,level:It,combo:ft}))}F._handleKey=function(ft,At,Ot){var Pt,It=nt(ft,At,Ot),Vt={},Rt=0,Zt=!1;for(Pt=0;Pt<It.length;++Pt)It[Pt].seq&&(Rt=Math.max(Rt,It[Pt].level));for(Pt=0;Pt<It.length;++Pt)if(It[Pt].seq){if(It[Pt].level!=Rt)continue;Zt=!0,Vt[It[Pt].seq]=1,lt(It[Pt].callback,Ot,It[Pt].combo,It[Pt].seq)}else Zt||lt(It[Pt].callback,Ot,It[Pt].combo);var de=Ot.type=="keypress"&&w;Ot.type!=Q||g(ft)||de||J(Vt),w=Zt&&Ot.type=="keydown"},F._bindMultiple=function(ft,At,Ot){for(var Pt=0;Pt<ft.length;++Pt)Dt(ft[Pt],At,Ot)},h(O,"keypress",ut),h(O,"keydown",ut),h(O,"keyup",ut)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(p0);var px=p0.exports,gu=function(i){function n(t){var e=i.call(this)||this;e.options=t;var r=e.graph.scroller.widget;return e.container=r?r.container:e.graph.container,t.global?e.target=document:(e.target=e.container,e.disabled||e.target.setAttribute("tabindex","-1"),e.graph.on("cell:mouseup",e.focus,e),e.graph.on("blank:mouseup",e.focus,e)),e.mousetrap=n.createMousetrap(e),e}return x(n,i),Object.defineProperty(n.prototype,"graph",{get:function(){return this.options.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.options.enabled!==!0},enumerable:!1,configurable:!0}),n.prototype.enable=function(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))},n.prototype.disable=function(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))},n.prototype.on=function(t,e,r){this.mousetrap.bind(this.getKeys(t),e,r)},n.prototype.off=function(t,e){this.mousetrap.unbind(this.getKeys(t),e)},n.prototype.focus=function(t){this.isInputEvent(t.e)||this.target.focus({preventScroll:!0})},n.prototype.getKeys=function(t){var e=this;return(Array.isArray(t)?t:[t]).map(function(r){return e.formatkey(r)})},n.prototype.formatkey=function(t){var e=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),r=this.options.format;return r?Lt(r,this.graph,e):e},n.prototype.isGraphEvent=function(t){var e=t.srcElement||t.target,r=t.currentTarget;return!!e&&(e===this.target||r===this.target||e===document.body||Al(this.container,e))},n.prototype.isInputEvent=function(t){var e,r=t.target,o=(e=r==null?void 0:r.tagName)===null||e===void 0?void 0:e.toLowerCase();return["input","textarea"].includes(o)},n.prototype.isEnabledForEvent=function(t){var e=!this.disabled&&this.isGraphEvent(t),r=this.isInputEvent(t);if(e){var o=t.keyCode||t.which;if(r&&(o===8||o===46))return!1;if(this.options.guard)return Lt(this.options.guard,this.graph,t)}return e},n.prototype.dispose=function(){this.mousetrap.reset()},P([l.Disposable.dispose()],n.prototype,"dispose",null),n}(l.Disposable);(function(i){i.createMousetrap=function(n){var t=new px(n.target),e=t.stopCallback;return t.stopCallback=function(r,o,a){return!n.isEnabledForEvent(r)||!!e&&e.call(t,r,o,a)},t}})(gu||(gu={}));var d0=function(i){function n(t){var e=i.call(this)||this;e.options=t,e.cumulatedFactor=1;var r=e.graph.scroller.widget;return e.container=r?r.container:e.graph.container,e.target=e.options.global?document:e.container,e.mousewheelHandle=new xh(e.target,e.onMouseWheel.bind(e),e.allowMouseWheel.bind(e)),e.options.enabled&&e.enable(!0),e}return x(n,i),Object.defineProperty(n.prototype,"graph",{get:function(){return this.options.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.options.enabled!==!0},enumerable:!1,configurable:!0}),n.prototype.enable=function(t){(this.disabled||t)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())},n.prototype.disable=function(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())},n.prototype.allowMouseWheel=function(t){var e=t.originalEvent||t,r=this.options.guard;return(r==null||r.call(this.graph,e))&&Jo.isMatch(e,this.options.modifiers)},n.prototype.onMouseWheel=function(t){var e=t.originalEvent||t,r=this.options.guard;if((r==null||r.call(this.graph,e))&&Jo.isMatch(e,this.options.modifiers)){var o=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*o*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/o)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);var a=this.graph.scroller.widget,s=this.currentScale,u=this.graph.transform.clampScale(s*this.cumulatedFactor);if((u=Jn(u,this.options.minScale||Number.MIN_SAFE_INTEGER,this.options.maxScale||Number.MAX_SAFE_INTEGER))!==s)if(a)if(this.options.zoomAtMousePosition){var c=this.graph.coord.clientToLocalPoint(this.startPos);a.zoom(u,{absolute:!0,center:c.clone()})}else a.zoom(u,{absolute:!0});else if(this.options.zoomAtMousePosition){var h=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.transform.zoom(u,{absolute:!0,center:h.clone(),ui:!0})}else this.graph.transform.zoom(u,{absolute:!0,ui:!0});this.currentScale=null,this.cumulatedFactor=1}},n.prototype.dispose=function(){this.disable()},P([l.Disposable.dispose()],n.prototype,"dispose",null),n}(l.Disposable),vu=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.show=function(t){var e=this;t===void 0&&(t={});var r=y(y({},n.defaultOptions),t),o=this.createPrintPages(r);r.ready(o,function(a){return e.showPrintWindow(a,r)},{sheetSize:this.getSheetSize(r)})},Object.defineProperty(n.prototype,"className",{get:function(){return this.view.prefixClassName("graph-print")},enumerable:!1,configurable:!0}),n.prototype.showPrintWindow=function(t,e){var r=this;if(t){var o=I(document.body),a=I(this.view.container),s=this.view.prefixClassName("graph-printing");o.addClass(s);var u=a.children().detach();t.forEach(function(d){d.removeClass(r.className+"-preview").addClass(r.className+"-ready").appendTo(o)});var c=!1,h=function(){c||(c=!0,o.removeClass(s),t.forEach(function(d){return d.remove()}),a.append(u),I("#"+r.styleSheetId).remove(),r.graph.trigger("after:print",e),I(window).off("afterprint",h))};I(window).one("afterprint",h),setTimeout(h,200),window.print()}},n.prototype.createPrintPage=function(t,e){this.graph.trigger("before:print",e);var r=I("<div/>").addClass(this.className),o=I("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");e.size&&r.addClass(this.className+"-size-"+e.size);var a=l.Vector.create(this.view.svg).clone(),s=a.findOne("."+this.view.prefixClassName("graph-svg-stage"));o.append(a.node);var u=this.getSheetSize(e),c=this.graph.transform.getGraphArea(),h=this.graph.transform.getScale(),d=this.graph.translate(),g=Pn().translate(d.tx/h.sx,d.ty/h.sy),C=this.getPageInfo(c,t,u),A=C.scale,D=C.bbox;return o.css({left:0,top:0}),a.attr({width:D.width*A,height:D.height*A,style:"position:relative",viewBox:[D.x,D.y,D.width,D.height].join(" ")}),s.attr("transform",Vo(g)),r.append(o),r.addClass(this.className+"-preview"),{$page:r,sheetSize:u}},n.prototype.createPrintPages=function(t){var e,r=this,o=this.getPrintArea(t),a=[];if(t.page){var s=this.getPageSize(o,t.page);this.getPageAreas(o,s).forEach(function(c){e=r.createPrintPage(c,t),a.push(e.$page)})}else e=this.createPrintPage(o,t),a.push(e.$page);if(e){var u={width:e.sheetSize.cssWidth,height:e.sheetSize.cssHeight};this.updatePrintStyle(u,t)}return a},Object.defineProperty(n.prototype,"styleSheetId",{get:function(){return this.view.prefixClassName("graph-print-style")},enumerable:!1,configurable:!0}),n.prototype.updatePrintStyle=function(t,e){var r=Object.keys(t).reduce(function(d,g){return d+" "+g+":"+t[g]+";"},""),o=sr(e.margin),a=e.marginUnit||"",s=e.sheetUnit||"",u=`
      @media print {
        .`+this.className+"."+this.className+`-ready {
          `+r+`
        }

        @page {
          margin:
          `+[o.top+a,o.right+a,o.bottom+a,o.left+a].join(" ")+`;
          size: `+(e.sheet.width+s)+" "+(e.sheet.height+s)+`;

        .`+this.className+"."+this.className+`-preview {
          `+r+`
        }
      }`,c=this.styleSheetId,h=I("#"+c);h.length?h.html(u):I("head").append(`'<style type="text/css" id="`+c+'">'+u+"</style>'")},n.prototype.getPrintArea=function(t){var e=t.area;if(!e){var r=sr(t.padding);e=this.graph.getContentArea().moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom})}return e},n.prototype.getPageSize=function(t,e){if(typeof e=="object"){var r=e,o={width:r.width,height:r.height};return o.width==null&&(o.width=Math.ceil(t.width/(r.columns||1))),o.height==null&&(o.height=Math.ceil(t.height/(r.rows||1))),o}return{width:t.width,height:t.height}},n.prototype.getPageAreas=function(t,e){for(var r=[],o=e.width,a=e.height,s=0,u=0;s<t.height&&u<200;s+=a,u+=1)for(var c=0,h=0;c<t.width&&h<200;c+=o,h+=1)r.push(new l.Rectangle(t.x+c,t.y+s,o,a));return r},n.prototype.getSheetSize=function(t){var e=t.sheet,r=sr(t.margin),o=t.marginUnit||"",a=t.sheetUnit||"",s="calc("+e.width+a+" - "+(r.left+r.right)+o+")",u="calc("+e.height+a+" - "+(r.top+r.bottom)+o+")",c=l.Unit.measure(s,u);return{cssWidth:s,cssHeight:u,width:c.width,height:c.height}},n.prototype.getPageInfo=function(t,e,r){var o=new l.Rectangle(e.x-t.x,e.y-t.y,e.width,e.height),a=o.width/o.height,s=r.width/r.height;return{bbox:o,scale:s<a?r.width/o.width:r.height/o.height,fitHorizontal:s<a}},n.prototype.dispose=function(){},P([ke.dispose()],n.prototype,"dispose",null),n}(ke);(function(i){i.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:function(n,t){return t(n)}}})(vu||(vu={}));var pe,f0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.toSVG=function(t,e){var r=this;e===void 0&&(e={}),this.graph.trigger("before:export",e);var o=this.view.svg,a=l.Vector.create(o).clone(),s=a.node,u=a.findOne("."+this.view.prefixClassName("graph-svg-stage")),c=e.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),h=e.preserveDimensions;if(h){var d=typeof h=="boolean"?c:h;a.attr({width:d.width,height:d.height})}if(a.removeAttribute("style").attr("viewBox",[c.x,c.y,c.width,c.height].join(" ")),u.removeAttribute("transform"),e.copyStyles!==!1){for(var g=o.ownerDocument,C=Array.from(o.querySelectorAll("*")),A=Array.from(s.querySelectorAll("*")),D=g.styleSheets.length,k=[],O=D-1;O>=0;O-=1)k[O]=g.styleSheets[O],g.styleSheets[O].disabled=!0;var F={};C.forEach(function(nt,lt){var ut=window.getComputedStyle(nt,null),xt={};Object.keys(ut).forEach(function(Dt){xt[Dt]=ut.getPropertyValue(Dt)}),F[lt]=xt}),D!==g.styleSheets.length&&k.forEach(function(nt,lt){g.styleSheets[lt]=nt});for(var B=0;B<D;B+=1)g.styleSheets[B].disabled=!1;var z={};C.forEach(function(nt,lt){var ut=window.getComputedStyle(nt,null),xt=F[lt],Dt={};Object.keys(ut).forEach(function(ft){Hc(ft)||ut.getPropertyValue(ft)===xt[ft]||(Dt[ft]=ut.getPropertyValue(ft))}),z[lt]=Dt}),A.forEach(function(nt,lt){I(nt).css(z[lt])})}var Y=e.stylesheet;if(typeof Y=="string"){var w=o.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(Y);a.prepend(l.Vector.create("style",{type:"text/css"},[w]))}var Q=function(){var nt=e.beforeSerialize;if(typeof nt=="function"){var lt=Lt(nt,r.graph,s);lt instanceof SVGSVGElement&&(s=lt)}var ut=new XMLSerializer().serializeToString(s).replace(/&nbsp;/g,"\xA0");r.graph.trigger("after:export",e),t(ut)};if(e.serializeImages){var J=a.find("image").map(function(nt){return new Promise(function(lt){var ut=nt.attr("xlink:href")||nt.attr("href");l.DataUri.imageToDataUri(ut,function(xt,Dt){!xt&&Dt&&nt.attr("xlink:href",Dt),lt()})})});Promise.all(J).then(Q)}else Q()},n.prototype.toDataURL=function(t,e){var r=e.viewBox||this.graph.getContentBBox(),o=sr(e.padding);e.width&&e.height&&(o.left+o.right>=e.width&&(o.left=o.right=0),o.top+o.bottom>=e.height&&(o.top=o.bottom=0));var a=new l.Rectangle(-o.left,-o.top,o.left+o.right,o.top+o.bottom);if(e.width&&e.height){var s=r.width+o.left+o.right,u=r.height+o.top+o.bottom;a.scale(s/e.width,u/e.height)}r=l.Rectangle.create(r).moveAndExpand(a);var c=typeof e.width=="number"&&typeof e.height=="number"?{width:e.width,height:e.height}:r,h=e.ratio?parseFloat(e.ratio):1;Number.isFinite(h)&&h!==0||(h=1);var d={width:Math.max(Math.round(c.width*h),1),height:Math.max(Math.round(c.height*h),1)},g=document.createElement("canvas"),C=g.getContext("2d");g.width=d.width,g.height=d.height;var A=d.width-1,D=d.height-1;C.fillStyle="rgb(1,1,1)",C.fillRect(A,D,1,1);var k=C.getImageData(A,D,1,1).data;if(k[0]!==1||k[1]!==1||k[2]!==1)throw new Error("size exceeded");var O=new Image;O.onload=function(){var F=document.createElement("canvas");F.width=d.width,F.height=d.height;var B=F.getContext("2d");B.fillStyle=e.backgroundColor||"white",B.fillRect(0,0,d.width,d.height);try{B.drawImage(O,0,0,d.width,d.height);var z=F.toDataURL(e.type,e.quality);t(z)}catch{}},this.toSVG(function(F){O.src="data:image/svg+xml,"+encodeURIComponent(F)},y(y({},e),{viewBox:r,serializeImages:!0,preserveDimensions:y({},d)}))},n.prototype.toPNG=function(t,e){e===void 0&&(e={}),this.toDataURL(t,y(y({},e),{type:"image/png"}))},n.prototype.toJPEG=function(t,e){e===void 0&&(e={}),this.toDataURL(t,y(y({},e),{type:"image/jpeg"}))},n}(ke),dx=function(i){function n(){var t=i!==null&&i.apply(this,arguments)||this;return t.widgets=new Map,t}return x(n,i),Object.defineProperty(n.prototype,"isSelectionEnabled",{get:function(){return this.options.selecting.enabled===!0},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.startListening()},n.prototype.startListening=function(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)},n.prototype.stopListening=function(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)},n.prototype.onNodeMouseUp=function(t){var e=t.node;if(!this.isSelectionEnabled){var r=this.graph.hook.createKnob(e,{clearAll:!0});r&&this.widgets.set(e,r)}},n.prototype.onNodeSelected=function(t){var e=t.node;if(this.isSelectionEnabled){var r=this.graph.hook.createKnob(e,{clearAll:!1});r&&this.widgets.set(e,r)}},n.prototype.onNodeUnSelected=function(t){var e=t.node;if(this.isSelectionEnabled){var r=this.widgets.get(e);r&&r.forEach(function(o){return o.dispose()}),this.widgets.delete(e)}},n}(ke),fx=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"widgetOptions",{get:function(){return this.options.panning},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pannable",{get:function(){return this.widgetOptions&&this.widgetOptions.enabled===!0},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.startListening(),this.updateClassName()},n.prototype.startListening=function(){var t=this.widgetOptions.eventTypes;t&&(t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),t.includes("mouseWheel")&&(this.mousewheelHandle=new xh(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))},n.prototype.stopListening=function(){var t=this.widgetOptions.eventTypes;t&&(t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),t.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())},n.prototype.preparePanning=function(t){var e=t.e;(this.allowPanning(e,!0)||this.allowPanning(e)&&!this.graph.selection.allowRubberband(e,!0))&&this.startPanning(e)},n.prototype.allowPanning=function(t,e){return this.pannable&&Jo.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)},n.prototype.startPanning=function(t){var e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))},n.prototype.pan=function(t){var e=this.view.normalizeEvent(t),r=e.clientX-this.clientX,o=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY;var a=this.graph.transform.getTranslation(),s=a.tx+r,u=a.ty+o;this.graph.transform.translate(s,u,{ui:!0})},n.prototype.stopPanning=function(t){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")},n.prototype.updateClassName=function(){var t=this.view.container,e=this.view.prefixClassName("graph-panning"),r=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(Ee(t,e),mr(t,r)):(mr(t,e),Ee(t,r)):(mr(t,e),mr(t,r))},n.prototype.onRightMouseDown=function(t){t.button===2&&this.allowPanning(t,!0)&&this.startPanning(t)},n.prototype.allowMouseWheel=function(t){return this.pannable&&!t.ctrlKey},n.prototype.onMouseWheel=function(t,e,r){t.ctrlKey||this.graph.translateBy(-e,-r)},n.prototype.autoPanning=function(t,e){var r=10,o=this.graph.getGraphArea(),a=0,s=0;t<=o.left+r&&(a=-10),e<=o.top+r&&(s=-10),t>=o.right-r&&(a=r),e>=o.bottom-r&&(s=r),a===0&&s===0||this.graph.translateBy(-a,-s)},n.prototype.enablePanning=function(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())},n.prototype.disablePanning=function(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())},n.prototype.dispose=function(){this.stopListening()},P([ke.dispose()],n.prototype,"dispose",null),n}(ke),gx=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.hasScroller=function(){return this.graph.scroller.widget!=null},n.prototype.getContainer=function(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container},n.prototype.init=function(){var t=this,e=this.options.autoResize;if(e){var r=typeof e=="boolean"?this.getContainer():e;l.SizeSensor.bind(r,function(){var o=t.getContainer(),a=o.offsetWidth,s=o.offsetHeight;t.resize(a,s)})}},n.prototype.resize=function(t,e){this.hasScroller()?this.resizeScroller(t,e):this.resizeGraph(t,e)},n.prototype.resizeGraph=function(t,e){this.graph.transform.resize(t,e)},n.prototype.resizeScroller=function(t,e){this.graph.scroller.resize(t,e)},n.prototype.resizePage=function(t,e){var r=this.graph.scroller.widget;r&&r.updatePageSize(t,e)},n.prototype.dispose=function(){l.SizeSensor.clear(this.getContainer())},P([ke.dispose()],n.prototype,"dispose",null),n}(ke);(function(i){i.hook=function(n,t){return function(e,r,o){var a=o.value,s=t||r;o.value=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var h=this.options[s];if(h!=null){this.getNativeValue=a.bind.apply(a,T([this],u,!1));var d=Lt.apply(Kc,T([h,this.graph],u,!1));if(this.getNativeValue=null,d!=null||n===!0&&d===null)return d}return a.call.apply(a,T([this],u,!1))}}},i.after=function(n){return function(t,e,r){var o=r.value,a=n||e;r.value=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c=o.call.apply(o,T([this],s,!1)),h=this.options[a];return h!=null&&(c=Lt.apply(Kc,T([h,this.graph],s,!1))&&c),c}}}})(pe||(pe={}));var Tn,g0=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),n.prototype.createModel=function(){if(this.options.model)return this.options.model;var t=new l.Model;return t.graph=this.graph,t},n.prototype.createView=function(){return new Ei(this.graph)},n.prototype.createRenderer=function(){return new ha(this.graph)},n.prototype.createDefsManager=function(){return new n0(this.graph)},n.prototype.createGridManager=function(){return new r0(this.graph)},n.prototype.createCoordManager=function(){return new o0(this.graph)},n.prototype.createKnobManager=function(){return new dx(this.graph)},n.prototype.createTransform=function(t,e){var r=this.getTransformOptions(t);return r.resizable||r.rotatable?new Jh(y(y({node:t,graph:this.graph},r),e)):(r.clearAll&&Jh.removeInstances(this.graph),null)},n.prototype.createKnob=function(t,e){var r=this,o=Xr.parseOptionGroup(this.graph,t,this.options.knob),a=y(y({},o),e);a.clearAll&&Xh.removeInstances(this.graph),a.clearAll=!1;var s=t.prop("knob"),u=[];return(Array.isArray(s)?s:[s]).forEach(function(c,h){c&&c.enabled!==!1&&(typeof c.enabled=="function"&&c.enabled.call(r.graph,t)===!1||o.enabled&&u.push(new Xh(y({node:t,index:h,graph:r.graph},a))))}),u},n.prototype.getTransformOptions=function(t){var e=Xr.parseOptionGroup(this.graph,t,this.options.resizing),r=Xr.parseOptionGroup(this.graph,t,this.options.rotating),o=Xr.parseOptionGroup(this.graph,t,this.options.transforming);return y(y({},o),{resizable:e.enabled,minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight,orthogonalResizing:e.orthogonal,restrictedResizing:e.restrict!=null?e.restrict:e.restricted,autoScrollOnResizing:e.autoScroll,preserveAspectRatio:e.preserveAspectRatio,allowReverse:e.allowReverse,rotatable:r.enabled,rotateGrid:r.grid})},n.prototype.createTransformManager=function(){return new u0(this.graph)},n.prototype.createHighlightManager=function(){return new l0(this.graph)},n.prototype.createBackgroundManager=function(){return new Yh(this.graph)},n.prototype.createClipboard=function(){return new v0},n.prototype.createClipboardManager=function(){return new s0(this.graph)},n.prototype.createSnapline=function(){return new e0(y({graph:this.graph},this.options.snapline))},n.prototype.createSnaplineManager=function(){return new i0(this.graph)},n.prototype.createSelection=function(){return new Kh(y({graph:this.graph},this.options.selecting))},n.prototype.createSelectionManager=function(){return new c0(this.graph)},n.prototype.allowRubberband=function(t){return!0},n.prototype.createHistoryManager=function(){return new fu(y({graph:this.graph},this.options.history))},n.prototype.createScroller=function(){return this.options.scroller.enabled?new du(y({graph:this.graph},this.options.scroller)):null},n.prototype.createScrollerManager=function(){return new a0(this.graph)},n.prototype.allowPanning=function(t){return!0},n.prototype.createMiniMap=function(){var t=this.options.minimap,e=t.enabled,r=f(t,["enabled"]);return e?new t0(y({graph:this.graph},r)):null},n.prototype.createMiniMapManager=function(){return new h0(this.graph)},n.prototype.createKeyboard=function(){return new gu(y({graph:this.graph},this.options.keyboard))},n.prototype.createMouseWheel=function(){return new d0(y({graph:this.graph},this.options.mousewheel))},n.prototype.createPrintManager=function(){return new vu(this.graph)},n.prototype.createFormatManager=function(){return new f0(this.graph)},n.prototype.createPanningManager=function(){return new fx(this.graph)},n.prototype.createSizeManager=function(){return new gx(this.graph)},n.prototype.allowConnectToBlank=function(t){var e=this.options.connecting,r=e.allowBlank!=null?e.allowBlank:e.dangling;if(typeof r!="function")return!!r;var o=this.graph.findViewByCell(t),a=t.getSourceCell(),s=t.getTargetCell(),u=this.graph.findViewByCell(a),c=this.graph.findViewByCell(s);return Lt(r,this.graph,{edge:t,edgeView:o,sourceCell:a,targetCell:s,sourceView:u,targetView:c,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:o.sourceMagnet,targetMagnet:o.targetMagnet})},n.prototype.validateEdge=function(t,e,r){if(!this.allowConnectToBlank(t)){var o=t.getSourceCellId(),a=t.getTargetCellId();if(!o||!a)return!1}var s=this.options.connecting.validateEdge;return!s||Lt(s,this.graph,{edge:t,type:e,previous:r})},n.prototype.validateMagnet=function(t,e,r){if(e.getAttribute("magnet")!=="passive"){var o=this.options.connecting.validateMagnet;return!o||Lt(o,this.graph,{e:r,magnet:e,view:t,cell:t.cell})}return!1},n.prototype.getDefaultEdge=function(t,e){var r,o=this.options.connecting.createEdge;return o&&(r=Lt(o,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),r==null&&(r=new Hh),r},n.prototype.validateConnection=function(t,e,r,o,a,s,u){var c=this,h=this.options.connecting,d=h.allowLoop,g=h.allowNode,C=h.allowEdge,A=h.allowPort,D=h.allowMulti!=null?h.allowMulti:h.multi,k=h.validateConnection,O=s?s.cell:null,F=a==="target"?r:t,B=a==="target"?o:e,z=!0,Y=function(ut){var xt=a==="source"?u?u.port:null:O?O.getSourcePortId():null,Dt=a==="target"?u?u.port:null:O?O.getTargetPortId():null;return Lt(ut,c.graph,{edge:O,edgeView:s,sourceView:t,targetView:r,sourcePort:xt,targetPort:Dt,sourceMagnet:e,targetMagnet:o,sourceCell:t?t.cell:null,targetCell:r?r.cell:null,type:a})};if(d!=null&&(typeof d=="boolean"?d||t!==r||(z=!1):z=Y(d)),z&&A!=null&&(typeof A=="boolean"?!A&&B&&(z=!1):z=Y(A)),z&&C!=null&&(typeof C=="boolean"?!C&&l.EdgeView.isEdgeView(F)&&(z=!1):z=Y(C)),z&&g!=null&&B==null&&(typeof g=="boolean"?!g&&l.NodeView.isNodeView(F)&&(z=!1):z=Y(g)),z&&D!=null&&s){var w=s.cell,Q=a==="source"?u:w.getSource(),J=a==="target"?u:w.getTarget(),nt=u?this.graph.getCellById(u.cell):null;if(Q&&J&&Q.cell&&J.cell&&nt)if(typeof D=="function")z=Y(D);else{var lt=this.model.getConnectedEdges(nt,{outgoing:a==="source",incoming:a==="target"});lt.length&&(D==="withPort"?lt.some(function(ut){var xt=ut.getSource(),Dt=ut.getTarget();return xt&&Dt&&xt.cell===Q.cell&&Dt.cell===J.cell&&xt.port!=null&&xt.port===Q.port&&Dt.port!=null&&Dt.port===J.port})&&(z=!1):D||lt.some(function(ut){var xt=ut.getSource(),Dt=ut.getTarget();return xt&&Dt&&xt.cell===Q.cell&&Dt.cell===J.cell})&&(z=!1))}}return z&&k!=null&&(z=Y(k)),z},n.prototype.getRestrictArea=function(t){var e=this.options.translating.restrict,r=typeof e=="function"?Lt(e,this.graph,t):e;return typeof r=="number"?this.graph.transform.getGraphArea().inflate(r):r===!0?this.graph.transform.getGraphArea():r||null},n.prototype.onViewUpdated=function(t,e,r){e&ha.FLAG_INSERT||r.mounting||this.graph.renderer.requestConnectedEdgesUpdate(t,r)},n.prototype.onViewPostponed=function(t,e,r){return this.graph.renderer.forcePostponedViewUpdate(t,e)},n.prototype.getCellView=function(t){return null},n.prototype.createCellView=function(t){var e={graph:this.graph},r=this.getCellView(t);if(r)return new r(t,e);var o=t.view;if(o!=null&&typeof o=="string"){var a=l.CellView.registry.get(o);return a?new a(t,e):l.CellView.registry.onNotFound(o)}return t.isNode()?new l.NodeView(t,e):t.isEdge()?new l.EdgeView(t,e):null},n.prototype.getHTMLComponent=function(t){var e=t.getHTML();return typeof e=="string"&&(e=Wr.componentRegistry.get(e)||e),ar(e)&&(e=e.render),typeof e=="function"?Lt(e,this.graph,t):e},n.prototype.shouldUpdateHTMLComponent=function(t){var e=t.getHTML();if(typeof e=="string"&&(e=Wr.componentRegistry.get(e)||e),ar(e)){var r=e.shouldComponentUpdate;return typeof r=="function"?Lt(r,this.graph,t):!!r}return!1},n.prototype.onEdgeLabelRendered=function(t){},n.prototype.onPortRendered=function(t){},n.prototype.onToolItemCreated=function(t){},P([pe.hook()],n.prototype,"createModel",null),P([pe.hook()],n.prototype,"createView",null),P([pe.hook()],n.prototype,"createRenderer",null),P([pe.hook()],n.prototype,"createDefsManager",null),P([pe.hook()],n.prototype,"createGridManager",null),P([pe.hook()],n.prototype,"createCoordManager",null),P([pe.hook()],n.prototype,"createKnobManager",null),P([pe.hook()],n.prototype,"createTransform",null),P([pe.hook()],n.prototype,"createKnob",null),P([pe.hook()],n.prototype,"createTransformManager",null),P([pe.hook()],n.prototype,"createHighlightManager",null),P([pe.hook()],n.prototype,"createBackgroundManager",null),P([pe.hook()],n.prototype,"createClipboard",null),P([pe.hook()],n.prototype,"createClipboardManager",null),P([pe.hook()],n.prototype,"createSnapline",null),P([pe.hook()],n.prototype,"createSnaplineManager",null),P([pe.hook()],n.prototype,"createSelection",null),P([pe.hook()],n.prototype,"createSelectionManager",null),P([pe.hook()],n.prototype,"allowRubberband",null),P([pe.hook()],n.prototype,"createHistoryManager",null),P([pe.hook()],n.prototype,"createScroller",null),P([pe.hook()],n.prototype,"createScrollerManager",null),P([pe.hook()],n.prototype,"allowPanning",null),P([pe.hook()],n.prototype,"createMiniMap",null),P([pe.hook()],n.prototype,"createMiniMapManager",null),P([pe.hook()],n.prototype,"createKeyboard",null),P([pe.hook()],n.prototype,"createMouseWheel",null),P([pe.hook()],n.prototype,"createPrintManager",null),P([pe.hook()],n.prototype,"createFormatManager",null),P([pe.hook()],n.prototype,"createPanningManager",null),P([pe.hook()],n.prototype,"createSizeManager",null),P([pe.after()],n.prototype,"onViewUpdated",null),P([pe.after()],n.prototype,"onViewPostponed",null),P([pe.hook()],n.prototype,"getCellView",null),P([pe.hook(!0)],n.prototype,"createCellView",null),P([pe.hook()],n.prototype,"getHTMLComponent",null),P([pe.hook()],n.prototype,"shouldUpdateHTMLComponent",null),P([pe.hook()],n.prototype,"onEdgeLabelRendered",null),P([pe.hook()],n.prototype,"onPortRendered",null),P([pe.hook()],n.prototype,"onToolItemCreated",null),n}(ke);l.Graph=function(i){function n(t){var e=i.call(this)||this;return e.options=Xr.get(t),e.css=new $h(e),e.hook=new g0(e),e.view=e.hook.createView(),e.defs=e.hook.createDefsManager(),e.coord=e.hook.createCoordManager(),e.transform=e.hook.createTransformManager(),e.knob=e.hook.createKnobManager(),e.highlight=e.hook.createHighlightManager(),e.grid=e.hook.createGridManager(),e.background=e.hook.createBackgroundManager(),e.model=e.hook.createModel(),e.renderer=e.hook.createRenderer(),e.clipboard=e.hook.createClipboardManager(),e.snapline=e.hook.createSnaplineManager(),e.selection=e.hook.createSelectionManager(),e.history=e.hook.createHistoryManager(),e.scroller=e.hook.createScrollerManager(),e.minimap=e.hook.createMiniMapManager(),e.keyboard=e.hook.createKeyboard(),e.mousewheel=e.hook.createMouseWheel(),e.print=e.hook.createPrintManager(),e.format=e.hook.createFormatManager(),e.panning=e.hook.createPanningManager(),e.size=e.hook.createSizeManager(),e}return x(n,i),Object.defineProperty(n.prototype,"container",{get:function(){return this.view.container},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.isNode=function(t){return t.isNode()},n.prototype.isEdge=function(t){return t.isEdge()},n.prototype.resetCells=function(t,e){return e===void 0&&(e={}),this.model.resetCells(t,e),this},n.prototype.clearCells=function(t){return t===void 0&&(t={}),this.model.clear(t),this},n.prototype.toJSON=function(t){return t===void 0&&(t={}),this.model.toJSON(t)},n.prototype.parseJSON=function(t){return this.model.parseJSON(t)},n.prototype.fromJSON=function(t,e){return e===void 0&&(e={}),this.model.fromJSON(t,e),this},n.prototype.getCellById=function(t){return this.model.getCell(t)},n.prototype.addNode=function(t,e){return e===void 0&&(e={}),this.model.addNode(t,e)},n.prototype.addNodes=function(t,e){var r=this;return e===void 0&&(e={}),this.addCell(t.map(function(o){return l.Node.isNode(o)?o:r.createNode(o)}),e)},n.prototype.createNode=function(t){return this.model.createNode(t)},n.prototype.removeNode=function(t,e){return e===void 0&&(e={}),this.model.removeCell(t,e)},n.prototype.addEdge=function(t,e){return e===void 0&&(e={}),this.model.addEdge(t,e)},n.prototype.addEdges=function(t,e){var r=this;return e===void 0&&(e={}),this.addCell(t.map(function(o){return l.Edge.isEdge(o)?o:r.createEdge(o)}),e)},n.prototype.removeEdge=function(t,e){return e===void 0&&(e={}),this.model.removeCell(t,e)},n.prototype.createEdge=function(t){return this.model.createEdge(t)},n.prototype.addCell=function(t,e){return e===void 0&&(e={}),this.model.addCell(t,e),this},n.prototype.removeCell=function(t,e){return e===void 0&&(e={}),this.model.removeCell(t,e)},n.prototype.removeCells=function(t,e){return e===void 0&&(e={}),this.model.removeCells(t,e)},n.prototype.removeConnectedEdges=function(t,e){return e===void 0&&(e={}),this.model.removeConnectedEdges(t,e)},n.prototype.disconnectConnectedEdges=function(t,e){return e===void 0&&(e={}),this.model.disconnectConnectedEdges(t,e),this},n.prototype.hasCell=function(t){return this.model.has(t)},n.prototype.getCell=function(t){return this.model.getCell(t)},n.prototype.getCells=function(){return this.model.getCells()},n.prototype.getCellCount=function(){return this.model.total()},n.prototype.getNodes=function(){return this.model.getNodes()},n.prototype.getEdges=function(){return this.model.getEdges()},n.prototype.getOutgoingEdges=function(t){return this.model.getOutgoingEdges(t)},n.prototype.getIncomingEdges=function(t){return this.model.getIncomingEdges(t)},n.prototype.getConnectedEdges=function(t,e){return e===void 0&&(e={}),this.model.getConnectedEdges(t,e)},n.prototype.getRootNodes=function(){return this.model.getRoots()},n.prototype.getLeafNodes=function(){return this.model.getLeafs()},n.prototype.isRootNode=function(t){return this.model.isRoot(t)},n.prototype.isLeafNode=function(t){return this.model.isLeaf(t)},n.prototype.getNeighbors=function(t,e){return e===void 0&&(e={}),this.model.getNeighbors(t,e)},n.prototype.isNeighbor=function(t,e,r){return r===void 0&&(r={}),this.model.isNeighbor(t,e,r)},n.prototype.getSuccessors=function(t,e){return e===void 0&&(e={}),this.model.getSuccessors(t,e)},n.prototype.isSuccessor=function(t,e,r){return r===void 0&&(r={}),this.model.isSuccessor(t,e,r)},n.prototype.getPredecessors=function(t,e){return e===void 0&&(e={}),this.model.getPredecessors(t,e)},n.prototype.isPredecessor=function(t,e,r){return r===void 0&&(r={}),this.model.isPredecessor(t,e,r)},n.prototype.getCommonAncestor=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.model).getCommonAncestor.apply(t,e)},n.prototype.getSubGraph=function(t,e){return e===void 0&&(e={}),this.model.getSubGraph(t,e)},n.prototype.cloneSubGraph=function(t,e){return e===void 0&&(e={}),this.model.cloneSubGraph(t,e)},n.prototype.cloneCells=function(t){return this.model.cloneCells(t)},n.prototype.getNodesFromPoint=function(t,e){return this.model.getNodesFromPoint(t,e)},n.prototype.getNodesInArea=function(t,e,r,o,a){return this.model.getNodesInArea(t,e,r,o,a)},n.prototype.getNodesUnderNode=function(t,e){return e===void 0&&(e={}),this.model.getNodesUnderNode(t,e)},n.prototype.searchCell=function(t,e,r){return r===void 0&&(r={}),this.model.search(t,e,r),this},n.prototype.getShortestPath=function(t,e,r){return r===void 0&&(r={}),this.model.getShortestPath(t,e,r)},n.prototype.getAllCellsBBox=function(){return this.model.getAllCellsBBox()},n.prototype.getCellsBBox=function(t,e){return e===void 0&&(e={}),this.model.getCellsBBox(t,e)},n.prototype.startBatch=function(t,e){e===void 0&&(e={}),this.model.startBatch(t,e)},n.prototype.stopBatch=function(t,e){e===void 0&&(e={}),this.model.stopBatch(t,e)},n.prototype.batchUpdate=function(t,e,r){var o=typeof t=="string"?t:"update",a=typeof t=="string"?e:t,s=typeof e=="function"?r:e;this.startBatch(o,s);var u=a();return this.stopBatch(o,s),u},n.prototype.updateCellId=function(t,e){return this.model.updateCellId(t,e)},n.prototype.isFrozen=function(){return this.renderer.isFrozen()},n.prototype.freeze=function(t){return t===void 0&&(t={}),this.renderer.freeze(t),this},n.prototype.unfreeze=function(t){return t===void 0&&(t={}),this.renderer.unfreeze(t),this},n.prototype.isAsync=function(){return this.renderer.isAsync()},n.prototype.setAsync=function(t){return this.renderer.setAsync(t),this},n.prototype.findView=function(t){return l.Cell.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)},n.prototype.findViews=function(t){return l.Rectangle.isRectangleLike(t)?this.findViewsInArea(t):l.Point.isPointLike(t)?this.findViewsFromPoint(t):[]},n.prototype.findViewByCell=function(t){return this.renderer.findViewByCell(t)},n.prototype.findViewByElem=function(t){return this.renderer.findViewByElem(t)},n.prototype.findViewsFromPoint=function(t,e){var r=typeof t=="number"?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(r)},n.prototype.findViewsInArea=function(t,e,r,o,a){var s=typeof t=="number"?{x:t,y:e,width:r,height:o}:t,u=typeof t=="number"?a:e;return this.renderer.findViewsInArea(s,u)},n.prototype.isViewMounted=function(t){return this.renderer.isViewMounted(t)},n.prototype.getMountedViews=function(){return this.renderer.getMountedViews()},n.prototype.getUnmountedViews=function(){return this.renderer.getUnmountedViews()},n.prototype.matrix=function(t){return t===void 0?this.transform.getMatrix():(this.transform.setMatrix(t),this)},n.prototype.resize=function(t,e){return this.size.resize(t,e),this},n.prototype.resizeGraph=function(t,e){return this.size.resizeGraph(t,e),this},n.prototype.resizeScroller=function(t,e){return this.size.resizeScroller(t,e),this},n.prototype.resizePage=function(t,e){return this.size.resizePage(t,e),this},n.prototype.scale=function(t,e,r,o){return e===void 0&&(e=t),r===void 0&&(r=0),o===void 0&&(o=0),t===void 0?this.transform.getScale():(this.transform.scale(t,e,r,o),this)},n.prototype.zoom=function(t,e){var r=this.scroller.widget;if(r){if(t===void 0)return r.zoom();r.zoom(t,e)}else{if(t===void 0)return this.transform.getZoom();this.transform.zoom(t,e)}return this},n.prototype.zoomTo=function(t,e){e===void 0&&(e={});var r=this.scroller.widget;return r?r.zoom(t,y(y({},e),{absolute:!0})):this.transform.zoom(t,y(y({},e),{absolute:!0})),this},n.prototype.zoomToRect=function(t,e){e===void 0&&(e={});var r=this.scroller.widget;return r?r.zoomToRect(t,e):this.transform.zoomToRect(t,e),this},n.prototype.zoomToFit=function(t){t===void 0&&(t={});var e=this.scroller.widget;return e?e.zoomToFit(t):this.transform.zoomToFit(t),this},n.prototype.rotate=function(t,e,r){return t===void 0?this.transform.getRotation():(this.transform.rotate(t,e,r),this)},n.prototype.translate=function(t,e){return t===void 0?this.transform.getTranslation():(this.transform.translate(t,e),this)},n.prototype.translateBy=function(t,e){var r=this.translate(),o=r.tx+t,a=r.ty+e;return this.translate(o,a)},n.prototype.getArea=function(){return this.transform.getGraphArea()},n.prototype.getGraphArea=function(){return this.transform.getGraphArea()},n.prototype.getContentArea=function(t){return t===void 0&&(t={}),this.transform.getContentArea(t)},n.prototype.getContentBBox=function(t){return t===void 0&&(t={}),this.transform.getContentBBox(t)},n.prototype.fitToContent=function(t,e,r,o){return this.transform.fitToContent(t,e,r,o)},n.prototype.scaleContentToFit=function(t){return t===void 0&&(t={}),this.transform.scaleContentToFit(t),this},n.prototype.center=function(t){return this.centerPoint(t)},n.prototype.centerPoint=function(t,e,r){var o=this.scroller.widget;return o?o.centerPoint(t,e,r):this.transform.centerPoint(t,e),this},n.prototype.centerContent=function(t){var e=this.scroller.widget;return e?e.centerContent(t):this.transform.centerContent(t),this},n.prototype.centerCell=function(t,e){var r=this.scroller.widget;return r?r.centerCell(t,e):this.transform.centerCell(t),this},n.prototype.positionPoint=function(t,e,r,o){o===void 0&&(o={});var a=this.scroller.widget;return a?a.positionPoint(t,e,r,o):this.transform.positionPoint(t,e,r),this},n.prototype.positionRect=function(t,e,r){var o=this.scroller.widget;return o?o.positionRect(t,e,r):this.transform.positionRect(t,e),this},n.prototype.positionCell=function(t,e,r){var o=this.scroller.widget;return o?o.positionCell(t,e,r):this.transform.positionCell(t,e),this},n.prototype.positionContent=function(t,e){var r=this.scroller.widget;return r?r.positionContent(t,e):this.transform.positionContent(t,e),this},n.prototype.getClientMatrix=function(){return this.coord.getClientMatrix()},n.prototype.getClientOffset=function(){return this.coord.getClientOffset()},n.prototype.getPageOffset=function(){return this.coord.getPageOffset()},n.prototype.snapToGrid=function(t,e){return this.coord.snapToGrid(t,e)},n.prototype.pageToLocal=function(t,e,r,o){return l.Rectangle.isRectangleLike(t)?this.coord.pageToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof r=="number"&&typeof o=="number"?this.coord.pageToLocalRect(t,e,r,o):this.coord.pageToLocalPoint(t,e)},n.prototype.localToPage=function(t,e,r,o){return l.Rectangle.isRectangleLike(t)?this.coord.localToPageRect(t):typeof t=="number"&&typeof e=="number"&&typeof r=="number"&&typeof o=="number"?this.coord.localToPageRect(t,e,r,o):this.coord.localToPagePoint(t,e)},n.prototype.clientToLocal=function(t,e,r,o){return l.Rectangle.isRectangleLike(t)?this.coord.clientToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof r=="number"&&typeof o=="number"?this.coord.clientToLocalRect(t,e,r,o):this.coord.clientToLocalPoint(t,e)},n.prototype.localToClient=function(t,e,r,o){return l.Rectangle.isRectangleLike(t)?this.coord.localToClientRect(t):typeof t=="number"&&typeof e=="number"&&typeof r=="number"&&typeof o=="number"?this.coord.localToClientRect(t,e,r,o):this.coord.localToClientPoint(t,e)},n.prototype.localToGraph=function(t,e,r,o){return l.Rectangle.isRectangleLike(t)?this.coord.localToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof r=="number"&&typeof o=="number"?this.coord.localToGraphRect(t,e,r,o):this.coord.localToGraphPoint(t,e)},n.prototype.graphToLocal=function(t,e,r,o){return l.Rectangle.isRectangleLike(t)?this.coord.graphToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof r=="number"&&typeof o=="number"?this.coord.graphToLocalRect(t,e,r,o):this.coord.graphToLocalPoint(t,e)},n.prototype.clientToGraph=function(t,e,r,o){return l.Rectangle.isRectangleLike(t)?this.coord.clientToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof r=="number"&&typeof o=="number"?this.coord.clientToGraphRect(t,e,r,o):this.coord.clientToGraphPoint(t,e)},n.prototype.defineFilter=function(t){return this.defs.filter(t)},n.prototype.defineGradient=function(t){return this.defs.gradient(t)},n.prototype.defineMarker=function(t){return this.defs.marker(t)},n.prototype.getGridSize=function(){return this.grid.getGridSize()},n.prototype.setGridSize=function(t){return this.grid.setGridSize(t),this},n.prototype.showGrid=function(){return this.grid.show(),this},n.prototype.hideGrid=function(){return this.grid.hide(),this},n.prototype.clearGrid=function(){return this.grid.clear(),this},n.prototype.drawGrid=function(t){return this.grid.draw(t),this},n.prototype.updateBackground=function(){return this.background.update(),this},n.prototype.drawBackground=function(t,e){var r=this.scroller.widget;return r==null||this.options.background!=null&&e?this.background.draw(t):r.backgroundManager.draw(t),this},n.prototype.clearBackground=function(t){var e=this.scroller.widget;return e==null||this.options.background!=null&&t?this.background.clear():e.backgroundManager.clear(),this},n.prototype.isClipboardEnabled=function(){return!this.clipboard.disabled},n.prototype.enableClipboard=function(){return this.clipboard.enable(),this},n.prototype.disableClipboard=function(){return this.clipboard.disable(),this},n.prototype.toggleClipboard=function(t){return t!=null?t!==this.isClipboardEnabled()&&(t?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this},n.prototype.isClipboardEmpty=function(){return this.clipboard.isEmpty()},n.prototype.getCellsInClipboard=function(){return this.clipboard.cells},n.prototype.cleanClipboard=function(){return this.clipboard.clean(),this},n.prototype.copy=function(t,e){return e===void 0&&(e={}),this.clipboard.copy(t,e),this},n.prototype.cut=function(t,e){return e===void 0&&(e={}),this.clipboard.cut(t,e),this},n.prototype.paste=function(t,e){return t===void 0&&(t={}),e===void 0&&(e=this),this.clipboard.paste(t,e)},n.prototype.isHistoryEnabled=function(){return!this.history.disabled},n.prototype.enableHistory=function(){return this.history.enable(),this},n.prototype.disableHistory=function(){return this.history.disable(),this},n.prototype.toggleHistory=function(t){return t!=null?t!==this.isHistoryEnabled()&&(t?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this},n.prototype.undo=function(t){return t===void 0&&(t={}),this.history.undo(t),this},n.prototype.undoAndCancel=function(t){return t===void 0&&(t={}),this.history.cancel(t),this},n.prototype.redo=function(t){return t===void 0&&(t={}),this.history.redo(t),this},n.prototype.canUndo=function(){return this.history.canUndo()},n.prototype.canRedo=function(){return this.history.canRedo()},n.prototype.cleanHistory=function(t){t===void 0&&(t={}),this.history.clean(t)},n.prototype.isKeyboardEnabled=function(){return!this.keyboard.disabled},n.prototype.enableKeyboard=function(){return this.keyboard.enable(),this},n.prototype.disableKeyboard=function(){return this.keyboard.disable(),this},n.prototype.toggleKeyboard=function(t){return t!=null?t!==this.isKeyboardEnabled()&&(t?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this},n.prototype.bindKey=function(t,e,r){return this.keyboard.on(t,e,r),this},n.prototype.unbindKey=function(t,e){return this.keyboard.off(t,e),this},n.prototype.isMouseWheelEnabled=function(){return!this.mousewheel.disabled},n.prototype.enableMouseWheel=function(){return this.mousewheel.enable(),this},n.prototype.disableMouseWheel=function(){return this.mousewheel.disable(),this},n.prototype.toggleMouseWheel=function(t){return t==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this},n.prototype.isPannable=function(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable},n.prototype.enablePanning=function(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this},n.prototype.disablePanning=function(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this},n.prototype.togglePanning=function(t){return t==null?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this},n.prototype.lockScroller=function(){var t;(t=this.scroller.widget)===null||t===void 0||t.lock()},n.prototype.unlockScroller=function(){var t;(t=this.scroller.widget)===null||t===void 0||t.unlock()},n.prototype.updateScroller=function(){var t;(t=this.scroller.widget)===null||t===void 0||t.update()},n.prototype.getScrollbarPosition=function(){return this.scroller.widget.scrollbarPosition()},n.prototype.setScrollbarPosition=function(t,e,r){return this.scroller.widget.scrollbarPosition(t,e,r),this},n.prototype.scrollToPoint=function(t,e,r){return this.scroller.widget.scrollToPoint(t,e,r),this},n.prototype.scrollToContent=function(t){return this.scroller.widget.scrollToContent(t),this},n.prototype.scrollToCell=function(t,e){return this.scroller.widget.scrollToCell(t,e),this},n.prototype.transitionToPoint=function(t,e,r){return this.scroller.widget.transitionToPoint(t,e,r),this},n.prototype.transitionToRect=function(t,e){return e===void 0&&(e={}),this.scroller.widget.transitionToRect(t,e),this},n.prototype.isSelectionEnabled=function(){return!this.selection.disabled},n.prototype.enableSelection=function(){return this.selection.enable(),this},n.prototype.disableSelection=function(){return this.selection.disable(),this},n.prototype.toggleSelection=function(t){return t!=null?t!==this.isSelectionEnabled()&&(t?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this},n.prototype.isMultipleSelection=function(){return this.selection.isMultiple()},n.prototype.enableMultipleSelection=function(){return this.selection.enableMultiple(),this},n.prototype.disableMultipleSelection=function(){return this.selection.disableMultiple(),this},n.prototype.toggleMultipleSelection=function(t){return t!=null?t!==this.isMultipleSelection()&&(t?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this},n.prototype.isSelectionMovable=function(){return this.selection.widget.options.movable!==!1},n.prototype.enableSelectionMovable=function(){return this.selection.widget.options.movable=!0,this},n.prototype.disableSelectionMovable=function(){return this.selection.widget.options.movable=!1,this},n.prototype.toggleSelectionMovable=function(t){return t!=null?t!==this.isSelectionMovable()&&(t?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this},n.prototype.isRubberbandEnabled=function(){return!this.selection.rubberbandDisabled},n.prototype.enableRubberband=function(){return this.selection.enableRubberband(),this},n.prototype.disableRubberband=function(){return this.selection.disableRubberband(),this},n.prototype.toggleRubberband=function(t){return t!=null?t!==this.isRubberbandEnabled()&&(t?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this},n.prototype.isStrictRubberband=function(){return this.selection.widget.options.strict===!0},n.prototype.enableStrictRubberband=function(){return this.selection.widget.options.strict=!0,this},n.prototype.disableStrictRubberband=function(){return this.selection.widget.options.strict=!1,this},n.prototype.toggleStrictRubberband=function(t){return t!=null?t!==this.isStrictRubberband()&&(t?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this},n.prototype.setRubberbandModifiers=function(t){this.selection.setModifiers(t)},n.prototype.setSelectionFilter=function(t){return this.selection.setFilter(t),this},n.prototype.setSelectionDisplayContent=function(t){return this.selection.setContent(t),this},n.prototype.isSelectionEmpty=function(){return this.selection.isEmpty()},n.prototype.cleanSelection=function(t){return this.selection.clean(t),this},n.prototype.resetSelection=function(t,e){return this.selection.reset(t,e),this},n.prototype.getSelectedCells=function(){return this.selection.cells},n.prototype.getSelectedCellCount=function(){return this.selection.length},n.prototype.isSelected=function(t){return this.selection.isSelected(t)},n.prototype.select=function(t,e){return this.selection.select(t,e),this},n.prototype.unselect=function(t,e){return this.selection.unselect(t,e),this},n.prototype.isSnaplineEnabled=function(){return!this.snapline.widget.disabled},n.prototype.enableSnapline=function(){return this.snapline.widget.enable(),this},n.prototype.disableSnapline=function(){return this.snapline.widget.disable(),this},n.prototype.toggleSnapline=function(t){if(t==null)return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this;t!==this.isSnaplineEnabled()&&(t?this.enableSnapline():this.disableSnapline())},n.prototype.hideSnapline=function(){return this.snapline.widget.hide(),this},n.prototype.setSnaplineFilter=function(t){return this.snapline.widget.setFilter(t),this},n.prototype.isSnaplineOnResizingEnabled=function(){return this.snapline.widget.options.resizing===!0},n.prototype.enableSnaplineOnResizing=function(){return this.snapline.widget.options.resizing=!0,this},n.prototype.disableSnaplineOnResizing=function(){return this.snapline.widget.options.resizing=!1,this},n.prototype.toggleSnaplineOnResizing=function(t){return t!=null?t!==this.isSnaplineOnResizingEnabled()&&(t?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this},n.prototype.isSharpSnapline=function(){return this.snapline.widget.options.sharp===!0},n.prototype.enableSharpSnapline=function(){return this.snapline.widget.options.sharp=!0,this},n.prototype.disableSharpSnapline=function(){return this.snapline.widget.options.sharp=!1,this},n.prototype.toggleSharpSnapline=function(t){return t!=null?t!==this.isSharpSnapline()&&(t?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this},n.prototype.getSnaplineTolerance=function(){return this.snapline.widget.options.tolerance},n.prototype.setSnaplineTolerance=function(t){return this.snapline.widget.options.tolerance=t,this},n.prototype.removeTools=function(){return this.emit("tools:remove"),this},n.prototype.hideTools=function(){return this.emit("tools:hide"),this},n.prototype.showTools=function(){return this.emit("tools:show"),this},n.prototype.toSVG=function(t,e){e===void 0&&(e={}),this.format.toSVG(t,e)},n.prototype.toDataURL=function(t,e){this.format.toDataURL(t,e)},n.prototype.toPNG=function(t,e){e===void 0&&(e={}),this.format.toPNG(t,e)},n.prototype.toJPEG=function(t,e){e===void 0&&(e={}),this.format.toJPEG(t,e)},n.prototype.printPreview=function(t){this.print.show(t)},n.prototype.dispose=function(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()},P([Nr.checkScroller()],n.prototype,"lockScroller",null),P([Nr.checkScroller()],n.prototype,"unlockScroller",null),P([Nr.checkScroller()],n.prototype,"updateScroller",null),P([Nr.checkScroller()],n.prototype,"getScrollbarPosition",null),P([Nr.checkScroller()],n.prototype,"setScrollbarPosition",null),P([Nr.checkScroller()],n.prototype,"scrollToPoint",null),P([Nr.checkScroller()],n.prototype,"scrollToContent",null),P([Nr.checkScroller()],n.prototype,"scrollToCell",null),P([Nr.checkScroller()],n.prototype,"transitionToPoint",null),P([Nr.checkScroller()],n.prototype,"transitionToRect",null),P([l.Basecoat.dispose()],n.prototype,"dispose",null),n}(l.Basecoat),(Tn=l.Graph||(l.Graph={})).View=Ei,Tn.Hook=g0,Tn.Renderer=ha,Tn.Keyboard=gu,Tn.MouseWheel=d0,Tn.BaseManager=ke,Tn.DefsManager=n0,Tn.GridManager=r0,Tn.CoordManager=o0,Tn.PrintManager=vu,Tn.FormatManager=f0,Tn.MiniMapManager=h0,Tn.HistoryManager=fu,Tn.SnaplineManager=i0,Tn.ScrollerManager=a0,Tn.ClipboardManager=s0,Tn.TransformManager=u0,Tn.HighlightManager=l0,Tn.BackgroundManager=Yh,Tn.SelectionManager=c0,function(i){i.toStringTag="X6."+i.name,i.isGraph=function(n){if(n==null)return!1;if(n instanceof i)return!0;var t=n[Symbol.toStringTag],e=n;return(t==null||t===i.toStringTag)&&e.hook!=null&&e.view!=null&&e.model!=null}}(l.Graph||(l.Graph={})),function(i){i.render=function(n,t){var e=n instanceof HTMLElement?new i({container:n}):new i(n);return t!=null&&e.fromJSON(t),e}}(l.Graph||(l.Graph={})),function(i){i.registerNode=l.Node.registry.register,i.registerEdge=l.Edge.registry.register,i.registerView=l.CellView.registry.register,i.registerAttr=$r.registry.register,i.registerGrid=xo.registry.register,i.registerFilter=gi.registry.register,i.registerNodeTool=mi.registry.register,i.registerEdgeTool=bi.registry.register,i.registerBackground=aa.registry.register,i.registerHighlighter=oo.registry.register,i.registerPortLayout=$o.registry.register,i.registerPortLabelLayout=vi.registry.register,i.registerMarker=Co.registry.register,i.registerRouter=Eo.registry.register,i.registerConnector=Ko.registry.register,i.registerAnchor=Ci.registry.register,i.registerEdgeAnchor=xi.registry.register,i.registerConnectionPoint=wi.registry.register,i.registerConnectionStrategy=yi.registry.register,i.registerHTMLComponent=Wr.componentRegistry.register}(l.Graph||(l.Graph={})),function(i){i.unregisterNode=l.Node.registry.unregister,i.unregisterEdge=l.Edge.registry.unregister,i.unregisterView=l.CellView.registry.unregister,i.unregisterAttr=$r.registry.unregister,i.unregisterGrid=xo.registry.unregister,i.unregisterFilter=gi.registry.unregister,i.unregisterNodeTool=mi.registry.unregister,i.unregisterEdgeTool=bi.registry.unregister,i.unregisterBackground=aa.registry.unregister,i.unregisterHighlighter=oo.registry.unregister,i.unregisterPortLayout=$o.registry.unregister,i.unregisterPortLabelLayout=vi.registry.unregister,i.unregisterMarker=Co.registry.unregister,i.unregisterRouter=Eo.registry.unregister,i.unregisterConnector=Ko.registry.unregister,i.unregisterAnchor=Ci.registry.unregister,i.unregisterEdgeAnchor=xi.registry.unregister,i.unregisterConnectionPoint=wi.registry.unregister,i.unregisterConnectionStrategy=yi.registry.unregister,i.unregisterHTMLComponent=Wr.componentRegistry.unregister}(l.Graph||(l.Graph={}));var fs,v0=function(){function i(){this.cells=[]}return i.prototype.copy=function(n,t,e){e===void 0&&(e={}),this.options=y({},e);var r=(l.Model.isModel(t)?t:t.model).cloneSubGraph(n,e);this.cells=pl(Object.keys(r).map(function(o){return r[o]}),function(o){return o.isEdge()?2:1}),this.serialize(e)},i.prototype.cut=function(n,t,e){e===void 0&&(e={}),this.copy(n,t,e),(l.Graph.isGraph(t)?t.model:t).batchUpdate("cut",function(){n.forEach(function(r){return r.remove()})})},i.prototype.paste=function(n,t){var e=this;t===void 0&&(t={});var r=y(y({},this.options),t),o=r.offset,a=r.edgeProps,s=r.nodeProps,u=20,c=20;o&&(u=typeof o=="number"?o:o.dx,c=typeof o=="number"?o:o.dy),this.deserialize(r);var h=this.cells;h.forEach(function(g){g.model=null,g.removeProp("zIndex"),(u||c)&&g.translate(u,c),s&&g.isNode()&&g.prop(s),a&&g.isEdge()&&g.prop(a)});var d=l.Graph.isGraph(n)?n.model:n;return d.batchUpdate("paste",function(){d.addCells(e.cells)}),this.copy(h,n,t),h},i.prototype.serialize=function(n){n.useLocalStorage!==!1&&fs.save(this.cells)},i.prototype.deserialize=function(n){if(n.useLocalStorage){var t=fs.fetch();t&&(this.cells=t)}},i.prototype.isEmpty=function(){return this.cells.length<=0},i.prototype.clean=function(){this.options={},this.cells=[],fs.clean()},i}();(function(i){var n=lr.prefixCls+".clipboard.cells";i.save=function(t){if(window.localStorage){var e=t.map(function(r){return r.toJSON()});localStorage.setItem(n,JSON.stringify(e))}},i.fetch=function(){if(window.localStorage){var t=localStorage.getItem(n),e=t?JSON.parse(t):[];if(e)return l.Model.fromJSON(e)}},i.clean=function(){window.localStorage&&localStorage.removeItem(n)}})(fs||(fs={}));var yu,vx=function(){function i(n){this.halo=n}return Object.defineProperty(i.prototype,"options",{get:function(){return this.halo.options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"graph",{get:function(){return this.halo.graph},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){return this.halo.model},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"view",{get:function(){return this.halo.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cell",{get:function(){return this.halo.cell},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"node",{get:function(){return this.cell},enumerable:!1,configurable:!0}),i.prototype.getPresets=function(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox:function(n){return this.options.useCellGeometry?n.cell.getBBox():n.getBBox()},content:function(n){var t=li("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),e=n.cell,r=e.getBBox();return t({x:Math.floor(r.x),y:Math.floor(r.y),width:Math.floor(r.width),height:Math.floor(r.height),angle:Math.floor(e.getAngle())})},magnet:function(n){return n.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}},i.prototype.removeCell=function(){this.model.removeConnectedEdges(this.cell),this.cell.remove()},i.prototype.startLink=function(n){var t=n.x,e=n.y;this.halo.startBatch();var r=this.graph,o=this.createEdgeConnectedToSource();o.setTarget({x:t,y:e}),this.model.addEdge(o,{validation:!1,halo:this.halo.cid,async:!1}),r.view.undelegateEvents(),this.edgeView=r.renderer.findViewByCell(o),this.edgeView.prepareArrowheadDragging("target",{x:t,y:e,fallbackAction:"remove"})},i.prototype.createEdgeConnectedToSource=function(){var n=this.getMagnet(this.view,"source"),t=this.getEdgeTerminal(this.view,n),e=this.graph.hook.getDefaultEdge(this.view,n);return e.setSource(t),e},i.prototype.getMagnet=function(n,t){var e=this.options.magnet;if(typeof e=="function"){var r=Lt(e,this.halo,n,t);if(r instanceof SVGElement)return r}throw new Error("`magnet()` has to return an SVGElement")},i.prototype.getEdgeTerminal=function(n,t){var e={cell:n.cell.id};if(t!==n.container){var r=t.getAttribute("port");r?e.port=r:e.selector=n.getSelector(t)}return e},i.prototype.doLink=function(n){var t=n.e,e=n.x,r=n.y;this.edgeView&&this.edgeView.onMouseMove(t,e,r)},i.prototype.stopLink=function(n){var t=n.e,e=n.x,r=n.y,o=this.edgeView;if(o){o.onMouseUp(t,e,r);var a=o.cell;a.hasLoop()&&this.makeLoopEdge(a),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:a}),this.edgeView=null}this.graph.view.delegateEvents()},i.prototype.makeLoopEdge=function(n){var t=null,e=null,r=this.options.loopEdgeWidth,o=this.graph.options,a=new l.Rectangle(0,0,o.width,o.height),s=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(function(u){var c=null,h=0,d=0;switch(u){case"top":c=new l.Point(s.x+s.width/2,s.y-r),h=r/2;break;case"bottom":c=new l.Point(s.x+s.width/2,s.y+s.height+r),h=r/2;break;case"left":c=new l.Point(s.x-r,s.y+s.height/2),d=r/2;break;case"right":c=new l.Point(s.x+s.width+r,s.y+s.height/2),d=r/2}return!!c&&(t=c.translate(-h,-d),e=c.translate(h,d),a.containsPoint(t)&&a.containsPoint(e))})&&t&&e&&n.setVertices([t,e])},i.prototype.startResize=function(n){var t=n.e;this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(l.Angle.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),Mn("node:resize",t,this.view)},i.prototype.doResize=function(n){var t=n.e,e=n.dx,r=n.dy,o=this.node.getSize(),a=Math.max(o.width+(this.flip?e:r),1),s=Math.max(o.height+(this.flip?r:e),1);this.node.resize(a,s,{absolute:!0}),Mn("node:resizing",t,this.view)},i.prototype.stopResize=function(n){var t=n.e;this.view.removeClass("node-resizing"),Mn("node:resized",t,this.view),this.halo.stopBatch()},i.prototype.startClone=function(n){var t=n.e,e=n.x,r=n.y;this.halo.startBatch();var o=this.options.clone(this.cell,{clone:!0});if(!l.Cell.isCell(o))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(o,e,r),this.model.addCell(o,{halo:this.halo.cid,async:!1});var a=this.graph.renderer.findViewByCell(o);a.onMouseDown(t,e,r),this.halo.setEventData(t,{cloneView:a})},i.prototype.centerNodeAtCursor=function(n,t,e){var r=n.getBBox().getCenter(),o=t-r.x,a=e-r.y;n.translate(o,a)},i.prototype.doClone=function(n){var t=n.e,e=n.x,r=n.y,o=this.halo.getEventData(t).cloneView;o&&o.onMouseMove(t,e,r)},i.prototype.stopClone=function(n){var t=n.e,e=n.x,r=n.y,o=this.halo.getEventData(t).cloneView;o&&o.onMouseUp(t,e,r),this.halo.stopBatch()},i.prototype.startFork=function(n){var t=n.e,e=n.x,r=n.y;this.halo.startBatch();var o=this.options.clone(this.cell,{fork:!0});if(!l.Cell.isCell(o))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(o,e,r),this.model.addCell(o,{halo:this.halo.cid,async:!1});var a=this.createEdgeConnectedToSource(),s=this.graph.renderer.findViewByCell(o),u=this.getMagnet(s,"target"),c=this.getEdgeTerminal(s,u);a.setTarget(c),this.model.addEdge(a,{halo:this.halo.cid,async:!1}),s.onMouseDown(t,e,r),this.halo.setEventData(t,{cloneView:s})},i.prototype.doFork=function(n){var t=n.e,e=n.x,r=n.y,o=this.halo.getEventData(t).cloneView;o&&o.onMouseMove(t,e,r)},i.prototype.stopFork=function(n){var t=n.e,e=n.x,r=n.y,o=this.halo.getEventData(t).cloneView;o&&o.onMouseUp(t,e,r),this.halo.stopBatch()},i.prototype.startRotate=function(n){var t=this,e=n.e,r=n.x,o=n.y;this.halo.startBatch();var a=this.node.getBBox().getCenter(),s=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce(function(u,c){return c.isNode()&&u.push(c),u},s),this.halo.setEventData(e,{center:a,nodes:s,rotateStartAngles:s.map(function(u){return u.getAngle()}),clientStartAngle:new l.Point(r,o).theta(a)}),s.forEach(function(u){var c=t.graph.findViewByCell(u);c&&(c.addClass("node-rotating"),Mn("node:rotate",e,c))})},i.prototype.doRotate=function(n){var t=this,e=n.e,r=n.x,o=n.y,a=this.halo.getEventData(e),s=a.clientStartAngle-new l.Point(r,o).theta(a.center);a.nodes.forEach(function(u,c){var h=a.rotateStartAngles[c],d=l.Util.snapToGrid(h+s,t.options.rotateGrid);u.rotate(d,{absolute:!0,center:a.center,halo:t.halo.cid}),Mn("node:rotating",e,t.graph.findViewByCell(u))})},i.prototype.stopRotate=function(n){var t=this,e=n.e;this.halo.getEventData(e).nodes.forEach(function(r){var o=t.graph.findViewByCell(r);o.removeClass("node-rotating"),Mn("node:rotated",e,o)}),this.halo.stopBatch()},i.prototype.unlink=function(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()},i}(),yx=function(){function i(n){this.halo=n}return Object.defineProperty(i.prototype,"options",{get:function(){return this.halo.options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"graph",{get:function(){return this.halo.graph},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){return this.halo.model},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"view",{get:function(){return this.halo.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cell",{get:function(){return this.halo.cell},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"edge",{get:function(){return this.cell},enumerable:!1,configurable:!0}),i.prototype.getPresets=function(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox:function(n){return n.graph.localToGraph(n.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}},i.prototype.removeEdge=function(){this.cell.remove()},i.prototype.directionSwap=function(){var n=this.edge.getSource(),t=this.edge.getTarget();this.edge.prop({source:t,target:n})},i}(),mu=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return x(n,i),Object.defineProperty(n.prototype,"type",{get:function(){return this.options.type||"surround"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"handleOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),n.prototype.init=function(t){this.options=Ve(n.defaultOptions,this.cell.isNode()?new vx(this).getPresets():this.cell.isEdge()?new yx(this).getPresets():null,t),this.render(),this.initHandles(),this.update(),this.startListening()},n.prototype.startListening=function(){var t=this.model,e=this.graph;this.view.cell.on("removed",this.remove,this),t.on("reseted",this.remove,this),e.on("halo:destroy",this.remove,this),t.on("*",this.update,this),e.on("scale",this.update,this),e.on("translate",this.update,this),i.prototype.startListening.call(this)},n.prototype.stopListening=function(){var t=this.model,e=this.graph,r=this.view.cell;this.undelegateEvents(),r.off("removed",this.remove,this),t.off("reseted",this.remove,this),e.off("halo:destroy",this.remove,this),t.off("*",this.update,this),e.off("scale",this.update,this),e.off("translate",this.update,this),i.prototype.stopListening.call(this)},n.prototype.render=function(){var t=this.options,e=this.prefixClassName("widget-halo");return this.view.addClass(yu.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(e).attr("data-shape",this.view.cell.shape),t.className&&this.$container.addClass(t.className),this.$handleContainer=this.$("<div/>").addClass(e+"-handles").appendTo(this.container),this.$content=this.$("<div/>").addClass(e+"-content").appendTo(this.container),this.$container.appendTo(this.graph.container),this},n.prototype.remove=function(){return this.stopBatch(),this.view.removeClass(yu.NODE_CLS),i.prototype.remove.call(this)},n.prototype.update=function(){if(this.isRendered()){this.updateContent();var t=this.getBBox(),e=this.options.tinyThreshold||0,r=this.options.smallThreshold||0;this.$handleContainer.toggleClass(this.handleClassName+"-tiny",t.width<e&&t.height<e);var o=this.handleClassName+"-small";this.$handleContainer.toggleClass(o,!this.$handleContainer.hasClass(o)&&t.width<r&&t.height<r),this.$container.css({width:t.width,height:t.height,left:t.x,top:t.y}),this.hasHandle("unlink")&&this.toggleUnlink(),this.type!=="surround"&&this.type!=="toolbar"||this.hasHandle("fork")&&this.toggleFork()}},n.prototype.updateContent=function(){var t=this.options.content;if(typeof t=="function"){var e=Lt(t,this,this.view,this.$content[0]);e&&this.$content.html(e)}else t?this.$content.html(t):this.$content.remove()},n.prototype.getBBox=function(){var t=this.view,e=this.options.bbox,r=typeof e=="function"?Lt(e,this,t):e;return l.Rectangle.create(y({x:0,y:0,width:1,height:1},r))},n.prototype.removeCell=function(){this.cell.remove()},n.prototype.toggleFork=function(){var t=this.view.cell.clone(),e=this.graph.hook.createCellView(t),r=this.graph.hook.validateConnection(this.view,null,e,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!r),e.remove()},n.prototype.toggleUnlink=function(){var t=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!t)},n.prototype.startBatch=function(){this.model.startBatch("halo",{halo:this.cid})},n.prototype.stopBatch=function(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})},n}(Wh);(function(i){i.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:function(n){return n.clone().removeZIndex()}}})(mu||(mu={})),Object.getOwnPropertyNames(ps.prototype).forEach(function(i){i!=="constructor"&&Object.defineProperty(mu.prototype,i,Object.getOwnPropertyDescriptor(ps.prototype,i))}),function(i){i.NODE_CLS="has-widget-halo"}(yu||(yu={}));var so,gs=function(i){function n(t){var e=i.call(this)||this;return e.options=y(y({},n.defaults),t),e.container=document.createElement("div"),e.$container=e.$(e.container).addClass(e.prefixClassName("widget-dnd")),e.draggingGraph=new l.Graph(y(y({},e.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),e.$container.append(e.draggingGraph.container),e}return x(n,i),Object.defineProperty(n.prototype,"targetScroller",{get:function(){var t=this.options.target;return l.Graph.isGraph(t)?t.scroller.widget:t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"targetGraph",{get:function(){var t=this.options.target;return l.Graph.isGraph(t)?t:t.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"targetModel",{get:function(){return this.targetGraph.model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"snapline",{get:function(){return this.targetGraph.snapline.widget},enumerable:!1,configurable:!0}),n.prototype.start=function(t,e){var r=e;r.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.containerParent||document.body),this.sourceNode=t,this.prepareDragging(t,r.clientX,r.clientY);var o=this.updateNodePosition(r.clientX,r.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:r,node:t,cell:t,view:this.draggingView,x:o.x,y:o.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(n.documentEvents,r.data)},n.prototype.isSnaplineEnabled=function(){return this.snapline&&!this.snapline.disabled},n.prototype.prepareDragging=function(t,e,r){var o=this.draggingGraph,a=o.model,s=this.options.getDragNode(t,{sourceNode:t,draggingGraph:o,targetGraph:this.targetGraph});s.position(0,0);var u=5;if(this.isSnaplineEnabled()&&(u+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){var c=this.targetGraph.transform.getScale();o.scale(c.sx,c.sy),u*=Math.max(c.sx,c.sy)}else o.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),a.resetCells([s]);var h=o.findViewByCell(s);h.undelegateEvents(),h.cell.off("changed"),o.fitToContent({padding:u,allowNewOrigin:"any"});var d=h.getBBox();this.geometryBBox=h.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(d.getTopLeft()),this.draggingNode=s,this.draggingView=h,this.draggingBBox=s.getBBox(),this.padding=u,this.originOffset=this.updateGraphPosition(e,r)},n.prototype.updateGraphPosition=function(t,e){var r=document.body.scrollTop||document.documentElement.scrollTop,o=this.delta,a=this.geometryBBox,s=this.padding||5,u={left:t-o.x-a.width/2-s,top:e-o.y-a.height/2-s+r};return this.draggingGraph&&this.$container.offset(u),u},n.prototype.updateNodePosition=function(t,e){var r=this.targetGraph.clientToLocal(t,e),o=this.draggingBBox;return r.x-=o.width/2,r.y-=o.height/2,this.draggingNode.position(r.x,r.y),r},n.prototype.snap=function(t){var e=t.cell,r=t.current,o=t.options,a=e;if(o.snapped){var s=this.draggingBBox;a.position(s.x+o.tx,s.y+o.ty,{silent:!0}),this.draggingView.translate(),a.position(r.x,r.y,{silent:!0}),this.snapOffset={x:o.tx,y:o.ty}}else this.snapOffset=null},n.prototype.onDragging=function(t){var e=this.draggingView;if(e){t.preventDefault();var r=this.normalizeEvent(t),o=r.clientX,a=r.clientY;this.updateGraphPosition(o,a);var s=this.updateNodePosition(o,a),u=this.targetGraph.options.embedding.enabled,c=(u||this.isSnaplineEnabled())&&this.isInsideValidArea({x:o,y:a});if(u){e.setEventData(r,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});var h=e.getEventData(r);c?e.processEmbedding(r,h):e.clearEmbedding(h),this.candidateEmbedView=h.candidateEmbedView}this.isSnaplineEnabled()&&(c?this.snapline.snapOnMoving({e:r,view:e,x:s.x,y:s.y}):this.snapline.hide())}},n.prototype.onDragEnd=function(t){var e=this,r=this.draggingNode;if(r){var o=this.normalizeEvent(t),a=this.draggingView,s=this.draggingBBox,u=this.snapOffset,c=s.x,h=s.y;u&&(c+=u.x,h+=u.y),r.position(c,h,{silent:!0});var d=this.drop(r,{x:o.clientX,y:o.clientY}),g=function(C){C?(e.onDropped(r),e.targetGraph.options.embedding.enabled&&a&&(a.setEventData(o,{cell:C,graph:e.targetGraph,candidateEmbedView:e.candidateEmbedView}),a.finalizeEmbedding(o,a.getEventData(o)))):e.onDropInvalid(),e.candidateEmbedView=null,e.targetModel.stopBatch("dnd")};Cl(d)?(this.undelegateDocumentEvents(),d.then(g)):g(d)}},n.prototype.clearDragging=function(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())},n.prototype.onDropped=function(t){this.draggingNode===t&&(this.clearDragging(),this.$container.removeClass("dragging").remove())},n.prototype.onDropInvalid=function(){var t=this,e=this.draggingNode;if(e){var r=this.options.animation;if(r){var o=typeof r=="object"&&r.duration||150,a=typeof r=="object"&&r.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,o,a,function(){return t.onDropped(e)})}else this.onDropped(e)}},n.prototype.isInsideValidArea=function(t){var e,r=null,o=this.targetGraph,a=this.targetScroller;this.options.dndContainer&&(r=this.getDropArea(this.options.dndContainer));var s=r&&r.containsPoint(t);if(a)if(a.options.autoResize)e=this.getDropArea(a.container);else{var u=this.getDropArea(a.container);e=this.getDropArea(o.container).intersectsWithRect(u)}else e=this.getDropArea(o.container);return!s&&e&&e.containsPoint(t)},n.prototype.getDropArea=function(t){var e=this.$(t),r=e.offset(),o=document.body.scrollTop||document.documentElement.scrollTop,a=document.body.scrollLeft||document.documentElement.scrollLeft;return l.Rectangle.create({x:r.left+parseInt(e.css("border-left-width"),10)-a,y:r.top+parseInt(e.css("border-top-width"),10)-o,width:e.innerWidth(),height:e.innerHeight()})},n.prototype.drop=function(t,e){var r=this;if(this.isInsideValidArea(e)){var o=this.targetGraph,a=o.model,s=o.clientToLocal(e),u=this.sourceNode,c=this.options.getDropNode(t,{sourceNode:u,draggingNode:t,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),h=c.getBBox();s.x+=h.x-h.width/2,s.y+=h.y-h.height/2;var d=this.snapOffset?1:o.getGridSize();c.position(l.Util.snapToGrid(s.x,d),l.Util.snapToGrid(s.y,d)),c.removeZIndex();var g=this.options.validateNode,C=!g||g(c,{sourceNode:u,draggingNode:t,droppingNode:c,targetGraph:o,draggingGraph:this.draggingGraph});return typeof C=="boolean"?C?(a.addCell(c,{stencil:this.cid}),c):null:cg(C).then(function(A){return A?(a.addCell(c,{stencil:r.cid}),c):null})}return null},n.prototype.onRemove=function(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())},n.prototype.dispose=function(){this.remove()},P([l.View.dispose()],n.prototype,"dispose",null),n}(l.View);(function(i){i.defaults={animation:!1,getDragNode:function(n){return n.clone()},getDropNode:function(n){return n.clone()}},i.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}})(gs||(gs={})),function(i){i.getMaxDim=function(n,t){return n.reduce(function(e,r){return Math.max(r.getSize()[t],e)},0)},i.getNodesInRow=function(n,t,e){for(var r=[],o=e*t,a=o+e;o<a;o+=1)r.push(n[o]);return r},i.getNodesInColumn=function(n,t,e){for(var r=[],o=t,a=n.length;o<a;o+=e)r.push(n[o]);return r},i.accumulate=function(n,t){return n.reduce(function(e,r,o){return e.push(e[o]+r),e},[t||0])}}(so||(so={}));var ur,vs,Zh=function(i){function n(t){var e=i.call(this)||this;e.graphs={},e.$groups={},e.options=y(y({},n.defaultOptions),t),e.dnd=new gs(e.options),e.onSearch=Dc(e.onSearch,200),e.container=document.createElement("div"),e.$container=e.$(e.container).addClass(e.prefixClassName(ur.base)).attr("data-not-found-text",e.options.notFoundText||"No matches found"),e.options.collapsable=t.collapsable&&t.groups&&t.groups.some(function(a){return a.collapsable!==!1}),e.options.collapsable&&(e.$container.addClass("collapsable"),t.groups&&t.groups.every(function(a){return a.collapsed||a.collapsable===!1})&&e.$container.addClass("collapsed")),e.$("<div/>").addClass(e.prefixClassName(ur.title)).html(e.options.title).appendTo(e.$container),t.search&&e.$container.addClass("searchable").append(e.renderSearch()),e.$content=e.$("<div/>").addClass(e.prefixClassName(ur.content)).appendTo(e.$container);var r=t.stencilGraphOptions||{};if(t.groups&&t.groups.length)t.groups.forEach(function(a){var s=e.$("<div/>").addClass(e.prefixClassName(ur.group)).attr("data-name",a.name);(a.collapsable==null&&t.collapsable||a.collapsable!==!1)&&s.addClass("collapsable"),s.toggleClass("collapsed",a.collapsed===!0);var u=e.$("<h3/>").addClass(e.prefixClassName(ur.groupTitle)).html(a.title||a.name),c=e.$("<div/>").addClass(e.prefixClassName(ur.groupContent)),h=a.graphOptions,d=new l.Graph(y(y(y({},r),h),{container:document.createElement("div"),model:r.model||new l.Model,width:a.graphWidth||t.stencilGraphWidth,height:a.graphHeight||t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));c.append(d.container),s.append(u,c).appendTo(e.$content),e.$groups[a.name]=s,e.graphs[a.name]=d});else{var o=new l.Graph(y(y({},r),{container:document.createElement("div"),model:r.model||new l.Model,width:t.stencilGraphWidth,height:t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));e.$content.append(o.container),e.graphs[vs.defaultGroupName]=o}return e.startListening(),e}return x(n,i),Object.defineProperty(n.prototype,"targetScroller",{get:function(){var t=this.options.target;return l.Graph.isGraph(t)?t.scroller.widget:t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"targetGraph",{get:function(){var t=this.options.target;return l.Graph.isGraph(t)?t:t.graph},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"targetModel",{get:function(){return this.targetGraph.model},enumerable:!1,configurable:!0}),n.prototype.renderSearch=function(){return this.$("<div/>").addClass(this.prefixClassName(ur.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(ur.searchText)))},n.prototype.startListening=function(){var t,e=this,r=this.prefixClassName(ur.title),o=this.prefixClassName(ur.searchText),a=this.prefixClassName(ur.groupTitle);this.delegateEvents(((t={})["click ."+r]="onTitleClick",t["touchstart ."+r]="onTitleClick",t["click ."+a]="onGroupTitleClick",t["touchstart ."+a]="onGroupTitleClick",t["input ."+o]="onSearch",t["focusin ."+o]="onSearchFocusIn",t["focusout ."+o]="onSearchFocusOut",t)),Object.keys(this.graphs).forEach(function(s){e.graphs[s].on("cell:mousedown",e.onDragStart,e)})},n.prototype.stopListening=function(){var t=this;this.undelegateEvents(),Object.keys(this.graphs).forEach(function(e){t.graphs[e].off("cell:mousedown",t.onDragStart,t)})},n.prototype.load=function(t,e){var r=this;return Array.isArray(t)?this.loadGroup(t,e):this.options.groups&&Object.keys(this.options.groups).forEach(function(o){t[o]&&r.loadGroup(t[o],o)}),this},n.prototype.loadGroup=function(t,e){var r=this.getModel(e);if(r){var o=t.map(function(h){return l.Node.isNode(h)?h:l.Node.create(h)});r.resetCells(o)}var a=this.getGroup(e),s=this.options.stencilGraphHeight;a&&a.graphHeight!=null&&(s=a.graphHeight);var u=a&&a.layout||this.options.layout;if(u&&r&&Lt(u,this,r,a),!s){var c=this.getGraph(e);c.fitToContent({minWidth:c.options.width,gridHeight:1,padding:a&&a.graphPadding||this.options.stencilGraphPadding||10})}return this},n.prototype.onDragStart=function(t){var e=t.e,r=t.node;this.dnd.start(r,e)},n.prototype.filter=function(t,e){var r=this,o=Object.keys(this.graphs).reduce(function(a,s){var u=r.graphs[s],c=s===vs.defaultGroupName?null:s,h=u.model.getNodes().filter(function(A){var D=!1;D=typeof e=="function"?Lt(e,r,A,t,c,r):typeof e=="boolean"?e:r.isCellMatched(A,t,e,t.toLowerCase()!==t);var k=u.renderer.findViewByCell(A);return k&&k.$(k.container).toggleClass("unmatched",!D),D}),d=h.length>0,g=r.options,C=new l.Model;return C.resetCells(h),g.layout&&Lt(g.layout,r,C,r.getGroup(s)),r.$groups[s]&&r.$groups[s].toggleClass("unmatched",!d),u.fitToContent({gridWidth:1,gridHeight:1,padding:g.stencilGraphPadding||10}),a||d},!1);this.$container.toggleClass("not-found",!o)},n.prototype.isCellMatched=function(t,e,r,o){return!e||!r||Object.keys(r).some(function(a){if(a==="*"||t.shape===a){var s=r[a];return typeof s=="boolean"?s:(Array.isArray(s)?s:[s]).some(function(u){var c=t.getPropByPath(u);return c!=null&&(c=""+c,o||(c=c.toLowerCase()),c.indexOf(e)>=0)})}return!1})},n.prototype.onSearch=function(t){this.filter(t.target.value,this.options.search)},n.prototype.onSearchFocusIn=function(){this.$container.addClass("is-focused")},n.prototype.onSearchFocusOut=function(){this.$container.removeClass("is-focused")},n.prototype.onTitleClick=function(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())},n.prototype.onGroupTitleClick=function(t){var e=this,r=this.$(t.target).closest("."+this.prefixClassName(ur.group));this.toggleGroup(r.attr("data-name")||"");var o=Object.keys(this.$groups).every(function(a){var s=e.getGroup(a),u=e.$groups[a];return s&&s.collapsable===!1||u.hasClass("collapsed")});this.$container.toggleClass("collapsed",o)},n.prototype.getModel=function(t){var e=this.getGraph(t);return e?e.model:null},n.prototype.getGraph=function(t){return this.graphs[t||vs.defaultGroupName]},n.prototype.getGroup=function(t){var e=this.options.groups;return t!=null&&e&&e.length?e.find(function(r){return r.name===t}):null},n.prototype.toggleGroup=function(t){return this.isGroupCollapsed(t)?this.expandGroup(t):this.collapseGroup(t),this},n.prototype.collapseGroup=function(t){if(this.isGroupCollapsable(t)){var e=this.$groups[t];e&&!this.isGroupCollapsed(t)&&(this.trigger("group:collapse",{name:t}),e.addClass("collapsed"))}return this},n.prototype.expandGroup=function(t){if(this.isGroupCollapsable(t)){var e=this.$groups[t];e&&this.isGroupCollapsed(t)&&(this.trigger("group:expand",{name:t}),e.removeClass("collapsed"))}return this},n.prototype.isGroupCollapsable=function(t){return this.$groups[t].hasClass("collapsable")},n.prototype.isGroupCollapsed=function(t){var e=this.$groups[t];return e&&e.hasClass("collapsed")},n.prototype.collapseGroups=function(){var t=this;return Object.keys(this.$groups).forEach(function(e){return t.collapseGroup(e)}),this},n.prototype.expandGroups=function(){var t=this;return Object.keys(this.$groups).forEach(function(e){return t.expandGroup(e)}),this},n.prototype.resizeGroup=function(t,e){var r=this.graphs[t];return r&&r.resize(e.width,e.height),this},n.prototype.onRemove=function(){var t=this;Object.keys(this.graphs).forEach(function(e){t.graphs[e].view.remove(),delete t.graphs[e]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()},n}(l.View);(function(i){i.defaultOptions=y({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout:function(n,t){var e={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};(function(r,o){o===void 0&&(o={});var a=l.Model.isModel(r)?r:new l.Model().resetCells(r,{sort:!1,dryrun:!0}),s=a.getNodes(),u=o.columns||1,c=Math.ceil(s.length/u),h=o.dx||0,d=o.dy||0,g=o.center!==!1,C=o.resizeToFit===!0,A=o.marginX||0,D=o.marginY||0,k=[],O=o.columnWidth;if(O==="compact")for(var F=0;F<u;F+=1){var B=so.getNodesInColumn(s,F,u);k.push(so.getMaxDim(B,"width")+h)}else{O!=null&&O!=="auto"||(O=so.getMaxDim(s,"width")+h);for(var z=0;z<u;z+=1)k.push(O)}var Y=so.accumulate(k,A),w=[],Q=o.rowHeight;if(Q==="compact")for(z=0;z<c;z+=1)B=so.getNodesInRow(s,z,u),w.push(so.getMaxDim(B,"height")+d);else for(Q!=null&&Q!=="auto"||(Q=so.getMaxDim(s,"height")+d),z=0;z<c;z+=1)w.push(Q);var J=so.accumulate(w,D);a.startBatch("layout"),s.forEach(function(nt,lt){var ut=lt%u,xt=Math.floor(lt/u),Dt=k[ut],ft=w[xt],At=0,Ot=0,Pt=nt.getSize();if(C){var It=Dt-2*h,Vt=ft-2*d,Rt=Pt.height*(Pt.width?It/Pt.width:1),Zt=Pt.width*(Pt.height?Vt/Pt.height:1);ft<Rt?It=Zt:Vt=Rt,Pt={width:It,height:Vt},nt.setSize(Pt,o)}g&&(At=(Dt-Pt.width)/2,Ot=(ft-Pt.height)/2),nt.position(Y[ut]+h+At,J[xt]+d+Ot,o)}),a.stopBatch("layout")})(n,y(y(y({},e),this.options.layoutOptions),t?t.layoutOptions:{}))}},gs.defaults)})(Zh||(Zh={})),function(i){i.base="widget-stencil",i.title=i.base+"-title",i.search=i.base+"-search",i.searchText=i.search+"-text",i.content=i.base+"-content",i.group=i.base+"-group",i.groupTitle=i.group+"-title",i.groupContent=i.group+"-content"}(ur||(ur={})),function(i){i.defaultGroupName="__default__"}(vs||(vs={}));var mx=Object.freeze({__proto__:null,get AutoSave(){return Uh},Clipboard:v0,get Halo(){return mu},MiniMap:t0,get Scroller(){return du},Selection:Kh,Snapline:e0,Transform:Jh,Knob:Xh,get Dnd(){return gs},get Stencil(){return Zh}});l.Addon=mx,l.ArrayExt=Ob,l.Collection=Gh,l.Config=lr,l.Dictionary=Jl,l.Disablable=Fh,l.DisposableDelegate=cC,l.Dom=a1,l.Events=Mv,l.FunctionExt=Kc,l.JQuery=I,l.Lang=Db,l.NumberExt=Gb,l.ObjectExt=Lb,l.Registry=WC,l.Segment=Ka,l.Shape=hx,l.StringExt=Vb,l.Text=$b,Object.defineProperty(l,"__esModule",{value:!0})})})(No,No.exports);var $p={};(function(v){Object.defineProperty(v,"__esModule",{value:!0}),v.registry=void 0;var m=No.exports;v.registry=m.Registry.create({type:"vue componnet"}),m.Graph.registerVueComponent=v.registry.register,m.Graph.unregisterVueComponent=v.registry.unregister})($p);var iy=No.exports,ay=$p;iy.Graph.Hook.prototype.getVueComponent=function(v){var m=this.options.getVueComponent;if(typeof m=="function"){var l=iy.FunctionExt.call(m,this.graph,v);if(l!=null)return l}var E=v.getComponent();if(typeof E=="string"){var x=ay.registry.get(E);if(x==null)return ay.registry.onNotFound(E);E=x}return E};var Iy={};(function(v){var m=Ln&&Ln.__extends||function(){var y=function(f,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,N){T.__proto__=N}||function(T,N){for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(T[j]=N[j])},y(f,P)};return function(f,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(f,P);function T(){this.constructor=f}f.prototype=P===null?Object.create(P):(T.prototype=P.prototype,new T)}}(),l=Ln&&Ln.__assign||function(){return l=Object.assign||function(y){for(var f,P=1,T=arguments.length;P<T;P++){f=arguments[P];for(var N in f)Object.prototype.hasOwnProperty.call(f,N)&&(y[N]=f[N])}return y},l.apply(this,arguments)};Object.defineProperty(v,"__esModule",{value:!0}),v.VueShape=void 0;var E=No.exports,x=function(y){m(f,y);function f(){return y!==null&&y.apply(this,arguments)||this}return Object.defineProperty(f.prototype,"component",{get:function(){return this.getComponent()},set:function(P){this.setComponent(P)},enumerable:!1,configurable:!0}),f.prototype.getComponent=function(){return this.store.get("component")},f.prototype.setComponent=function(P,T){return T===void 0&&(T={}),P==null?this.removeComponent(T):this.store.set("component",P,T),this},f.prototype.removeComponent=function(P){return P===void 0&&(P={}),this.store.remove("component",P),this},f}(E.Node);v.VueShape=x,function(y){function f(P,T){T===void 0&&(T="rect");var N=[{tagName:T,selector:"body"}];return P?N.push(E.Markup.getForeignObjectMarkup()):N.push({tagName:"g",selector:"content"}),N.push({tagName:"text",selector:"label"}),N}y.config({view:"vue-shape-view",markup:f(!0),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"},label:{fontSize:14,fill:"#333",refX:"50%",refY:"50%",textAnchor:"middle",textVerticalAnchor:"middle"}},propHooks:function(P){if(P.markup==null){var T=P.primer,N=P.useForeignObject;if((T!=null||N!=null)&&(P.markup=f(N!==!1,T),T)){P.attrs==null&&(P.attrs={});var j={};T==="circle"?j={refCx:"50%",refCy:"50%",refR:"50%"}:T==="ellipse"&&(j={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}),T!=="rect"&&(P.attrs=E.ObjectExt.merge({},P.attrs,{body:l({refWidth:null,refHeight:null},j)}))}}return P}}),E.Node.registry.register("vue-shape",y,!0)}(x=v.VueShape||(v.VueShape={})),v.VueShape=x})(Iy);var Wp={},Xp={};const jy=Ry(sw);(function(v){var m=jy;Object.keys(m).forEach(function(l){v[l]=m[l]}),v.set=function(l,E,x){return Array.isArray(l)?(l.length=Math.max(l.length,E),l.splice(E,1,x),x):(l[E]=x,x)},v.del=function(l,E){if(Array.isArray(l)){l.splice(E,1);return}delete l[E]},v.Vue=m,v.Vue2=void 0,v.isVue2=!1,v.isVue3=!0,v.install=function(){}})(Xp);(function(v){var m=Ln&&Ln.__extends||function(){var y=function(f,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,N){T.__proto__=N}||function(T,N){for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(T[j]=N[j])},y(f,P)};return function(f,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(f,P);function T(){this.constructor=f}f.prototype=P===null?Object.create(P):(T.prototype=P.prototype,new T)}}();Object.defineProperty(v,"__esModule",{value:!0}),v.VueShapeView=void 0;var l=No.exports,E=Xp,x=function(y){m(f,y);function f(){return y!==null&&y.apply(this,arguments)||this}return f.prototype.init=function(){y.prototype.init.call(this)},f.prototype.getComponentContainer=function(){return this.selectors.foContent},f.prototype.confirmUpdate=function(P){var T=this,N=y.prototype.confirmUpdate.call(this,P);return this.handleAction(N,f.action,function(){l.Scheduler.scheduleTask(function(){T.renderVueComponent()})})},f.prototype.renderVueComponent=function(){this.unmountVueComponent();var P=this.getComponentContainer(),T=this.cell,N=this.graph;if(P){var j=this.graph.hook.getVueComponent(T);if(E.isVue2){var I=E.Vue2;typeof j=="string"?this.vm=new I({template:j}):this.vm=new I({render:function(){return(0,E.h)(j,{graph:N,node:T})},provide:function(){return{getGraph:function(){return N},getNode:function(){return T}}}}),this.vm.$mount(P)}else E.isVue3&&(this.vm=(0,E.createApp)({render:function(){return(0,E.h)(j,{graph:N,node:T})},provide:function(){return{getGraph:function(){return N},getNode:function(){return T}}}}),this.vm.mount(P))}},f.prototype.unmountVueComponent=function(){var P=this.getComponentContainer();return this.vm&&(E.isVue2&&this.vm.$destroy(),E.isVue3&&this.vm.unmount(),this.vm=null),P.innerHTML="",P},f.prototype.unmount=function(){return this.unmountVueComponent(),y.prototype.unmount.call(this),this},f}(l.NodeView);v.VueShapeView=x,function(y){y.action="vue",y.config({bootstrap:[y.action],actions:{component:y.action}}),l.NodeView.registry.register("vue-shape-view",y,!0)}(x=v.VueShapeView||(v.VueShapeView={})),v.VueShapeView=x})(Wp);var Gs={},bw=Ln&&Ln.__extends||function(){var v=function(m,l){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(E[y]=x[y])},v(m,l)};return function(m,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");v(m,l);function E(){this.constructor=m}m.prototype=l===null?Object.create(l):(E.prototype=l.prototype,new E)}}();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.useTeleport=void 0;var co=Xp,Fu=No.exports,Cw=Wp;function By(v){if(co.isVue3){var m=co.Vue,l=m.Teleport,E=m.markRaw,x=m.Fragment;m.VNode,m.VNodeData;var y="vue",f=(0,co.reactive)({}),P=(0,co.defineComponent)({setup:function(){return function(){return(0,co.h)(x,{},Object.keys(f).map(function(I){return(0,co.h)(f[I])}))}}}),T=function(I,H,U,$,X){f[I]||(f[I]=E((0,co.defineComponent)({render:function(){return X()?(0,co.h)(l,{to:X()},[(0,co.h)($,{graph:U,node:H})]):null},provide:function(){return{getGraph:function(){return U},getNode:function(){return H}}}})))},N=function(I){delete f[I]},j=function(I){bw(H,I);function H(){return I!==null&&I.apply(this,arguments)||this}return H.prototype.getTargetId=function(){return this.graph.view.cid+":"+this.cell.id},H.prototype.init=function(){I.prototype.init.call(this);var U=this.getTargetId();this.cell.on("removed",function(){N(U)}),this.renderVueComponent()},H.prototype.renderVueComponent=function(){var U=this.getTargetId(),$=this.graph.hook.getVueComponent(this.cell);T(U,this.cell,this.graph,$,this.getComponentContainer.bind(this))},H.prototype.getComponentContainer=function(){return this.cell.prop("useForeignObject")===!1?this.selectors.content:this.selectors.foContent},H.prototype.confirmUpdate=function(U){var $=this,X=I.prototype.confirmUpdate.call(this,U);return this.handleAction(X,y,function(){Fu.Scheduler.scheduleTask(function(){$.renderVueComponent()})})},H.prototype.unmount=function(U){var $=this.getTargetId();return N($),I.prototype.unmount.call(this,U),this},H}(Fu.NodeView);return j.config({bootstrap:[y],actions:{component:y}}),Fu.NodeView.registry.register(v,j,!0),P}return console.warn("useTeleport should run in vue3"),Fu.NodeView.registry.register(v,Cw.VueShapeView,!0),(0,co.defineComponent)(function(){return null})}Gs.useTeleport=By;Gs.default=By;(function(v){var m=Ln&&Ln.__createBinding||(Object.create?function(E,x,y,f){f===void 0&&(f=y),Object.defineProperty(E,f,{enumerable:!0,get:function(){return x[y]}})}:function(E,x,y,f){f===void 0&&(f=y),E[f]=x[y]}),l=Ln&&Ln.__exportStar||function(E,x){for(var y in E)y!=="default"&&!Object.prototype.hasOwnProperty.call(x,y)&&m(x,E,y)};Object.defineProperty(v,"__esModule",{value:!0}),l(Iy,v),l(Wp,v),l($p,v),l(Gs,v)})(mw);function zy(v,m){return function(){return v.apply(m,arguments)}}const{toString:Vy}=Object.prototype,{getPrototypeOf:Yp}=Object,Kp=(v=>m=>{const l=Vy.call(m);return v[l]||(v[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),ko=v=>(v=v.toLowerCase(),m=>Kp(m)===v),ec=v=>m=>typeof m===v,{isArray:Hs}=Array,kp=ec("undefined");function xw(v){return v!==null&&!kp(v)&&v.constructor!==null&&!kp(v.constructor)&&Da(v.constructor.isBuffer)&&v.constructor.isBuffer(v)}const Gy=ko("ArrayBuffer");function ww(v){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(v):m=v&&v.buffer&&Gy(v.buffer),m}const Ew=ec("string"),Da=ec("function"),Hy=ec("number"),Uy=v=>v!==null&&typeof v=="object",Sw=v=>v===!0||v===!1,Gu=v=>{if(Kp(v)!=="object")return!1;const m=Yp(v);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in v)&&!(Symbol.iterator in v)},Pw=ko("Date"),Aw=ko("File"),Mw=ko("Blob"),Tw=ko("FileList"),Dw=v=>Uy(v)&&Da(v.pipe),Ow=v=>{const m="[object FormData]";return v&&(typeof FormData=="function"&&v instanceof FormData||Vy.call(v)===m||Da(v.toString)&&v.toString()===m)},Nw=ko("URLSearchParams"),kw=v=>v.trim?v.trim():v.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nc(v,m,{allOwnKeys:l=!1}={}){if(v===null||typeof v>"u")return;let E,x;if(typeof v!="object"&&(v=[v]),Hs(v))for(E=0,x=v.length;E<x;E++)m.call(null,v[E],E,v);else{const y=l?Object.getOwnPropertyNames(v):Object.keys(v),f=y.length;let P;for(E=0;E<f;E++)P=y[E],m.call(null,v[P],P,v)}}function Lp(){const v={},m=(l,E)=>{Gu(v[E])&&Gu(l)?v[E]=Lp(v[E],l):Gu(l)?v[E]=Lp({},l):Hs(l)?v[E]=l.slice():v[E]=l};for(let l=0,E=arguments.length;l<E;l++)arguments[l]&&nc(arguments[l],m);return v}const Lw=(v,m,l,{allOwnKeys:E}={})=>(nc(m,(x,y)=>{l&&Da(x)?v[y]=zy(x,l):v[y]=x},{allOwnKeys:E}),v),Fw=v=>(v.charCodeAt(0)===65279&&(v=v.slice(1)),v),Rw=(v,m,l,E)=>{v.prototype=Object.create(m.prototype,E),v.prototype.constructor=v,Object.defineProperty(v,"super",{value:m.prototype}),l&&Object.assign(v.prototype,l)},Iw=(v,m,l,E)=>{let x,y,f;const P={};if(m=m||{},v==null)return m;do{for(x=Object.getOwnPropertyNames(v),y=x.length;y-- >0;)f=x[y],(!E||E(f,v,m))&&!P[f]&&(m[f]=v[f],P[f]=!0);v=l!==!1&&Yp(v)}while(v&&(!l||l(v,m))&&v!==Object.prototype);return m},jw=(v,m,l)=>{v=String(v),(l===void 0||l>v.length)&&(l=v.length),l-=m.length;const E=v.indexOf(m,l);return E!==-1&&E===l},Bw=v=>{if(!v)return null;if(Hs(v))return v;let m=v.length;if(!Hy(m))return null;const l=new Array(m);for(;m-- >0;)l[m]=v[m];return l},zw=(v=>m=>v&&m instanceof v)(typeof Uint8Array<"u"&&Yp(Uint8Array)),Vw=(v,m)=>{const E=(v&&v[Symbol.iterator]).call(v);let x;for(;(x=E.next())&&!x.done;){const y=x.value;m.call(v,y[0],y[1])}},Gw=(v,m)=>{let l;const E=[];for(;(l=v.exec(m))!==null;)E.push(l);return E},Hw=ko("HTMLFormElement"),Uw=v=>v.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(l,E,x){return E.toUpperCase()+x}),sy=(({hasOwnProperty:v})=>(m,l)=>v.call(m,l))(Object.prototype),$w=ko("RegExp"),$y=(v,m)=>{const l=Object.getOwnPropertyDescriptors(v),E={};nc(l,(x,y)=>{m(x,y,v)!==!1&&(E[y]=x)}),Object.defineProperties(v,E)},Ww=v=>{$y(v,(m,l)=>{const E=v[l];if(!!Da(E)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not read-only method '"+l+"'")})}})},Xw=(v,m)=>{const l={},E=x=>{x.forEach(y=>{l[y]=!0})};return Hs(v)?E(v):E(String(v).split(m)),l},Yw=()=>{},Kw=(v,m)=>(v=+v,Number.isFinite(v)?v:m),Ct={isArray:Hs,isArrayBuffer:Gy,isBuffer:xw,isFormData:Ow,isArrayBufferView:ww,isString:Ew,isNumber:Hy,isBoolean:Sw,isObject:Uy,isPlainObject:Gu,isUndefined:kp,isDate:Pw,isFile:Aw,isBlob:Mw,isRegExp:$w,isFunction:Da,isStream:Dw,isURLSearchParams:Nw,isTypedArray:zw,isFileList:Tw,forEach:nc,merge:Lp,extend:Lw,trim:kw,stripBOM:Fw,inherits:Rw,toFlatObject:Iw,kindOf:Kp,kindOfTest:ko,endsWith:jw,toArray:Bw,forEachEntry:Vw,matchAll:Gw,isHTMLForm:Hw,hasOwnProperty:sy,hasOwnProp:sy,reduceDescriptors:$y,freezeMethods:Ww,toObjectSet:Xw,toCamelCase:Uw,noop:Yw,toFiniteNumber:Kw};function De(v,m,l,E,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=v,this.name="AxiosError",m&&(this.code=m),l&&(this.config=l),E&&(this.request=E),x&&(this.response=x)}Ct.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Wy=De.prototype,Xy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(v=>{Xy[v]={value:v}});Object.defineProperties(De,Xy);Object.defineProperty(Wy,"isAxiosError",{value:!0});De.from=(v,m,l,E,x,y)=>{const f=Object.create(Wy);return Ct.toFlatObject(v,f,function(T){return T!==Error.prototype},P=>P!=="isAxiosError"),De.call(f,v.message,m,l,E,x),f.cause=v,f.name=v.name,y&&Object.assign(f,y),f};var Jw=typeof self=="object"?self.FormData:window.FormData;function Fp(v){return Ct.isPlainObject(v)||Ct.isArray(v)}function Yy(v){return Ct.endsWith(v,"[]")?v.slice(0,-2):v}function ly(v,m,l){return v?v.concat(m).map(function(x,y){return x=Yy(x),!l&&y?"["+x+"]":x}).join(l?".":""):m}function Zw(v){return Ct.isArray(v)&&!v.some(Fp)}const qw=Ct.toFlatObject(Ct,{},null,function(m){return/^is[A-Z]/.test(m)});function Qw(v){return v&&Ct.isFunction(v.append)&&v[Symbol.toStringTag]==="FormData"&&v[Symbol.iterator]}function rc(v,m,l){if(!Ct.isObject(v))throw new TypeError("target must be an object");m=m||new(Jw||FormData),l=Ct.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(X,q){return!Ct.isUndefined(q[X])});const E=l.metaTokens,x=l.visitor||j,y=l.dots,f=l.indexes,T=(l.Blob||typeof Blob<"u"&&Blob)&&Qw(m);if(!Ct.isFunction(x))throw new TypeError("visitor must be a function");function N($){if($===null)return"";if(Ct.isDate($))return $.toISOString();if(!T&&Ct.isBlob($))throw new De("Blob is not supported. Use a Buffer instead.");return Ct.isArrayBuffer($)||Ct.isTypedArray($)?T&&typeof Blob=="function"?new Blob([$]):Buffer.from($):$}function j($,X,q){let rt=$;if($&&!q&&typeof $=="object"){if(Ct.endsWith(X,"{}"))X=E?X:X.slice(0,-2),$=JSON.stringify($);else if(Ct.isArray($)&&Zw($)||Ct.isFileList($)||Ct.endsWith(X,"[]")&&(rt=Ct.toArray($)))return X=Yy(X),rt.forEach(function(yt,dt){!(Ct.isUndefined(yt)||yt===null)&&m.append(f===!0?ly([X],dt,y):f===null?X:X+"[]",N(yt))}),!1}return Fp($)?!0:(m.append(ly(q,X,y),N($)),!1)}const I=[],H=Object.assign(qw,{defaultVisitor:j,convertValue:N,isVisitable:Fp});function U($,X){if(!Ct.isUndefined($)){if(I.indexOf($)!==-1)throw Error("Circular reference detected in "+X.join("."));I.push($),Ct.forEach($,function(rt,at){(!(Ct.isUndefined(rt)||rt===null)&&x.call(m,rt,Ct.isString(at)?at.trim():at,X,H))===!0&&U(rt,X?X.concat(at):[at])}),I.pop()}}if(!Ct.isObject(v))throw new TypeError("data must be an object");return U(v),m}function uy(v){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(v).replace(/[!'()~]|%20|%00/g,function(E){return m[E]})}function Jp(v,m){this._pairs=[],v&&rc(v,this,m)}const Ky=Jp.prototype;Ky.append=function(m,l){this._pairs.push([m,l])};Ky.toString=function(m){const l=m?function(E){return m.call(this,E,uy)}:uy;return this._pairs.map(function(x){return l(x[0])+"="+l(x[1])},"").join("&")};function _w(v){return encodeURIComponent(v).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jy(v,m,l){if(!m)return v;const E=l&&l.encode||_w,x=l&&l.serialize;let y;if(x?y=x(m,l):y=Ct.isURLSearchParams(m)?m.toString():new Jp(m,l).toString(E),y){const f=v.indexOf("#");f!==-1&&(v=v.slice(0,f)),v+=(v.indexOf("?")===-1?"?":"&")+y}return v}class cy{constructor(){this.handlers=[]}use(m,l,E){return this.handlers.push({fulfilled:m,rejected:l,synchronous:E?E.synchronous:!1,runWhen:E?E.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){Ct.forEach(this.handlers,function(E){E!==null&&m(E)})}}const Zy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tE=typeof URLSearchParams<"u"?URLSearchParams:Jp,eE=FormData,nE=(()=>{let v;return typeof navigator<"u"&&((v=navigator.product)==="ReactNative"||v==="NativeScript"||v==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Do={isBrowser:!0,classes:{URLSearchParams:tE,FormData:eE,Blob},isStandardBrowserEnv:nE,protocols:["http","https","file","blob","url","data"]};function rE(v,m){return rc(v,new Do.classes.URLSearchParams,Object.assign({visitor:function(l,E,x,y){return Do.isNode&&Ct.isBuffer(l)?(this.append(E,l.toString("base64")),!1):y.defaultVisitor.apply(this,arguments)}},m))}function oE(v){return Ct.matchAll(/\w+|\[(\w*)]/g,v).map(m=>m[0]==="[]"?"":m[1]||m[0])}function iE(v){const m={},l=Object.keys(v);let E;const x=l.length;let y;for(E=0;E<x;E++)y=l[E],m[y]=v[y];return m}function qy(v){function m(l,E,x,y){let f=l[y++];const P=Number.isFinite(+f),T=y>=l.length;return f=!f&&Ct.isArray(x)?x.length:f,T?(Ct.hasOwnProp(x,f)?x[f]=[x[f],E]:x[f]=E,!P):((!x[f]||!Ct.isObject(x[f]))&&(x[f]=[]),m(l,E,x[f],y)&&Ct.isArray(x[f])&&(x[f]=iE(x[f])),!P)}if(Ct.isFormData(v)&&Ct.isFunction(v.entries)){const l={};return Ct.forEachEntry(v,(E,x)=>{m(oE(E),x,l,0)}),l}return null}function aE(v,m,l){const E=l.config.validateStatus;!l.status||!E||E(l.status)?v(l):m(new De("Request failed with status code "+l.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}const sE=Do.isStandardBrowserEnv?function(){return{write:function(l,E,x,y,f,P){const T=[];T.push(l+"="+encodeURIComponent(E)),Ct.isNumber(x)&&T.push("expires="+new Date(x).toGMTString()),Ct.isString(y)&&T.push("path="+y),Ct.isString(f)&&T.push("domain="+f),P===!0&&T.push("secure"),document.cookie=T.join("; ")},read:function(l){const E=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return E?decodeURIComponent(E[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function lE(v){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(v)}function uE(v,m){return m?v.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):v}function Qy(v,m){return v&&!lE(m)?uE(v,m):m}const cE=Do.isStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a");let E;function x(y){let f=y;return m&&(l.setAttribute("href",f),f=l.href),l.setAttribute("href",f),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return E=x(window.location.href),function(f){const P=Ct.isString(f)?x(f):f;return P.protocol===E.protocol&&P.host===E.host}}():function(){return function(){return!0}}();function Us(v,m,l){De.call(this,v==null?"canceled":v,De.ERR_CANCELED,m,l),this.name="CanceledError"}Ct.inherits(Us,De,{__CANCEL__:!0});function hE(v){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(v);return m&&m[1]||""}const pE=Ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dE=v=>{const m={};let l,E,x;return v&&v.split(`
`).forEach(function(f){x=f.indexOf(":"),l=f.substring(0,x).trim().toLowerCase(),E=f.substring(x+1).trim(),!(!l||m[l]&&pE[l])&&(l==="set-cookie"?m[l]?m[l].push(E):m[l]=[E]:m[l]=m[l]?m[l]+", "+E:E)}),m},hy=Symbol("internals"),_y=Symbol("defaults");function Ds(v){return v&&String(v).trim().toLowerCase()}function Hu(v){return v===!1||v==null?v:Ct.isArray(v)?v.map(Hu):String(v)}function fE(v){const m=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let E;for(;E=l.exec(v);)m[E[1]]=E[2];return m}function py(v,m,l,E){if(Ct.isFunction(E))return E.call(this,m,l);if(!!Ct.isString(m)){if(Ct.isString(E))return m.indexOf(E)!==-1;if(Ct.isRegExp(E))return E.test(m)}}function gE(v){return v.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,l,E)=>l.toUpperCase()+E)}function vE(v,m){const l=Ct.toCamelCase(" "+m);["get","set","has"].forEach(E=>{Object.defineProperty(v,E+l,{value:function(x,y,f){return this[E].call(this,m,x,y,f)},configurable:!0})})}function Ps(v,m){m=m.toLowerCase();const l=Object.keys(v);let E=l.length,x;for(;E-- >0;)if(x=l[E],m===x.toLowerCase())return x;return null}function jr(v,m){v&&this.set(v),this[_y]=m||null}Object.assign(jr.prototype,{set:function(v,m,l){const E=this;function x(y,f,P){const T=Ds(f);if(!T)throw new Error("header name must be a non-empty string");const N=Ps(E,T);N&&P!==!0&&(E[N]===!1||P===!1)||(E[N||f]=Hu(y))}return Ct.isPlainObject(v)?Ct.forEach(v,(y,f)=>{x(y,f,m)}):x(m,v,l),this},get:function(v,m){if(v=Ds(v),!v)return;const l=Ps(this,v);if(l){const E=this[l];if(!m)return E;if(m===!0)return fE(E);if(Ct.isFunction(m))return m.call(this,E,l);if(Ct.isRegExp(m))return m.exec(E);throw new TypeError("parser must be boolean|regexp|function")}},has:function(v,m){if(v=Ds(v),v){const l=Ps(this,v);return!!(l&&(!m||py(this,this[l],l,m)))}return!1},delete:function(v,m){const l=this;let E=!1;function x(y){if(y=Ds(y),y){const f=Ps(l,y);f&&(!m||py(l,l[f],f,m))&&(delete l[f],E=!0)}}return Ct.isArray(v)?v.forEach(x):x(v),E},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(v){const m=this,l={};return Ct.forEach(this,(E,x)=>{const y=Ps(l,x);if(y){m[y]=Hu(E),delete m[x];return}const f=v?gE(x):String(x).trim();f!==x&&delete m[x],m[f]=Hu(E),l[f]=!0}),this},toJSON:function(v){const m=Object.create(null);return Ct.forEach(Object.assign({},this[_y]||null,this),(l,E)=>{l==null||l===!1||(m[E]=v&&Ct.isArray(l)?l.join(", "):l)}),m}});Object.assign(jr,{from:function(v){return Ct.isString(v)?new this(dE(v)):v instanceof this?v:new this(v)},accessor:function(v){const l=(this[hy]=this[hy]={accessors:{}}).accessors,E=this.prototype;function x(y){const f=Ds(y);l[f]||(vE(E,y),l[f]=!0)}return Ct.isArray(v)?v.forEach(x):x(v),this}});jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Ct.freezeMethods(jr.prototype);Ct.freezeMethods(jr);function yE(v,m){v=v||10;const l=new Array(v),E=new Array(v);let x=0,y=0,f;return m=m!==void 0?m:1e3,function(T){const N=Date.now(),j=E[y];f||(f=N),l[x]=T,E[x]=N;let I=y,H=0;for(;I!==x;)H+=l[I++],I=I%v;if(x=(x+1)%v,x===y&&(y=(y+1)%v),N-f<m)return;const U=j&&N-j;return U?Math.round(H*1e3/U):void 0}}function dy(v,m){let l=0;const E=yE(50,250);return x=>{const y=x.loaded,f=x.lengthComputable?x.total:void 0,P=y-l,T=E(P),N=y<=f;l=y;const j={loaded:y,total:f,progress:f?y/f:void 0,bytes:P,rate:T||void 0,estimated:T&&f&&N?(f-y)/T:void 0};j[m?"download":"upload"]=!0,v(j)}}function fy(v){return new Promise(function(l,E){let x=v.data;const y=jr.from(v.headers).normalize(),f=v.responseType;let P;function T(){v.cancelToken&&v.cancelToken.unsubscribe(P),v.signal&&v.signal.removeEventListener("abort",P)}Ct.isFormData(x)&&Do.isStandardBrowserEnv&&y.setContentType(!1);let N=new XMLHttpRequest;if(v.auth){const U=v.auth.username||"",$=v.auth.password?unescape(encodeURIComponent(v.auth.password)):"";y.set("Authorization","Basic "+btoa(U+":"+$))}const j=Qy(v.baseURL,v.url);N.open(v.method.toUpperCase(),Jy(j,v.params,v.paramsSerializer),!0),N.timeout=v.timeout;function I(){if(!N)return;const U=jr.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),X={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:U,config:v,request:N};aE(function(rt){l(rt),T()},function(rt){E(rt),T()},X),N=null}if("onloadend"in N?N.onloadend=I:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(I)},N.onabort=function(){!N||(E(new De("Request aborted",De.ECONNABORTED,v,N)),N=null)},N.onerror=function(){E(new De("Network Error",De.ERR_NETWORK,v,N)),N=null},N.ontimeout=function(){let $=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded";const X=v.transitional||Zy;v.timeoutErrorMessage&&($=v.timeoutErrorMessage),E(new De($,X.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,v,N)),N=null},Do.isStandardBrowserEnv){const U=(v.withCredentials||cE(j))&&v.xsrfCookieName&&sE.read(v.xsrfCookieName);U&&y.set(v.xsrfHeaderName,U)}x===void 0&&y.setContentType(null),"setRequestHeader"in N&&Ct.forEach(y.toJSON(),function($,X){N.setRequestHeader(X,$)}),Ct.isUndefined(v.withCredentials)||(N.withCredentials=!!v.withCredentials),f&&f!=="json"&&(N.responseType=v.responseType),typeof v.onDownloadProgress=="function"&&N.addEventListener("progress",dy(v.onDownloadProgress,!0)),typeof v.onUploadProgress=="function"&&N.upload&&N.upload.addEventListener("progress",dy(v.onUploadProgress)),(v.cancelToken||v.signal)&&(P=U=>{!N||(E(!U||U.type?new Us(null,v,N):U),N.abort(),N=null)},v.cancelToken&&v.cancelToken.subscribe(P),v.signal&&(v.signal.aborted?P():v.signal.addEventListener("abort",P)));const H=hE(j);if(H&&Do.protocols.indexOf(H)===-1){E(new De("Unsupported protocol "+H+":",De.ERR_BAD_REQUEST,v));return}N.send(x||null)})}const gy={http:fy,xhr:fy},vy={getAdapter:v=>{if(Ct.isString(v)){const m=gy[v];if(!v)throw Error(Ct.hasOwnProp(v)?`Adapter '${v}' is not available in the build`:`Can not resolve adapter '${v}'`);return m}if(!Ct.isFunction(v))throw new TypeError("adapter is not a function");return v},adapters:gy},mE={"Content-Type":"application/x-www-form-urlencoded"};function bE(){let v;return typeof XMLHttpRequest<"u"?v=vy.getAdapter("xhr"):typeof process<"u"&&Ct.kindOf(process)==="process"&&(v=vy.getAdapter("http")),v}function CE(v,m,l){if(Ct.isString(v))try{return(m||JSON.parse)(v),Ct.trim(v)}catch(E){if(E.name!=="SyntaxError")throw E}return(l||JSON.stringify)(v)}const Oa={transitional:Zy,adapter:bE(),transformRequest:[function(m,l){const E=l.getContentType()||"",x=E.indexOf("application/json")>-1,y=Ct.isObject(m);if(y&&Ct.isHTMLForm(m)&&(m=new FormData(m)),Ct.isFormData(m))return x&&x?JSON.stringify(qy(m)):m;if(Ct.isArrayBuffer(m)||Ct.isBuffer(m)||Ct.isStream(m)||Ct.isFile(m)||Ct.isBlob(m))return m;if(Ct.isArrayBufferView(m))return m.buffer;if(Ct.isURLSearchParams(m))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let P;if(y){if(E.indexOf("application/x-www-form-urlencoded")>-1)return rE(m,this.formSerializer).toString();if((P=Ct.isFileList(m))||E.indexOf("multipart/form-data")>-1){const T=this.env&&this.env.FormData;return rc(P?{"files[]":m}:m,T&&new T,this.formSerializer)}}return y||x?(l.setContentType("application/json",!1),CE(m)):m}],transformResponse:[function(m){const l=this.transitional||Oa.transitional,E=l&&l.forcedJSONParsing,x=this.responseType==="json";if(m&&Ct.isString(m)&&(E&&!this.responseType||x)){const f=!(l&&l.silentJSONParsing)&&x;try{return JSON.parse(m)}catch(P){if(f)throw P.name==="SyntaxError"?De.from(P,De.ERR_BAD_RESPONSE,this,null,this.response):P}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Do.classes.FormData,Blob:Do.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ct.forEach(["delete","get","head"],function(m){Oa.headers[m]={}});Ct.forEach(["post","put","patch"],function(m){Oa.headers[m]=Ct.merge(mE)});function bp(v,m){const l=this||Oa,E=m||l,x=jr.from(E.headers);let y=E.data;return Ct.forEach(v,function(P){y=P.call(l,y,x.normalize(),m?m.status:void 0)}),x.normalize(),y}function tm(v){return!!(v&&v.__CANCEL__)}function Cp(v){if(v.cancelToken&&v.cancelToken.throwIfRequested(),v.signal&&v.signal.aborted)throw new Us}function yy(v){return Cp(v),v.headers=jr.from(v.headers),v.data=bp.call(v,v.transformRequest),(v.adapter||Oa.adapter)(v).then(function(E){return Cp(v),E.data=bp.call(v,v.transformResponse,E),E.headers=jr.from(E.headers),E},function(E){return tm(E)||(Cp(v),E&&E.response&&(E.response.data=bp.call(v,v.transformResponse,E.response),E.response.headers=jr.from(E.response.headers))),Promise.reject(E)})}function zs(v,m){m=m||{};const l={};function E(N,j){return Ct.isPlainObject(N)&&Ct.isPlainObject(j)?Ct.merge(N,j):Ct.isPlainObject(j)?Ct.merge({},j):Ct.isArray(j)?j.slice():j}function x(N){if(Ct.isUndefined(m[N])){if(!Ct.isUndefined(v[N]))return E(void 0,v[N])}else return E(v[N],m[N])}function y(N){if(!Ct.isUndefined(m[N]))return E(void 0,m[N])}function f(N){if(Ct.isUndefined(m[N])){if(!Ct.isUndefined(v[N]))return E(void 0,v[N])}else return E(void 0,m[N])}function P(N){if(N in m)return E(v[N],m[N]);if(N in v)return E(void 0,v[N])}const T={url:y,method:y,data:y,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:P};return Ct.forEach(Object.keys(v).concat(Object.keys(m)),function(j){const I=T[j]||x,H=I(j);Ct.isUndefined(H)&&I!==P||(l[j]=H)}),l}const em="1.1.3",Zp={};["object","boolean","number","function","string","symbol"].forEach((v,m)=>{Zp[v]=function(E){return typeof E===v||"a"+(m<1?"n ":" ")+v}});const my={};Zp.transitional=function(m,l,E){function x(y,f){return"[Axios v"+em+"] Transitional option '"+y+"'"+f+(E?". "+E:"")}return(y,f,P)=>{if(m===!1)throw new De(x(f," has been removed"+(l?" in "+l:"")),De.ERR_DEPRECATED);return l&&!my[f]&&(my[f]=!0,console.warn(x(f," has been deprecated since v"+l+" and will be removed in the near future"))),m?m(y,f,P):!0}};function xE(v,m,l){if(typeof v!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const E=Object.keys(v);let x=E.length;for(;x-- >0;){const y=E[x],f=m[y];if(f){const P=v[y],T=P===void 0||f(P,y,v);if(T!==!0)throw new De("option "+y+" must be "+T,De.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new De("Unknown option "+y,De.ERR_BAD_OPTION)}}const Rp={assertOptions:xE,validators:Zp},Zo=Rp.validators;class Fi{constructor(m){this.defaults=m,this.interceptors={request:new cy,response:new cy}}request(m,l){typeof m=="string"?(l=l||{},l.url=m):l=m||{},l=zs(this.defaults,l);const{transitional:E,paramsSerializer:x}=l;E!==void 0&&Rp.assertOptions(E,{silentJSONParsing:Zo.transitional(Zo.boolean),forcedJSONParsing:Zo.transitional(Zo.boolean),clarifyTimeoutError:Zo.transitional(Zo.boolean)},!1),x!==void 0&&Rp.assertOptions(x,{encode:Zo.function,serialize:Zo.function},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();const y=l.headers&&Ct.merge(l.headers.common,l.headers[l.method]);y&&Ct.forEach(["delete","get","head","post","put","patch","common"],function($){delete l.headers[$]}),l.headers=new jr(l.headers,y);const f=[];let P=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(l)===!1||(P=P&&$.synchronous,f.unshift($.fulfilled,$.rejected))});const T=[];this.interceptors.response.forEach(function($){T.push($.fulfilled,$.rejected)});let N,j=0,I;if(!P){const U=[yy.bind(this),void 0];for(U.unshift.apply(U,f),U.push.apply(U,T),I=U.length,N=Promise.resolve(l);j<I;)N=N.then(U[j++],U[j++]);return N}I=f.length;let H=l;for(j=0;j<I;){const U=f[j++],$=f[j++];try{H=U(H)}catch(X){$.call(this,X);break}}try{N=yy.call(this,H)}catch(U){return Promise.reject(U)}for(j=0,I=T.length;j<I;)N=N.then(T[j++],T[j++]);return N}getUri(m){m=zs(this.defaults,m);const l=Qy(m.baseURL,m.url);return Jy(l,m.params,m.paramsSerializer)}}Ct.forEach(["delete","get","head","options"],function(m){Fi.prototype[m]=function(l,E){return this.request(zs(E||{},{method:m,url:l,data:(E||{}).data}))}});Ct.forEach(["post","put","patch"],function(m){function l(E){return function(y,f,P){return this.request(zs(P||{},{method:m,headers:E?{"Content-Type":"multipart/form-data"}:{},url:y,data:f}))}}Fi.prototype[m]=l(),Fi.prototype[m+"Form"]=l(!0)});class qp{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(y){l=y});const E=this;this.promise.then(x=>{if(!E._listeners)return;let y=E._listeners.length;for(;y-- >0;)E._listeners[y](x);E._listeners=null}),this.promise.then=x=>{let y;const f=new Promise(P=>{E.subscribe(P),y=P}).then(x);return f.cancel=function(){E.unsubscribe(y)},f},m(function(y,f,P){E.reason||(E.reason=new Us(y,f,P),l(E.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const l=this._listeners.indexOf(m);l!==-1&&this._listeners.splice(l,1)}static source(){let m;return{token:new qp(function(x){m=x}),cancel:m}}}function wE(v){return function(l){return v.apply(null,l)}}function EE(v){return Ct.isObject(v)&&v.isAxiosError===!0}function nm(v){const m=new Fi(v),l=zy(Fi.prototype.request,m);return Ct.extend(l,Fi.prototype,m,{allOwnKeys:!0}),Ct.extend(l,m,null,{allOwnKeys:!0}),l.create=function(x){return nm(zs(v,x))},l}const $n=nm(Oa);$n.Axios=Fi;$n.CanceledError=Us;$n.CancelToken=qp;$n.isCancel=tm;$n.VERSION=em;$n.toFormData=rc;$n.AxiosError=De;$n.Cancel=$n.CanceledError;$n.all=function(m){return Promise.all(m)};$n.spread=wE;$n.isAxiosError=EE;$n.formToJSON=v=>qy(Ct.isHTMLForm(v)?new FormData(v):v);$n.defaults.baseURL="/api";$n.defaults.timeout=1e4;$n.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";$n.interceptors.request.use(v=>{const m=window.sessionStorage.getItem("token");return m&&((v.headers=v.headers||{}).token=m),v},v=>{throw v});$n.interceptors.response.use(v=>v.data);function rm(v){return new URL(v,import.meta.url).href}const by=Object.assign({"../assets/icon/back.png":()=>Re(()=>import("./back.56e16ded.js"),[],import.meta.url),"../assets/icon/classify.png":()=>Re(()=>import("./classify.eb98957b.js"),[],import.meta.url),"../assets/icon/clear.png":()=>Re(()=>import("./clear.62f9449c.js"),[],import.meta.url),"../assets/icon/decode.png":()=>Re(()=>import("./decode.2f5a943c.js"),[],import.meta.url),"../assets/icon/download.png":()=>Re(()=>import("./download.f29aacd5.js"),[],import.meta.url),"../assets/icon/edit.png":()=>Re(()=>import("./edit.a6a8ce71.js"),[],import.meta.url),"../assets/icon/fire.png":()=>Re(()=>import("./fire.5c59ff3d.js"),[],import.meta.url),"../assets/icon/label.png":()=>Re(()=>import("./label.12fb49e7.js"),[],import.meta.url),"../assets/icon/like.png":()=>Re(()=>import("./like.1e6ff0c1.js"),[],import.meta.url),"../assets/icon/location.png":()=>Re(()=>import("./location.4dbec614.js"),[],import.meta.url),"../assets/icon/mes.png":()=>Re(()=>import("./mes.6ce1a1c5.js"),[],import.meta.url),"../assets/icon/next.png":()=>Re(()=>import("./next.353b5318.js"),[],import.meta.url),"../assets/icon/notes.png":()=>Re(()=>import("./notes.aa2b4fcd.js"),[],import.meta.url),"../assets/icon/password.png":()=>Re(()=>import("./password.4c3fee92.js"),[],import.meta.url),"../assets/icon/pause.png":()=>Re(()=>import("./pause.d8729d67.js"),[],import.meta.url),"../assets/icon/personal.png":()=>Re(()=>import("./personal.b715e37d.js"),[],import.meta.url),"../assets/icon/photo.png":()=>Re(()=>import("./photo.0668fed9.js"),[],import.meta.url),"../assets/icon/picture.png":()=>Re(()=>import("./picture.dc6c3ef1.js"),[],import.meta.url),"../assets/icon/play.png":()=>Re(()=>import("./play.1bcfb4a8.js"),[],import.meta.url),"../assets/icon/pre.png":()=>Re(()=>import("./pre.e1114549.js"),[],import.meta.url),"../assets/icon/review.png":()=>Re(()=>import("./review.728a35fd.js"),[],import.meta.url),"../assets/icon/search.png":()=>Re(()=>import("./search.7e147a57.js"),[],import.meta.url),"../assets/icon/set.png":()=>Re(()=>import("./set.8d0dc0fb.js"),[],import.meta.url),"../assets/icon/share.png":()=>Re(()=>import("./share.3e343392.js"),[],import.meta.url),"../assets/icon/speed.png":()=>Re(()=>import("./speed.e743b63d.js"),[],import.meta.url),"../assets/icon/step.png":()=>Re(()=>import("./step.443bc256.js"),[],import.meta.url),"../assets/icon/store.png":()=>Re(()=>import("./store.813d4aef.js"),[],import.meta.url),"../assets/icon/time.png":()=>Re(()=>import("./time.39299cf8.js"),[],import.meta.url),"../assets/icon/upload.png":()=>Re(()=>import("./upload.04b6cce5.js"),[],import.meta.url),"../assets/icon/vip.png":()=>Re(()=>import("./vip.f67f1986.js"),[],import.meta.url),"../assets/icon/zan.png":()=>Re(()=>import("./zan.70bf8627.js"),[],import.meta.url)});let om={};for(const v in by)by[v]().then(m=>{console.log(m.default,"modules res"),om[v]=m.default});function SE(v){const m=`../assets/${v}`;return console.log(m,"getAssetsFile"),om[m]}function im(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){var m=Math.random()*16|0,l=v=="x"?m:m&3|8;return l.toString(16)})}var am={exports:{}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Cy(v,m){var l=Object.keys(v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(v);m&&(E=E.filter(function(x){return Object.getOwnPropertyDescriptor(v,x).enumerable})),l.push.apply(l,E)}return l}function po(v){for(var m=1;m<arguments.length;m++){var l=arguments[m]!=null?arguments[m]:{};m%2?Cy(Object(l),!0).forEach(function(E){PE(v,E,l[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(l)):Cy(Object(l)).forEach(function(E){Object.defineProperty(v,E,Object.getOwnPropertyDescriptor(l,E))})}return v}function Uu(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uu=function(m){return typeof m}:Uu=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Uu(v)}function PE(v,m,l){return m in v?Object.defineProperty(v,m,{value:l,enumerable:!0,configurable:!0,writable:!0}):v[m]=l,v}function Br(){return Br=Object.assign||function(v){for(var m=1;m<arguments.length;m++){var l=arguments[m];for(var E in l)Object.prototype.hasOwnProperty.call(l,E)&&(v[E]=l[E])}return v},Br.apply(this,arguments)}function AE(v,m){if(v==null)return{};var l={},E=Object.keys(v),x,y;for(y=0;y<E.length;y++)x=E[y],!(m.indexOf(x)>=0)&&(l[x]=v[x]);return l}function ME(v,m){if(v==null)return{};var l=AE(v,m),E,x;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);for(x=0;x<y.length;x++)E=y[x],!(m.indexOf(E)>=0)&&(!Object.prototype.propertyIsEnumerable.call(v,E)||(l[E]=v[E]))}return l}function TE(v){return DE(v)||OE(v)||NE(v)||kE()}function DE(v){if(Array.isArray(v))return Ip(v)}function OE(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function NE(v,m){if(!!v){if(typeof v=="string")return Ip(v,m);var l=Object.prototype.toString.call(v).slice(8,-1);if(l==="Object"&&v.constructor&&(l=v.constructor.name),l==="Map"||l==="Set")return Array.from(v);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Ip(v,m)}}function Ip(v,m){(m==null||m>v.length)&&(m=v.length);for(var l=0,E=new Array(m);l<m;l++)E[l]=v[l];return E}function kE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var LE="1.14.0";function Oo(v){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(v)}var Lo=Oo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$s=Oo(/Edge/i),xy=Oo(/firefox/i),Fs=Oo(/safari/i)&&!Oo(/chrome/i)&&!Oo(/android/i),sm=Oo(/iP(ad|od|hone)/i),FE=Oo(/chrome/i)&&Oo(/android/i),lm={capture:!1,passive:!1};function Ce(v,m,l){v.addEventListener(m,l,!Lo&&lm)}function ye(v,m,l){v.removeEventListener(m,l,!Lo&&lm)}function Ju(v,m){if(!!m){if(m[0]===">"&&(m=m.substring(1)),v)try{if(v.matches)return v.matches(m);if(v.msMatchesSelector)return v.msMatchesSelector(m);if(v.webkitMatchesSelector)return v.webkitMatchesSelector(m)}catch{return!1}return!1}}function RE(v){return v.host&&v!==document&&v.host.nodeType?v.host:v.parentNode}function _r(v,m,l,E){if(v){l=l||document;do{if(m!=null&&(m[0]===">"?v.parentNode===l&&Ju(v,m):Ju(v,m))||E&&v===l)return v;if(v===l)break}while(v=RE(v))}return null}var wy=/\s+/g;function pn(v,m,l){if(v&&m)if(v.classList)v.classList[l?"add":"remove"](m);else{var E=(" "+v.className+" ").replace(wy," ").replace(" "+m+" "," ");v.className=(E+(l?" "+m:"")).replace(wy," ")}}function Kt(v,m,l){var E=v&&v.style;if(E){if(l===void 0)return document.defaultView&&document.defaultView.getComputedStyle?l=document.defaultView.getComputedStyle(v,""):v.currentStyle&&(l=v.currentStyle),m===void 0?l:l[m];!(m in E)&&m.indexOf("webkit")===-1&&(m="-webkit-"+m),E[m]=l+(typeof l=="string"?"":"px")}}function Ri(v,m){var l="";if(typeof v=="string")l=v;else do{var E=Kt(v,"transform");E&&E!=="none"&&(l=E+" "+l)}while(!m&&(v=v.parentNode));var x=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return x&&new x(l)}function um(v,m,l){if(v){var E=v.getElementsByTagName(m),x=0,y=E.length;if(l)for(;x<y;x++)l(E[x],x);return E}return[]}function ho(){var v=document.scrollingElement;return v||document.documentElement}function an(v,m,l,E,x){if(!(!v.getBoundingClientRect&&v!==window)){var y,f,P,T,N,j,I;if(v!==window&&v.parentNode&&v!==ho()?(y=v.getBoundingClientRect(),f=y.top,P=y.left,T=y.bottom,N=y.right,j=y.height,I=y.width):(f=0,P=0,T=window.innerHeight,N=window.innerWidth,j=window.innerHeight,I=window.innerWidth),(m||l)&&v!==window&&(x=x||v.parentNode,!Lo))do if(x&&x.getBoundingClientRect&&(Kt(x,"transform")!=="none"||l&&Kt(x,"position")!=="static")){var H=x.getBoundingClientRect();f-=H.top+parseInt(Kt(x,"border-top-width")),P-=H.left+parseInt(Kt(x,"border-left-width")),T=f+y.height,N=P+y.width;break}while(x=x.parentNode);if(E&&v!==window){var U=Ri(x||v),$=U&&U.a,X=U&&U.d;U&&(f/=X,P/=$,I/=$,j/=X,T=f+j,N=P+I)}return{top:f,left:P,bottom:T,right:N,width:I,height:j}}}function Ey(v,m,l){for(var E=ti(v,!0),x=an(v)[m];E;){var y=an(E)[l],f=void 0;if(l==="top"||l==="left"?f=x>=y:f=x<=y,!f)return E;if(E===ho())break;E=ti(E,!1)}return!1}function Ta(v,m,l,E){for(var x=0,y=0,f=v.children;y<f.length;){if(f[y].style.display!=="none"&&f[y]!==ee.ghost&&(E||f[y]!==ee.dragged)&&_r(f[y],l.draggable,v,!1)){if(x===m)return f[y];x++}y++}return null}function Qp(v,m){for(var l=v.lastElementChild;l&&(l===ee.ghost||Kt(l,"display")==="none"||m&&!Ju(l,m));)l=l.previousElementSibling;return l||null}function gn(v,m){var l=0;if(!v||!v.parentNode)return-1;for(;v=v.previousElementSibling;)v.nodeName.toUpperCase()!=="TEMPLATE"&&v!==ee.clone&&(!m||Ju(v,m))&&l++;return l}function Sy(v){var m=0,l=0,E=ho();if(v)do{var x=Ri(v),y=x.a,f=x.d;m+=v.scrollLeft*y,l+=v.scrollTop*f}while(v!==E&&(v=v.parentNode));return[m,l]}function IE(v,m){for(var l in v)if(!!v.hasOwnProperty(l)){for(var E in m)if(m.hasOwnProperty(E)&&m[E]===v[l][E])return Number(l)}return-1}function ti(v,m){if(!v||!v.getBoundingClientRect)return ho();var l=v,E=!1;do if(l.clientWidth<l.scrollWidth||l.clientHeight<l.scrollHeight){var x=Kt(l);if(l.clientWidth<l.scrollWidth&&(x.overflowX=="auto"||x.overflowX=="scroll")||l.clientHeight<l.scrollHeight&&(x.overflowY=="auto"||x.overflowY=="scroll")){if(!l.getBoundingClientRect||l===document.body)return ho();if(E||m)return l;E=!0}}while(l=l.parentNode);return ho()}function jE(v,m){if(v&&m)for(var l in m)m.hasOwnProperty(l)&&(v[l]=m[l]);return v}function xp(v,m){return Math.round(v.top)===Math.round(m.top)&&Math.round(v.left)===Math.round(m.left)&&Math.round(v.height)===Math.round(m.height)&&Math.round(v.width)===Math.round(m.width)}var Rs;function cm(v,m){return function(){if(!Rs){var l=arguments,E=this;l.length===1?v.call(E,l[0]):v.apply(E,l),Rs=setTimeout(function(){Rs=void 0},m)}}}function BE(){clearTimeout(Rs),Rs=void 0}function hm(v,m,l){v.scrollLeft+=m,v.scrollTop+=l}function _p(v){var m=window.Polymer,l=window.jQuery||window.Zepto;return m&&m.dom?m.dom(v).cloneNode(!0):l?l(v).clone(!0)[0]:v.cloneNode(!0)}function Py(v,m){Kt(v,"position","absolute"),Kt(v,"top",m.top),Kt(v,"left",m.left),Kt(v,"width",m.width),Kt(v,"height",m.height)}function wp(v){Kt(v,"position",""),Kt(v,"top",""),Kt(v,"left",""),Kt(v,"width",""),Kt(v,"height","")}var Qn="Sortable"+new Date().getTime();function zE(){var v=[],m;return{captureAnimationState:function(){if(v=[],!!this.options.animation){var E=[].slice.call(this.el.children);E.forEach(function(x){if(!(Kt(x,"display")==="none"||x===ee.ghost)){v.push({target:x,rect:an(x)});var y=po({},v[v.length-1].rect);if(x.thisAnimationDuration){var f=Ri(x,!0);f&&(y.top-=f.f,y.left-=f.e)}x.fromRect=y}})}},addAnimationState:function(E){v.push(E)},removeAnimationState:function(E){v.splice(IE(v,{target:E}),1)},animateAll:function(E){var x=this;if(!this.options.animation){clearTimeout(m),typeof E=="function"&&E();return}var y=!1,f=0;v.forEach(function(P){var T=0,N=P.target,j=N.fromRect,I=an(N),H=N.prevFromRect,U=N.prevToRect,$=P.rect,X=Ri(N,!0);X&&(I.top-=X.f,I.left-=X.e),N.toRect=I,N.thisAnimationDuration&&xp(H,I)&&!xp(j,I)&&($.top-I.top)/($.left-I.left)===(j.top-I.top)/(j.left-I.left)&&(T=GE($,H,U,x.options)),xp(I,j)||(N.prevFromRect=j,N.prevToRect=I,T||(T=x.options.animation),x.animate(N,$,I,T)),T&&(y=!0,f=Math.max(f,T),clearTimeout(N.animationResetTimer),N.animationResetTimer=setTimeout(function(){N.animationTime=0,N.prevFromRect=null,N.fromRect=null,N.prevToRect=null,N.thisAnimationDuration=null},T),N.thisAnimationDuration=T)}),clearTimeout(m),y?m=setTimeout(function(){typeof E=="function"&&E()},f):typeof E=="function"&&E(),v=[]},animate:function(E,x,y,f){if(f){Kt(E,"transition",""),Kt(E,"transform","");var P=Ri(this.el),T=P&&P.a,N=P&&P.d,j=(x.left-y.left)/(T||1),I=(x.top-y.top)/(N||1);E.animatingX=!!j,E.animatingY=!!I,Kt(E,"transform","translate3d("+j+"px,"+I+"px,0)"),this.forRepaintDummy=VE(E),Kt(E,"transition","transform "+f+"ms"+(this.options.easing?" "+this.options.easing:"")),Kt(E,"transform","translate3d(0,0,0)"),typeof E.animated=="number"&&clearTimeout(E.animated),E.animated=setTimeout(function(){Kt(E,"transition",""),Kt(E,"transform",""),E.animated=!1,E.animatingX=!1,E.animatingY=!1},f)}}}}function VE(v){return v.offsetWidth}function GE(v,m,l,E){return Math.sqrt(Math.pow(m.top-v.top,2)+Math.pow(m.left-v.left,2))/Math.sqrt(Math.pow(m.top-l.top,2)+Math.pow(m.left-l.left,2))*E.animation}var Ea=[],Ep={initializeByDefault:!0},Ws={mount:function(m){for(var l in Ep)Ep.hasOwnProperty(l)&&!(l in m)&&(m[l]=Ep[l]);Ea.forEach(function(E){if(E.pluginName===m.pluginName)throw"Sortable: Cannot mount plugin ".concat(m.pluginName," more than once")}),Ea.push(m)},pluginEvent:function(m,l,E){var x=this;this.eventCanceled=!1,E.cancel=function(){x.eventCanceled=!0};var y=m+"Global";Ea.forEach(function(f){!l[f.pluginName]||(l[f.pluginName][y]&&l[f.pluginName][y](po({sortable:l},E)),l.options[f.pluginName]&&l[f.pluginName][m]&&l[f.pluginName][m](po({sortable:l},E)))})},initializePlugins:function(m,l,E,x){Ea.forEach(function(P){var T=P.pluginName;if(!(!m.options[T]&&!P.initializeByDefault)){var N=new P(m,l,m.options);N.sortable=m,N.options=m.options,m[T]=N,Br(E,N.defaults)}});for(var y in m.options)if(!!m.options.hasOwnProperty(y)){var f=this.modifyOption(m,y,m.options[y]);typeof f<"u"&&(m.options[y]=f)}},getEventProperties:function(m,l){var E={};return Ea.forEach(function(x){typeof x.eventProperties=="function"&&Br(E,x.eventProperties.call(l[x.pluginName],m))}),E},modifyOption:function(m,l,E){var x;return Ea.forEach(function(y){!m[y.pluginName]||y.optionListeners&&typeof y.optionListeners[l]=="function"&&(x=y.optionListeners[l].call(m[y.pluginName],E))}),x}};function Os(v){var m=v.sortable,l=v.rootEl,E=v.name,x=v.targetEl,y=v.cloneEl,f=v.toEl,P=v.fromEl,T=v.oldIndex,N=v.newIndex,j=v.oldDraggableIndex,I=v.newDraggableIndex,H=v.originalEvent,U=v.putSortable,$=v.extraEventProperties;if(m=m||l&&l[Qn],!!m){var X,q=m.options,rt="on"+E.charAt(0).toUpperCase()+E.substr(1);window.CustomEvent&&!Lo&&!$s?X=new CustomEvent(E,{bubbles:!0,cancelable:!0}):(X=document.createEvent("Event"),X.initEvent(E,!0,!0)),X.to=f||l,X.from=P||l,X.item=x||l,X.clone=y,X.oldIndex=T,X.newIndex=N,X.oldDraggableIndex=j,X.newDraggableIndex=I,X.originalEvent=H,X.pullMode=U?U.lastPutMode:void 0;var at=po(po({},$),Ws.getEventProperties(E,m));for(var yt in at)X[yt]=at[yt];l&&l.dispatchEvent(X),q[rt]&&q[rt].call(m,X)}}var HE=["evt"],fr=function(m,l){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=E.evt,y=ME(E,HE);Ws.pluginEvent.bind(ee)(m,l,po({dragEl:kt,parentEl:dn,ghostEl:fe,rootEl:on,nextEl:Li,lastDownEl:$u,cloneEl:fn,cloneHidden:_o,dragStarted:Ns,putSortable:Yn,activeSortable:ee.active,originalEvent:x,oldIndex:Ma,oldDraggableIndex:Is,newIndex:Ar,newDraggableIndex:qo,hideGhostForTarget:gm,unhideGhostForTarget:vm,cloneNowHidden:function(){_o=!0},cloneNowShown:function(){_o=!1},dispatchSortableEvent:function(P){rr({sortable:l,name:P,originalEvent:x})}},y))};function rr(v){Os(po({putSortable:Yn,cloneEl:fn,targetEl:kt,rootEl:on,oldIndex:Ma,oldDraggableIndex:Is,newIndex:Ar,newDraggableIndex:qo},v))}var kt,dn,fe,on,Li,$u,fn,_o,Ma,Ar,Is,qo,Ru,Yn,Aa=!1,Zu=!1,qu=[],Ni,qr,Sp,Pp,Ay,My,Ns,Sa,js,Bs=!1,Iu=!1,Wu,qn,Ap=[],jp=!1,Qu=[],oc=typeof document<"u",ju=sm,Ty=$s||Lo?"cssFloat":"float",UE=oc&&!FE&&!sm&&"draggable"in document.createElement("div"),pm=function(){if(!!oc){if(Lo)return!1;var v=document.createElement("x");return v.style.cssText="pointer-events:auto",v.style.pointerEvents==="auto"}}(),dm=function(m,l){var E=Kt(m),x=parseInt(E.width)-parseInt(E.paddingLeft)-parseInt(E.paddingRight)-parseInt(E.borderLeftWidth)-parseInt(E.borderRightWidth),y=Ta(m,0,l),f=Ta(m,1,l),P=y&&Kt(y),T=f&&Kt(f),N=P&&parseInt(P.marginLeft)+parseInt(P.marginRight)+an(y).width,j=T&&parseInt(T.marginLeft)+parseInt(T.marginRight)+an(f).width;if(E.display==="flex")return E.flexDirection==="column"||E.flexDirection==="column-reverse"?"vertical":"horizontal";if(E.display==="grid")return E.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(y&&P.float&&P.float!=="none"){var I=P.float==="left"?"left":"right";return f&&(T.clear==="both"||T.clear===I)?"vertical":"horizontal"}return y&&(P.display==="block"||P.display==="flex"||P.display==="table"||P.display==="grid"||N>=x&&E[Ty]==="none"||f&&E[Ty]==="none"&&N+j>x)?"vertical":"horizontal"},$E=function(m,l,E){var x=E?m.left:m.top,y=E?m.right:m.bottom,f=E?m.width:m.height,P=E?l.left:l.top,T=E?l.right:l.bottom,N=E?l.width:l.height;return x===P||y===T||x+f/2===P+N/2},WE=function(m,l){var E;return qu.some(function(x){var y=x[Qn].options.emptyInsertThreshold;if(!(!y||Qp(x))){var f=an(x),P=m>=f.left-y&&m<=f.right+y,T=l>=f.top-y&&l<=f.bottom+y;if(P&&T)return E=x}}),E},fm=function(m){function l(y,f){return function(P,T,N,j){var I=P.options.group.name&&T.options.group.name&&P.options.group.name===T.options.group.name;if(y==null&&(f||I))return!0;if(y==null||y===!1)return!1;if(f&&y==="clone")return y;if(typeof y=="function")return l(y(P,T,N,j),f)(P,T,N,j);var H=(f?P:T).options.group.name;return y===!0||typeof y=="string"&&y===H||y.join&&y.indexOf(H)>-1}}var E={},x=m.group;(!x||Uu(x)!="object")&&(x={name:x}),E.name=x.name,E.checkPull=l(x.pull,!0),E.checkPut=l(x.put),E.revertClone=x.revertClone,m.group=E},gm=function(){!pm&&fe&&Kt(fe,"display","none")},vm=function(){!pm&&fe&&Kt(fe,"display","")};oc&&document.addEventListener("click",function(v){if(Zu)return v.preventDefault(),v.stopPropagation&&v.stopPropagation(),v.stopImmediatePropagation&&v.stopImmediatePropagation(),Zu=!1,!1},!0);var ki=function(m){if(kt){m=m.touches?m.touches[0]:m;var l=WE(m.clientX,m.clientY);if(l){var E={};for(var x in m)m.hasOwnProperty(x)&&(E[x]=m[x]);E.target=E.rootEl=l,E.preventDefault=void 0,E.stopPropagation=void 0,l[Qn]._onDragOver(E)}}},XE=function(m){kt&&kt.parentNode[Qn]._isOutsideThisEl(m.target)};function ee(v,m){if(!(v&&v.nodeType&&v.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(v));this.el=v,this.options=m=Br({},m),v[Qn]=this;var l={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(v.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return dm(v,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(f,P){f.setData("Text",P.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ee.supportPointer!==!1&&"PointerEvent"in window&&!Fs,emptyInsertThreshold:5};Ws.initializePlugins(this,v,l);for(var E in l)!(E in m)&&(m[E]=l[E]);fm(m);for(var x in this)x.charAt(0)==="_"&&typeof this[x]=="function"&&(this[x]=this[x].bind(this));this.nativeDraggable=m.forceFallback?!1:UE,this.nativeDraggable&&(this.options.touchStartThreshold=1),m.supportPointer?Ce(v,"pointerdown",this._onTapStart):(Ce(v,"mousedown",this._onTapStart),Ce(v,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ce(v,"dragover",this),Ce(v,"dragenter",this)),qu.push(this.el),m.store&&m.store.get&&this.sort(m.store.get(this)||[]),Br(this,zE())}ee.prototype={constructor:ee,_isOutsideThisEl:function(m){!this.el.contains(m)&&m!==this.el&&(Sa=null)},_getDirection:function(m,l){return typeof this.options.direction=="function"?this.options.direction.call(this,m,l,kt):this.options.direction},_onTapStart:function(m){if(!!m.cancelable){var l=this,E=this.el,x=this.options,y=x.preventOnFilter,f=m.type,P=m.touches&&m.touches[0]||m.pointerType&&m.pointerType==="touch"&&m,T=(P||m).target,N=m.target.shadowRoot&&(m.path&&m.path[0]||m.composedPath&&m.composedPath()[0])||T,j=x.filter;if(t3(E),!kt&&!(/mousedown|pointerdown/.test(f)&&m.button!==0||x.disabled)&&!N.isContentEditable&&!(!this.nativeDraggable&&Fs&&T&&T.tagName.toUpperCase()==="SELECT")&&(T=_r(T,x.draggable,E,!1),!(T&&T.animated)&&$u!==T)){if(Ma=gn(T),Is=gn(T,x.draggable),typeof j=="function"){if(j.call(this,m,T,this)){rr({sortable:l,rootEl:N,name:"filter",targetEl:T,toEl:E,fromEl:E}),fr("filter",l,{evt:m}),y&&m.cancelable&&m.preventDefault();return}}else if(j&&(j=j.split(",").some(function(I){if(I=_r(N,I.trim(),E,!1),I)return rr({sortable:l,rootEl:I,name:"filter",targetEl:T,fromEl:E,toEl:E}),fr("filter",l,{evt:m}),!0}),j)){y&&m.cancelable&&m.preventDefault();return}x.handle&&!_r(N,x.handle,E,!1)||this._prepareDragStart(m,P,T)}}},_prepareDragStart:function(m,l,E){var x=this,y=x.el,f=x.options,P=y.ownerDocument,T;if(E&&!kt&&E.parentNode===y){var N=an(E);if(on=y,kt=E,dn=kt.parentNode,Li=kt.nextSibling,$u=E,Ru=f.group,ee.dragged=kt,Ni={target:kt,clientX:(l||m).clientX,clientY:(l||m).clientY},Ay=Ni.clientX-N.left,My=Ni.clientY-N.top,this._lastX=(l||m).clientX,this._lastY=(l||m).clientY,kt.style["will-change"]="all",T=function(){if(fr("delayEnded",x,{evt:m}),ee.eventCanceled){x._onDrop();return}x._disableDelayedDragEvents(),!xy&&x.nativeDraggable&&(kt.draggable=!0),x._triggerDragStart(m,l),rr({sortable:x,name:"choose",originalEvent:m}),pn(kt,f.chosenClass,!0)},f.ignore.split(",").forEach(function(j){um(kt,j.trim(),Mp)}),Ce(P,"dragover",ki),Ce(P,"mousemove",ki),Ce(P,"touchmove",ki),Ce(P,"mouseup",x._onDrop),Ce(P,"touchend",x._onDrop),Ce(P,"touchcancel",x._onDrop),xy&&this.nativeDraggable&&(this.options.touchStartThreshold=4,kt.draggable=!0),fr("delayStart",this,{evt:m}),f.delay&&(!f.delayOnTouchOnly||l)&&(!this.nativeDraggable||!($s||Lo))){if(ee.eventCanceled){this._onDrop();return}Ce(P,"mouseup",x._disableDelayedDrag),Ce(P,"touchend",x._disableDelayedDrag),Ce(P,"touchcancel",x._disableDelayedDrag),Ce(P,"mousemove",x._delayedDragTouchMoveHandler),Ce(P,"touchmove",x._delayedDragTouchMoveHandler),f.supportPointer&&Ce(P,"pointermove",x._delayedDragTouchMoveHandler),x._dragStartTimer=setTimeout(T,f.delay)}else T()}},_delayedDragTouchMoveHandler:function(m){var l=m.touches?m.touches[0]:m;Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){kt&&Mp(kt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var m=this.el.ownerDocument;ye(m,"mouseup",this._disableDelayedDrag),ye(m,"touchend",this._disableDelayedDrag),ye(m,"touchcancel",this._disableDelayedDrag),ye(m,"mousemove",this._delayedDragTouchMoveHandler),ye(m,"touchmove",this._delayedDragTouchMoveHandler),ye(m,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(m,l){l=l||m.pointerType=="touch"&&m,!this.nativeDraggable||l?this.options.supportPointer?Ce(document,"pointermove",this._onTouchMove):l?Ce(document,"touchmove",this._onTouchMove):Ce(document,"mousemove",this._onTouchMove):(Ce(kt,"dragend",this),Ce(on,"dragstart",this._onDragStart));try{document.selection?Xu(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(m,l){if(Aa=!1,on&&kt){fr("dragStarted",this,{evt:l}),this.nativeDraggable&&Ce(document,"dragover",XE);var E=this.options;!m&&pn(kt,E.dragClass,!1),pn(kt,E.ghostClass,!0),ee.active=this,m&&this._appendGhost(),rr({sortable:this,name:"start",originalEvent:l})}else this._nulling()},_emulateDragOver:function(){if(qr){this._lastX=qr.clientX,this._lastY=qr.clientY,gm();for(var m=document.elementFromPoint(qr.clientX,qr.clientY),l=m;m&&m.shadowRoot&&(m=m.shadowRoot.elementFromPoint(qr.clientX,qr.clientY),m!==l);)l=m;if(kt.parentNode[Qn]._isOutsideThisEl(m),l)do{if(l[Qn]){var E=void 0;if(E=l[Qn]._onDragOver({clientX:qr.clientX,clientY:qr.clientY,target:m,rootEl:l}),E&&!this.options.dragoverBubble)break}m=l}while(l=l.parentNode);vm()}},_onTouchMove:function(m){if(Ni){var l=this.options,E=l.fallbackTolerance,x=l.fallbackOffset,y=m.touches?m.touches[0]:m,f=fe&&Ri(fe,!0),P=fe&&f&&f.a,T=fe&&f&&f.d,N=ju&&qn&&Sy(qn),j=(y.clientX-Ni.clientX+x.x)/(P||1)+(N?N[0]-Ap[0]:0)/(P||1),I=(y.clientY-Ni.clientY+x.y)/(T||1)+(N?N[1]-Ap[1]:0)/(T||1);if(!ee.active&&!Aa){if(E&&Math.max(Math.abs(y.clientX-this._lastX),Math.abs(y.clientY-this._lastY))<E)return;this._onDragStart(m,!0)}if(fe){f?(f.e+=j-(Sp||0),f.f+=I-(Pp||0)):f={a:1,b:0,c:0,d:1,e:j,f:I};var H="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");Kt(fe,"webkitTransform",H),Kt(fe,"mozTransform",H),Kt(fe,"msTransform",H),Kt(fe,"transform",H),Sp=j,Pp=I,qr=y}m.cancelable&&m.preventDefault()}},_appendGhost:function(){if(!fe){var m=this.options.fallbackOnBody?document.body:on,l=an(kt,!0,ju,!0,m),E=this.options;if(ju){for(qn=m;Kt(qn,"position")==="static"&&Kt(qn,"transform")==="none"&&qn!==document;)qn=qn.parentNode;qn!==document.body&&qn!==document.documentElement?(qn===document&&(qn=ho()),l.top+=qn.scrollTop,l.left+=qn.scrollLeft):qn=ho(),Ap=Sy(qn)}fe=kt.cloneNode(!0),pn(fe,E.ghostClass,!1),pn(fe,E.fallbackClass,!0),pn(fe,E.dragClass,!0),Kt(fe,"transition",""),Kt(fe,"transform",""),Kt(fe,"box-sizing","border-box"),Kt(fe,"margin",0),Kt(fe,"top",l.top),Kt(fe,"left",l.left),Kt(fe,"width",l.width),Kt(fe,"height",l.height),Kt(fe,"opacity","0.8"),Kt(fe,"position",ju?"absolute":"fixed"),Kt(fe,"zIndex","100000"),Kt(fe,"pointerEvents","none"),ee.ghost=fe,m.appendChild(fe),Kt(fe,"transform-origin",Ay/parseInt(fe.style.width)*100+"% "+My/parseInt(fe.style.height)*100+"%")}},_onDragStart:function(m,l){var E=this,x=m.dataTransfer,y=E.options;if(fr("dragStart",this,{evt:m}),ee.eventCanceled){this._onDrop();return}fr("setupClone",this),ee.eventCanceled||(fn=_p(kt),fn.draggable=!1,fn.style["will-change"]="",this._hideClone(),pn(fn,this.options.chosenClass,!1),ee.clone=fn),E.cloneId=Xu(function(){fr("clone",E),!ee.eventCanceled&&(E.options.removeCloneOnHide||on.insertBefore(fn,kt),E._hideClone(),rr({sortable:E,name:"clone"}))}),!l&&pn(kt,y.dragClass,!0),l?(Zu=!0,E._loopId=setInterval(E._emulateDragOver,50)):(ye(document,"mouseup",E._onDrop),ye(document,"touchend",E._onDrop),ye(document,"touchcancel",E._onDrop),x&&(x.effectAllowed="move",y.setData&&y.setData.call(E,x,kt)),Ce(document,"drop",E),Kt(kt,"transform","translateZ(0)")),Aa=!0,E._dragStartId=Xu(E._dragStarted.bind(E,l,m)),Ce(document,"selectstart",E),Ns=!0,Fs&&Kt(document.body,"user-select","none")},_onDragOver:function(m){var l=this.el,E=m.target,x,y,f,P=this.options,T=P.group,N=ee.active,j=Ru===T,I=P.sort,H=Yn||N,U,$=this,X=!1;if(jp)return;function q(xe,Xe){fr(xe,$,po({evt:m,isOwner:j,axis:U?"vertical":"horizontal",revert:f,dragRect:x,targetRect:y,canSort:I,fromSortable:H,target:E,completed:at,onMove:function(we,tn){return Bu(on,l,kt,x,we,an(we),m,tn)},changed:yt},Xe))}function rt(){q("dragOverAnimationCapture"),$.captureAnimationState(),$!==H&&H.captureAnimationState()}function at(xe){return q("dragOverCompleted",{insertion:xe}),xe&&(j?N._hideClone():N._showClone($),$!==H&&(pn(kt,Yn?Yn.options.ghostClass:N.options.ghostClass,!1),pn(kt,P.ghostClass,!0)),Yn!==$&&$!==ee.active?Yn=$:$===ee.active&&Yn&&(Yn=null),H===$&&($._ignoreWhileAnimating=E),$.animateAll(function(){q("dragOverAnimationComplete"),$._ignoreWhileAnimating=null}),$!==H&&(H.animateAll(),H._ignoreWhileAnimating=null)),(E===kt&&!kt.animated||E===l&&!E.animated)&&(Sa=null),!P.dragoverBubble&&!m.rootEl&&E!==document&&(kt.parentNode[Qn]._isOutsideThisEl(m.target),!xe&&ki(m)),!P.dragoverBubble&&m.stopPropagation&&m.stopPropagation(),X=!0}function yt(){Ar=gn(kt),qo=gn(kt,P.draggable),rr({sortable:$,name:"change",toEl:l,newIndex:Ar,newDraggableIndex:qo,originalEvent:m})}if(m.preventDefault!==void 0&&m.cancelable&&m.preventDefault(),E=_r(E,P.draggable,l,!0),q("dragOver"),ee.eventCanceled)return X;if(kt.contains(m.target)||E.animated&&E.animatingX&&E.animatingY||$._ignoreWhileAnimating===E)return at(!1);if(Zu=!1,N&&!P.disabled&&(j?I||(f=dn!==on):Yn===this||(this.lastPutMode=Ru.checkPull(this,N,kt,m))&&T.checkPut(this,N,kt,m))){if(U=this._getDirection(m,E)==="vertical",x=an(kt),q("dragOverValid"),ee.eventCanceled)return X;if(f)return dn=on,rt(),this._hideClone(),q("revert"),ee.eventCanceled||(Li?on.insertBefore(kt,Li):on.appendChild(kt)),at(!0);var dt=Qp(l,P.draggable);if(!dt||ZE(m,U,this)&&!dt.animated){if(dt===kt)return at(!1);if(dt&&l===m.target&&(E=dt),E&&(y=an(E)),Bu(on,l,kt,x,E,y,m,!!E)!==!1)return rt(),l.appendChild(kt),dn=l,yt(),at(!0)}else if(dt&&JE(m,U,this)){var Et=Ta(l,0,P,!0);if(Et===kt)return at(!1);if(E=Et,y=an(E),Bu(on,l,kt,x,E,y,m,!1)!==!1)return rt(),l.insertBefore(kt,Et),dn=l,yt(),at(!0)}else if(E.parentNode===l){y=an(E);var mt=0,Ht,Xt=kt.parentNode!==l,bt=!$E(kt.animated&&kt.toRect||x,E.animated&&E.toRect||y,U),Bt=U?"top":"left",Gt=Ey(E,"top","top")||Ey(kt,"top","top"),ie=Gt?Gt.scrollTop:void 0;Sa!==E&&(Ht=y[Bt],Bs=!1,Iu=!bt&&P.invertSwap||Xt),mt=qE(m,E,y,U,bt?1:P.swapThreshold,P.invertedSwapThreshold==null?P.swapThreshold:P.invertedSwapThreshold,Iu,Sa===E);var St;if(mt!==0){var Ft=gn(kt);do Ft-=mt,St=dn.children[Ft];while(St&&(Kt(St,"display")==="none"||St===fe))}if(mt===0||St===E)return at(!1);Sa=E,js=mt;var ne=E.nextElementSibling,jt=!1;jt=mt===1;var Qt=Bu(on,l,kt,x,E,y,m,jt);if(Qt!==!1)return(Qt===1||Qt===-1)&&(jt=Qt===1),jp=!0,setTimeout(KE,30),rt(),jt&&!ne?l.appendChild(kt):E.parentNode.insertBefore(kt,jt?ne:E),Gt&&hm(Gt,0,ie-Gt.scrollTop),dn=kt.parentNode,Ht!==void 0&&!Iu&&(Wu=Math.abs(Ht-an(E)[Bt])),yt(),at(!0)}if(l.contains(kt))return at(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ye(document,"mousemove",this._onTouchMove),ye(document,"touchmove",this._onTouchMove),ye(document,"pointermove",this._onTouchMove),ye(document,"dragover",ki),ye(document,"mousemove",ki),ye(document,"touchmove",ki)},_offUpEvents:function(){var m=this.el.ownerDocument;ye(m,"mouseup",this._onDrop),ye(m,"touchend",this._onDrop),ye(m,"pointerup",this._onDrop),ye(m,"touchcancel",this._onDrop),ye(document,"selectstart",this)},_onDrop:function(m){var l=this.el,E=this.options;if(Ar=gn(kt),qo=gn(kt,E.draggable),fr("drop",this,{evt:m}),dn=kt&&kt.parentNode,Ar=gn(kt),qo=gn(kt,E.draggable),ee.eventCanceled){this._nulling();return}Aa=!1,Iu=!1,Bs=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Bp(this.cloneId),Bp(this._dragStartId),this.nativeDraggable&&(ye(document,"drop",this),ye(l,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Fs&&Kt(document.body,"user-select",""),Kt(kt,"transform",""),m&&(Ns&&(m.cancelable&&m.preventDefault(),!E.dropBubble&&m.stopPropagation()),fe&&fe.parentNode&&fe.parentNode.removeChild(fe),(on===dn||Yn&&Yn.lastPutMode!=="clone")&&fn&&fn.parentNode&&fn.parentNode.removeChild(fn),kt&&(this.nativeDraggable&&ye(kt,"dragend",this),Mp(kt),kt.style["will-change"]="",Ns&&!Aa&&pn(kt,Yn?Yn.options.ghostClass:this.options.ghostClass,!1),pn(kt,this.options.chosenClass,!1),rr({sortable:this,name:"unchoose",toEl:dn,newIndex:null,newDraggableIndex:null,originalEvent:m}),on!==dn?(Ar>=0&&(rr({rootEl:dn,name:"add",toEl:dn,fromEl:on,originalEvent:m}),rr({sortable:this,name:"remove",toEl:dn,originalEvent:m}),rr({rootEl:dn,name:"sort",toEl:dn,fromEl:on,originalEvent:m}),rr({sortable:this,name:"sort",toEl:dn,originalEvent:m})),Yn&&Yn.save()):Ar!==Ma&&Ar>=0&&(rr({sortable:this,name:"update",toEl:dn,originalEvent:m}),rr({sortable:this,name:"sort",toEl:dn,originalEvent:m})),ee.active&&((Ar==null||Ar===-1)&&(Ar=Ma,qo=Is),rr({sortable:this,name:"end",toEl:dn,originalEvent:m}),this.save()))),this._nulling()},_nulling:function(){fr("nulling",this),on=kt=dn=fe=Li=fn=$u=_o=Ni=qr=Ns=Ar=qo=Ma=Is=Sa=js=Yn=Ru=ee.dragged=ee.ghost=ee.clone=ee.active=null,Qu.forEach(function(m){m.checked=!0}),Qu.length=Sp=Pp=0},handleEvent:function(m){switch(m.type){case"drop":case"dragend":this._onDrop(m);break;case"dragenter":case"dragover":kt&&(this._onDragOver(m),YE(m));break;case"selectstart":m.preventDefault();break}},toArray:function(){for(var m=[],l,E=this.el.children,x=0,y=E.length,f=this.options;x<y;x++)l=E[x],_r(l,f.draggable,this.el,!1)&&m.push(l.getAttribute(f.dataIdAttr)||_E(l));return m},sort:function(m,l){var E={},x=this.el;this.toArray().forEach(function(y,f){var P=x.children[f];_r(P,this.options.draggable,x,!1)&&(E[y]=P)},this),l&&this.captureAnimationState(),m.forEach(function(y){E[y]&&(x.removeChild(E[y]),x.appendChild(E[y]))}),l&&this.animateAll()},save:function(){var m=this.options.store;m&&m.set&&m.set(this)},closest:function(m,l){return _r(m,l||this.options.draggable,this.el,!1)},option:function(m,l){var E=this.options;if(l===void 0)return E[m];var x=Ws.modifyOption(this,m,l);typeof x<"u"?E[m]=x:E[m]=l,m==="group"&&fm(E)},destroy:function(){fr("destroy",this);var m=this.el;m[Qn]=null,ye(m,"mousedown",this._onTapStart),ye(m,"touchstart",this._onTapStart),ye(m,"pointerdown",this._onTapStart),this.nativeDraggable&&(ye(m,"dragover",this),ye(m,"dragenter",this)),Array.prototype.forEach.call(m.querySelectorAll("[draggable]"),function(l){l.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qu.splice(qu.indexOf(this.el),1),this.el=m=null},_hideClone:function(){if(!_o){if(fr("hideClone",this),ee.eventCanceled)return;Kt(fn,"display","none"),this.options.removeCloneOnHide&&fn.parentNode&&fn.parentNode.removeChild(fn),_o=!0}},_showClone:function(m){if(m.lastPutMode!=="clone"){this._hideClone();return}if(_o){if(fr("showClone",this),ee.eventCanceled)return;kt.parentNode==on&&!this.options.group.revertClone?on.insertBefore(fn,kt):Li?on.insertBefore(fn,Li):on.appendChild(fn),this.options.group.revertClone&&this.animate(kt,fn),Kt(fn,"display",""),_o=!1}}};function YE(v){v.dataTransfer&&(v.dataTransfer.dropEffect="move"),v.cancelable&&v.preventDefault()}function Bu(v,m,l,E,x,y,f,P){var T,N=v[Qn],j=N.options.onMove,I;return window.CustomEvent&&!Lo&&!$s?T=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent("move",!0,!0)),T.to=m,T.from=v,T.dragged=l,T.draggedRect=E,T.related=x||m,T.relatedRect=y||an(m),T.willInsertAfter=P,T.originalEvent=f,v.dispatchEvent(T),j&&(I=j.call(N,T,f)),I}function Mp(v){v.draggable=!1}function KE(){jp=!1}function JE(v,m,l){var E=an(Ta(l.el,0,l.options,!0)),x=10;return m?v.clientX<E.left-x||v.clientY<E.top&&v.clientX<E.right:v.clientY<E.top-x||v.clientY<E.bottom&&v.clientX<E.left}function ZE(v,m,l){var E=an(Qp(l.el,l.options.draggable)),x=10;return m?v.clientX>E.right+x||v.clientX<=E.right&&v.clientY>E.bottom&&v.clientX>=E.left:v.clientX>E.right&&v.clientY>E.top||v.clientX<=E.right&&v.clientY>E.bottom+x}function qE(v,m,l,E,x,y,f,P){var T=E?v.clientY:v.clientX,N=E?l.height:l.width,j=E?l.top:l.left,I=E?l.bottom:l.right,H=!1;if(!f){if(P&&Wu<N*x){if(!Bs&&(js===1?T>j+N*y/2:T<I-N*y/2)&&(Bs=!0),Bs)H=!0;else if(js===1?T<j+Wu:T>I-Wu)return-js}else if(T>j+N*(1-x)/2&&T<I-N*(1-x)/2)return QE(m)}return H=H||f,H&&(T<j+N*y/2||T>I-N*y/2)?T>j+N/2?1:-1:0}function QE(v){return gn(kt)<gn(v)?1:-1}function _E(v){for(var m=v.tagName+v.className+v.src+v.href+v.textContent,l=m.length,E=0;l--;)E+=m.charCodeAt(l);return E.toString(36)}function t3(v){Qu.length=0;for(var m=v.getElementsByTagName("input"),l=m.length;l--;){var E=m[l];E.checked&&Qu.push(E)}}function Xu(v){return setTimeout(v,0)}function Bp(v){return clearTimeout(v)}oc&&Ce(document,"touchmove",function(v){(ee.active||Aa)&&v.cancelable&&v.preventDefault()});ee.utils={on:Ce,off:ye,css:Kt,find:um,is:function(m,l){return!!_r(m,l,m,!1)},extend:jE,throttle:cm,closest:_r,toggleClass:pn,clone:_p,index:gn,nextTick:Xu,cancelNextTick:Bp,detectDirection:dm,getChild:Ta};ee.get=function(v){return v[Qn]};ee.mount=function(){for(var v=arguments.length,m=new Array(v),l=0;l<v;l++)m[l]=arguments[l];m[0].constructor===Array&&(m=m[0]),m.forEach(function(E){if(!E.prototype||!E.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(E));E.utils&&(ee.utils=po(po({},ee.utils),E.utils)),Ws.mount(E)})};ee.create=function(v,m){return new ee(v,m)};ee.version=LE;var kn=[],ks,zp,Vp=!1,Tp,Dp,_u,Ls;function e3(){function v(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var m in this)m.charAt(0)==="_"&&typeof this[m]=="function"&&(this[m]=this[m].bind(this))}return v.prototype={dragStarted:function(l){var E=l.originalEvent;this.sortable.nativeDraggable?Ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ce(document,"pointermove",this._handleFallbackAutoScroll):E.touches?Ce(document,"touchmove",this._handleFallbackAutoScroll):Ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(l){var E=l.originalEvent;!this.options.dragOverBubble&&!E.rootEl&&this._handleAutoScroll(E)},drop:function(){this.sortable.nativeDraggable?ye(document,"dragover",this._handleAutoScroll):(ye(document,"pointermove",this._handleFallbackAutoScroll),ye(document,"touchmove",this._handleFallbackAutoScroll),ye(document,"mousemove",this._handleFallbackAutoScroll)),Dy(),Yu(),BE()},nulling:function(){_u=zp=ks=Vp=Ls=Tp=Dp=null,kn.length=0},_handleFallbackAutoScroll:function(l){this._handleAutoScroll(l,!0)},_handleAutoScroll:function(l,E){var x=this,y=(l.touches?l.touches[0]:l).clientX,f=(l.touches?l.touches[0]:l).clientY,P=document.elementFromPoint(y,f);if(_u=l,E||this.options.forceAutoScrollFallback||$s||Lo||Fs){Op(l,this.options,P,E);var T=ti(P,!0);Vp&&(!Ls||y!==Tp||f!==Dp)&&(Ls&&Dy(),Ls=setInterval(function(){var N=ti(document.elementFromPoint(y,f),!0);N!==T&&(T=N,Yu()),Op(l,x.options,N,E)},10),Tp=y,Dp=f)}else{if(!this.options.bubbleScroll||ti(P,!0)===ho()){Yu();return}Op(l,this.options,ti(P,!1),!1)}}},Br(v,{pluginName:"scroll",initializeByDefault:!0})}function Yu(){kn.forEach(function(v){clearInterval(v.pid)}),kn=[]}function Dy(){clearInterval(Ls)}var Op=cm(function(v,m,l,E){if(!!m.scroll){var x=(v.touches?v.touches[0]:v).clientX,y=(v.touches?v.touches[0]:v).clientY,f=m.scrollSensitivity,P=m.scrollSpeed,T=ho(),N=!1,j;zp!==l&&(zp=l,Yu(),ks=m.scroll,j=m.scrollFn,ks===!0&&(ks=ti(l,!0)));var I=0,H=ks;do{var U=H,$=an(U),X=$.top,q=$.bottom,rt=$.left,at=$.right,yt=$.width,dt=$.height,Et=void 0,mt=void 0,Ht=U.scrollWidth,Xt=U.scrollHeight,bt=Kt(U),Bt=U.scrollLeft,Gt=U.scrollTop;U===T?(Et=yt<Ht&&(bt.overflowX==="auto"||bt.overflowX==="scroll"||bt.overflowX==="visible"),mt=dt<Xt&&(bt.overflowY==="auto"||bt.overflowY==="scroll"||bt.overflowY==="visible")):(Et=yt<Ht&&(bt.overflowX==="auto"||bt.overflowX==="scroll"),mt=dt<Xt&&(bt.overflowY==="auto"||bt.overflowY==="scroll"));var ie=Et&&(Math.abs(at-x)<=f&&Bt+yt<Ht)-(Math.abs(rt-x)<=f&&!!Bt),St=mt&&(Math.abs(q-y)<=f&&Gt+dt<Xt)-(Math.abs(X-y)<=f&&!!Gt);if(!kn[I])for(var Ft=0;Ft<=I;Ft++)kn[Ft]||(kn[Ft]={});(kn[I].vx!=ie||kn[I].vy!=St||kn[I].el!==U)&&(kn[I].el=U,kn[I].vx=ie,kn[I].vy=St,clearInterval(kn[I].pid),(ie!=0||St!=0)&&(N=!0,kn[I].pid=setInterval(function(){E&&this.layer===0&&ee.active._onTouchMove(_u);var ne=kn[this.layer].vy?kn[this.layer].vy*P:0,jt=kn[this.layer].vx?kn[this.layer].vx*P:0;typeof j=="function"&&j.call(ee.dragged.parentNode[Qn],jt,ne,v,_u,kn[this.layer].el)!=="continue"||hm(kn[this.layer].el,jt,ne)}.bind({layer:I}),24))),I++}while(m.bubbleScroll&&H!==T&&(H=ti(H,!1)));Vp=N}},30),ym=function(m){var l=m.originalEvent,E=m.putSortable,x=m.dragEl,y=m.activeSortable,f=m.dispatchSortableEvent,P=m.hideGhostForTarget,T=m.unhideGhostForTarget;if(!!l){var N=E||y;P();var j=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:l,I=document.elementFromPoint(j.clientX,j.clientY);T(),N&&!N.el.contains(I)&&(f("spill"),this.onSpill({dragEl:x,putSortable:E}))}};function td(){}td.prototype={startIndex:null,dragStart:function(m){var l=m.oldDraggableIndex;this.startIndex=l},onSpill:function(m){var l=m.dragEl,E=m.putSortable;this.sortable.captureAnimationState(),E&&E.captureAnimationState();var x=Ta(this.sortable.el,this.startIndex,this.options);x?this.sortable.el.insertBefore(l,x):this.sortable.el.appendChild(l),this.sortable.animateAll(),E&&E.animateAll()},drop:ym};Br(td,{pluginName:"revertOnSpill"});function ed(){}ed.prototype={onSpill:function(m){var l=m.dragEl,E=m.putSortable,x=E||this.sortable;x.captureAnimationState(),l.parentNode&&l.parentNode.removeChild(l),x.animateAll()},drop:ym};Br(ed,{pluginName:"removeOnSpill"});var Ir;function n3(){function v(){this.defaults={swapClass:"sortable-swap-highlight"}}return v.prototype={dragStart:function(l){var E=l.dragEl;Ir=E},dragOverValid:function(l){var E=l.completed,x=l.target,y=l.onMove,f=l.activeSortable,P=l.changed,T=l.cancel;if(!!f.options.swap){var N=this.sortable.el,j=this.options;if(x&&x!==N){var I=Ir;y(x)!==!1?(pn(x,j.swapClass,!0),Ir=x):Ir=null,I&&I!==Ir&&pn(I,j.swapClass,!1)}P(),E(!0),T()}},drop:function(l){var E=l.activeSortable,x=l.putSortable,y=l.dragEl,f=x||this.sortable,P=this.options;Ir&&pn(Ir,P.swapClass,!1),Ir&&(P.swap||x&&x.options.swap)&&y!==Ir&&(f.captureAnimationState(),f!==E&&E.captureAnimationState(),r3(y,Ir),f.animateAll(),f!==E&&E.animateAll())},nulling:function(){Ir=null}},Br(v,{pluginName:"swap",eventProperties:function(){return{swapItem:Ir}}})}function r3(v,m){var l=v.parentNode,E=m.parentNode,x,y;!l||!E||l.isEqualNode(m)||E.isEqualNode(v)||(x=gn(v),y=gn(m),l.isEqualNode(E)&&x<y&&y++,l.insertBefore(m,l.children[x]),E.insertBefore(v,E.children[y]))}var ce=[],Pr=[],As,Qr,Ms=!1,gr=!1,Pa=!1,_e,Ts,zu;function o3(){function v(m){for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));m.options.supportPointer?Ce(document,"pointerup",this._deselectMultiDrag):(Ce(document,"mouseup",this._deselectMultiDrag),Ce(document,"touchend",this._deselectMultiDrag)),Ce(document,"keydown",this._checkKeyDown),Ce(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(x,y){var f="";ce.length&&Qr===m?ce.forEach(function(P,T){f+=(T?", ":"")+P.textContent}):f=y.textContent,x.setData("Text",f)}}}return v.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(l){var E=l.dragEl;_e=E},delayEnded:function(){this.isMultiDrag=~ce.indexOf(_e)},setupClone:function(l){var E=l.sortable,x=l.cancel;if(!!this.isMultiDrag){for(var y=0;y<ce.length;y++)Pr.push(_p(ce[y])),Pr[y].sortableIndex=ce[y].sortableIndex,Pr[y].draggable=!1,Pr[y].style["will-change"]="",pn(Pr[y],this.options.selectedClass,!1),ce[y]===_e&&pn(Pr[y],this.options.chosenClass,!1);E._hideClone(),x()}},clone:function(l){var E=l.sortable,x=l.rootEl,y=l.dispatchSortableEvent,f=l.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||ce.length&&Qr===E&&(Oy(!0,x),y("clone"),f())},showClone:function(l){var E=l.cloneNowShown,x=l.rootEl,y=l.cancel;!this.isMultiDrag||(Oy(!1,x),Pr.forEach(function(f){Kt(f,"display","")}),E(),zu=!1,y())},hideClone:function(l){var E=this;l.sortable;var x=l.cloneNowHidden,y=l.cancel;!this.isMultiDrag||(Pr.forEach(function(f){Kt(f,"display","none"),E.options.removeCloneOnHide&&f.parentNode&&f.parentNode.removeChild(f)}),x(),zu=!0,y())},dragStartGlobal:function(l){l.sortable,!this.isMultiDrag&&Qr&&Qr.multiDrag._deselectMultiDrag(),ce.forEach(function(E){E.sortableIndex=gn(E)}),ce=ce.sort(function(E,x){return E.sortableIndex-x.sortableIndex}),Pa=!0},dragStarted:function(l){var E=this,x=l.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(x.captureAnimationState(),this.options.animation)){ce.forEach(function(f){f!==_e&&Kt(f,"position","absolute")});var y=an(_e,!1,!0,!0);ce.forEach(function(f){f!==_e&&Py(f,y)}),gr=!0,Ms=!0}x.animateAll(function(){gr=!1,Ms=!1,E.options.animation&&ce.forEach(function(f){wp(f)}),E.options.sort&&Vu()})}},dragOver:function(l){var E=l.target,x=l.completed,y=l.cancel;gr&&~ce.indexOf(E)&&(x(!1),y())},revert:function(l){var E=l.fromSortable,x=l.rootEl,y=l.sortable,f=l.dragRect;ce.length>1&&(ce.forEach(function(P){y.addAnimationState({target:P,rect:gr?an(P):f}),wp(P),P.fromRect=f,E.removeAnimationState(P)}),gr=!1,i3(!this.options.removeCloneOnHide,x))},dragOverCompleted:function(l){var E=l.sortable,x=l.isOwner,y=l.insertion,f=l.activeSortable,P=l.parentEl,T=l.putSortable,N=this.options;if(y){if(x&&f._hideClone(),Ms=!1,N.animation&&ce.length>1&&(gr||!x&&!f.options.sort&&!T)){var j=an(_e,!1,!0,!0);ce.forEach(function(H){H!==_e&&(Py(H,j),P.appendChild(H))}),gr=!0}if(!x)if(gr||Vu(),ce.length>1){var I=zu;f._showClone(E),f.options.animation&&!zu&&I&&Pr.forEach(function(H){f.addAnimationState({target:H,rect:Ts}),H.fromRect=Ts,H.thisAnimationDuration=null})}else f._showClone(E)}},dragOverAnimationCapture:function(l){var E=l.dragRect,x=l.isOwner,y=l.activeSortable;if(ce.forEach(function(P){P.thisAnimationDuration=null}),y.options.animation&&!x&&y.multiDrag.isMultiDrag){Ts=Br({},E);var f=Ri(_e,!0);Ts.top-=f.f,Ts.left-=f.e}},dragOverAnimationComplete:function(){gr&&(gr=!1,Vu())},drop:function(l){var E=l.originalEvent,x=l.rootEl,y=l.parentEl,f=l.sortable,P=l.dispatchSortableEvent,T=l.oldIndex,N=l.putSortable,j=N||this.sortable;if(!!E){var I=this.options,H=y.children;if(!Pa)if(I.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),pn(_e,I.selectedClass,!~ce.indexOf(_e)),~ce.indexOf(_e))ce.splice(ce.indexOf(_e),1),As=null,Os({sortable:f,rootEl:x,name:"deselect",targetEl:_e,originalEvt:E});else{if(ce.push(_e),Os({sortable:f,rootEl:x,name:"select",targetEl:_e,originalEvt:E}),E.shiftKey&&As&&f.el.contains(As)){var U=gn(As),$=gn(_e);if(~U&&~$&&U!==$){var X,q;for($>U?(q=U,X=$):(q=$,X=U+1);q<X;q++)~ce.indexOf(H[q])||(pn(H[q],I.selectedClass,!0),ce.push(H[q]),Os({sortable:f,rootEl:x,name:"select",targetEl:H[q],originalEvt:E}))}}else As=_e;Qr=j}if(Pa&&this.isMultiDrag){if(gr=!1,(y[Qn].options.sort||y!==x)&&ce.length>1){var rt=an(_e),at=gn(_e,":not(."+this.options.selectedClass+")");if(!Ms&&I.animation&&(_e.thisAnimationDuration=null),j.captureAnimationState(),!Ms&&(I.animation&&(_e.fromRect=rt,ce.forEach(function(dt){if(dt.thisAnimationDuration=null,dt!==_e){var Et=gr?an(dt):rt;dt.fromRect=Et,j.addAnimationState({target:dt,rect:Et})}})),Vu(),ce.forEach(function(dt){H[at]?y.insertBefore(dt,H[at]):y.appendChild(dt),at++}),T===gn(_e))){var yt=!1;ce.forEach(function(dt){if(dt.sortableIndex!==gn(dt)){yt=!0;return}}),yt&&P("update")}ce.forEach(function(dt){wp(dt)}),j.animateAll()}Qr=j}(x===y||N&&N.lastPutMode!=="clone")&&Pr.forEach(function(dt){dt.parentNode&&dt.parentNode.removeChild(dt)})}},nullingGlobal:function(){this.isMultiDrag=Pa=!1,Pr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ye(document,"pointerup",this._deselectMultiDrag),ye(document,"mouseup",this._deselectMultiDrag),ye(document,"touchend",this._deselectMultiDrag),ye(document,"keydown",this._checkKeyDown),ye(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(l){if(!(typeof Pa<"u"&&Pa)&&Qr===this.sortable&&!(l&&_r(l.target,this.options.draggable,this.sortable.el,!1))&&!(l&&l.button!==0))for(;ce.length;){var E=ce[0];pn(E,this.options.selectedClass,!1),ce.shift(),Os({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:E,originalEvt:l})}},_checkKeyDown:function(l){l.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(l){l.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Br(v,{pluginName:"multiDrag",utils:{select:function(l){var E=l.parentNode[Qn];!E||!E.options.multiDrag||~ce.indexOf(l)||(Qr&&Qr!==E&&(Qr.multiDrag._deselectMultiDrag(),Qr=E),pn(l,E.options.selectedClass,!0),ce.push(l))},deselect:function(l){var E=l.parentNode[Qn],x=ce.indexOf(l);!E||!E.options.multiDrag||!~x||(pn(l,E.options.selectedClass,!1),ce.splice(x,1))}},eventProperties:function(){var l=this,E=[],x=[];return ce.forEach(function(y){E.push({multiDragElement:y,index:y.sortableIndex});var f;gr&&y!==_e?f=-1:gr?f=gn(y,":not(."+l.options.selectedClass+")"):f=gn(y),x.push({multiDragElement:y,index:f})}),{items:TE(ce),clones:[].concat(Pr),oldIndicies:E,newIndicies:x}},optionListeners:{multiDragKey:function(l){return l=l.toLowerCase(),l==="ctrl"?l="Control":l.length>1&&(l=l.charAt(0).toUpperCase()+l.substr(1)),l}}})}function i3(v,m){ce.forEach(function(l,E){var x=m.children[l.sortableIndex+(v?Number(E):0)];x?m.insertBefore(l,x):m.appendChild(l)})}function Oy(v,m){Pr.forEach(function(l,E){var x=m.children[l.sortableIndex+(v?Number(E):0)];x?m.insertBefore(l,x):m.appendChild(l)})}function Vu(){ce.forEach(function(v){v!==_e&&v.parentNode&&v.parentNode.removeChild(v)})}ee.mount(new e3);ee.mount(ed,td);const a3=Object.freeze(Object.defineProperty({__proto__:null,default:ee,MultiDrag:o3,Sortable:ee,Swap:n3},Symbol.toStringTag,{value:"Module"})),s3=Ry(a3);(function(v,m){(function(E,x){v.exports=x(jy,s3)})(typeof self<"u"?self:Ln,function(l,E){return function(x){var y={};function f(P){if(y[P])return y[P].exports;var T=y[P]={i:P,l:!1,exports:{}};return x[P].call(T.exports,T,T.exports,f),T.l=!0,T.exports}return f.m=x,f.c=y,f.d=function(P,T,N){f.o(P,T)||Object.defineProperty(P,T,{enumerable:!0,get:N})},f.r=function(P){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},f.t=function(P,T){if(T&1&&(P=f(P)),T&8||T&4&&typeof P=="object"&&P&&P.__esModule)return P;var N=Object.create(null);if(f.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:P}),T&2&&typeof P!="string")for(var j in P)f.d(N,j,function(I){return P[I]}.bind(null,j));return N},f.n=function(P){var T=P&&P.__esModule?function(){return P.default}:function(){return P};return f.d(T,"a",T),T},f.o=function(P,T){return Object.prototype.hasOwnProperty.call(P,T)},f.p="",f(f.s="fb15")}({"00ee":function(x,y,f){var P=f("b622"),T=P("toStringTag"),N={};N[T]="z",x.exports=String(N)==="[object z]"},"0366":function(x,y,f){var P=f("1c0b");x.exports=function(T,N,j){if(P(T),N===void 0)return T;switch(j){case 0:return function(){return T.call(N)};case 1:return function(I){return T.call(N,I)};case 2:return function(I,H){return T.call(N,I,H)};case 3:return function(I,H,U){return T.call(N,I,H,U)}}return function(){return T.apply(N,arguments)}}},"057f":function(x,y,f){var P=f("fc6a"),T=f("241c").f,N={}.toString,j=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],I=function(H){try{return T(H)}catch{return j.slice()}};x.exports.f=function(U){return j&&N.call(U)=="[object Window]"?I(U):T(P(U))}},"06cf":function(x,y,f){var P=f("83ab"),T=f("d1e7"),N=f("5c6c"),j=f("fc6a"),I=f("c04e"),H=f("5135"),U=f("0cfb"),$=Object.getOwnPropertyDescriptor;y.f=P?$:function(q,rt){if(q=j(q),rt=I(rt,!0),U)try{return $(q,rt)}catch{}if(H(q,rt))return N(!T.f.call(q,rt),q[rt])}},"0cfb":function(x,y,f){var P=f("83ab"),T=f("d039"),N=f("cc12");x.exports=!P&&!T(function(){return Object.defineProperty(N("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(x,y,f){var P=f("23e7"),T=f("d58f").left,N=f("a640"),j=f("ae40"),I=N("reduce"),H=j("reduce",{1:0});P({target:"Array",proto:!0,forced:!I||!H},{reduce:function($){return T(this,$,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(x,y,f){var P=f("c6b6"),T=f("9263");x.exports=function(N,j){var I=N.exec;if(typeof I=="function"){var H=I.call(N,j);if(typeof H!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return H}if(P(N)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return T.call(N,j)}},"159b":function(x,y,f){var P=f("da84"),T=f("fdbc"),N=f("17c2"),j=f("9112");for(var I in T){var H=P[I],U=H&&H.prototype;if(U&&U.forEach!==N)try{j(U,"forEach",N)}catch{U.forEach=N}}},"17c2":function(x,y,f){var P=f("b727").forEach,T=f("a640"),N=f("ae40"),j=T("forEach"),I=N("forEach");x.exports=!j||!I?function(U){return P(this,U,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(x,y,f){var P=f("d066");x.exports=P("document","documentElement")},"1c0b":function(x,y){x.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},"1c7e":function(x,y,f){var P=f("b622"),T=P("iterator"),N=!1;try{var j=0,I={next:function(){return{done:!!j++}},return:function(){N=!0}};I[T]=function(){return this},Array.from(I,function(){throw 2})}catch{}x.exports=function(H,U){if(!U&&!N)return!1;var $=!1;try{var X={};X[T]=function(){return{next:function(){return{done:$=!0}}}},H(X)}catch{}return $}},"1d80":function(x,y){x.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},"1dde":function(x,y,f){var P=f("d039"),T=f("b622"),N=f("2d00"),j=T("species");x.exports=function(I){return N>=51||!P(function(){var H=[],U=H.constructor={};return U[j]=function(){return{foo:1}},H[I](Boolean).foo!==1})}},"23cb":function(x,y,f){var P=f("a691"),T=Math.max,N=Math.min;x.exports=function(j,I){var H=P(j);return H<0?T(H+I,0):N(H,I)}},"23e7":function(x,y,f){var P=f("da84"),T=f("06cf").f,N=f("9112"),j=f("6eeb"),I=f("ce4e"),H=f("e893"),U=f("94ca");x.exports=function($,X){var q=$.target,rt=$.global,at=$.stat,yt,dt,Et,mt,Ht,Xt;if(rt?dt=P:at?dt=P[q]||I(q,{}):dt=(P[q]||{}).prototype,dt)for(Et in X){if(Ht=X[Et],$.noTargetGet?(Xt=T(dt,Et),mt=Xt&&Xt.value):mt=dt[Et],yt=U(rt?Et:q+(at?".":"#")+Et,$.forced),!yt&&mt!==void 0){if(typeof Ht==typeof mt)continue;H(Ht,mt)}($.sham||mt&&mt.sham)&&N(Ht,"sham",!0),j(dt,Et,Ht,$)}}},"241c":function(x,y,f){var P=f("ca84"),T=f("7839"),N=T.concat("length","prototype");y.f=Object.getOwnPropertyNames||function(I){return P(I,N)}},"25f0":function(x,y,f){var P=f("6eeb"),T=f("825a"),N=f("d039"),j=f("ad6d"),I="toString",H=RegExp.prototype,U=H[I],$=N(function(){return U.call({source:"a",flags:"b"})!="/a/b"}),X=U.name!=I;($||X)&&P(RegExp.prototype,I,function(){var rt=T(this),at=String(rt.source),yt=rt.flags,dt=String(yt===void 0&&rt instanceof RegExp&&!("flags"in H)?j.call(rt):yt);return"/"+at+"/"+dt},{unsafe:!0})},"2ca0":function(x,y,f){var P=f("23e7"),T=f("06cf").f,N=f("50c4"),j=f("5a34"),I=f("1d80"),H=f("ab13"),U=f("c430"),$="".startsWith,X=Math.min,q=H("startsWith"),rt=!U&&!q&&!!function(){var at=T(String.prototype,"startsWith");return at&&!at.writable}();P({target:"String",proto:!0,forced:!rt&&!q},{startsWith:function(yt){var dt=String(I(this));j(yt);var Et=N(X(arguments.length>1?arguments[1]:void 0,dt.length)),mt=String(yt);return $?$.call(dt,mt,Et):dt.slice(Et,Et+mt.length)===mt}})},"2d00":function(x,y,f){var P=f("da84"),T=f("342f"),N=P.process,j=N&&N.versions,I=j&&j.v8,H,U;I?(H=I.split("."),U=H[0]+H[1]):T&&(H=T.match(/Edge\/(\d+)/),(!H||H[1]>=74)&&(H=T.match(/Chrome\/(\d+)/),H&&(U=H[1]))),x.exports=U&&+U},"342f":function(x,y,f){var P=f("d066");x.exports=P("navigator","userAgent")||""},"35a1":function(x,y,f){var P=f("f5df"),T=f("3f8c"),N=f("b622"),j=N("iterator");x.exports=function(I){if(I!=null)return I[j]||I["@@iterator"]||T[P(I)]}},"37e8":function(x,y,f){var P=f("83ab"),T=f("9bf2"),N=f("825a"),j=f("df75");x.exports=P?Object.defineProperties:function(H,U){N(H);for(var $=j(U),X=$.length,q=0,rt;X>q;)T.f(H,rt=$[q++],U[rt]);return H}},"3bbe":function(x,y,f){var P=f("861d");x.exports=function(T){if(!P(T)&&T!==null)throw TypeError("Can't set "+String(T)+" as a prototype");return T}},"3ca3":function(x,y,f){var P=f("6547").charAt,T=f("69f3"),N=f("7dd0"),j="String Iterator",I=T.set,H=T.getterFor(j);N(String,"String",function(U){I(this,{type:j,string:String(U),index:0})},function(){var $=H(this),X=$.string,q=$.index,rt;return q>=X.length?{value:void 0,done:!0}:(rt=P(X,q),$.index+=rt.length,{value:rt,done:!1})})},"3f8c":function(x,y){x.exports={}},4160:function(x,y,f){var P=f("23e7"),T=f("17c2");P({target:"Array",proto:!0,forced:[].forEach!=T},{forEach:T})},"428f":function(x,y,f){var P=f("da84");x.exports=P},"44ad":function(x,y,f){var P=f("d039"),T=f("c6b6"),N="".split;x.exports=P(function(){return!Object("z").propertyIsEnumerable(0)})?function(j){return T(j)=="String"?N.call(j,""):Object(j)}:Object},"44d2":function(x,y,f){var P=f("b622"),T=f("7c73"),N=f("9bf2"),j=P("unscopables"),I=Array.prototype;I[j]==null&&N.f(I,j,{configurable:!0,value:T(null)}),x.exports=function(H){I[j][H]=!0}},"44e7":function(x,y,f){var P=f("861d"),T=f("c6b6"),N=f("b622"),j=N("match");x.exports=function(I){var H;return P(I)&&((H=I[j])!==void 0?!!H:T(I)=="RegExp")}},4930:function(x,y,f){var P=f("d039");x.exports=!!Object.getOwnPropertySymbols&&!P(function(){return!String(Symbol())})},"4d64":function(x,y,f){var P=f("fc6a"),T=f("50c4"),N=f("23cb"),j=function(I){return function(H,U,$){var X=P(H),q=T(X.length),rt=N($,q),at;if(I&&U!=U){for(;q>rt;)if(at=X[rt++],at!=at)return!0}else for(;q>rt;rt++)if((I||rt in X)&&X[rt]===U)return I||rt||0;return!I&&-1}};x.exports={includes:j(!0),indexOf:j(!1)}},"4de4":function(x,y,f){var P=f("23e7"),T=f("b727").filter,N=f("1dde"),j=f("ae40"),I=N("filter"),H=j("filter");P({target:"Array",proto:!0,forced:!I||!H},{filter:function($){return T(this,$,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(x,y,f){var P=f("0366"),T=f("7b0b"),N=f("9bdd"),j=f("e95a"),I=f("50c4"),H=f("8418"),U=f("35a1");x.exports=function(X){var q=T(X),rt=typeof this=="function"?this:Array,at=arguments.length,yt=at>1?arguments[1]:void 0,dt=yt!==void 0,Et=U(q),mt=0,Ht,Xt,bt,Bt,Gt,ie;if(dt&&(yt=P(yt,at>2?arguments[2]:void 0,2)),Et!=null&&!(rt==Array&&j(Et)))for(Bt=Et.call(q),Gt=Bt.next,Xt=new rt;!(bt=Gt.call(Bt)).done;mt++)ie=dt?N(Bt,yt,[bt.value,mt],!0):bt.value,H(Xt,mt,ie);else for(Ht=I(q.length),Xt=new rt(Ht);Ht>mt;mt++)ie=dt?yt(q[mt],mt):q[mt],H(Xt,mt,ie);return Xt.length=mt,Xt}},"4fad":function(x,y,f){var P=f("23e7"),T=f("6f53").entries;P({target:"Object",stat:!0},{entries:function(j){return T(j)}})},"50c4":function(x,y,f){var P=f("a691"),T=Math.min;x.exports=function(N){return N>0?T(P(N),9007199254740991):0}},5135:function(x,y){var f={}.hasOwnProperty;x.exports=function(P,T){return f.call(P,T)}},5319:function(x,y,f){var P=f("d784"),T=f("825a"),N=f("7b0b"),j=f("50c4"),I=f("a691"),H=f("1d80"),U=f("8aa5"),$=f("14c3"),X=Math.max,q=Math.min,rt=Math.floor,at=/\$([$&'`]|\d\d?|<[^>]*>)/g,yt=/\$([$&'`]|\d\d?)/g,dt=function(Et){return Et===void 0?Et:String(Et)};P("replace",2,function(Et,mt,Ht,Xt){var bt=Xt.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Bt=Xt.REPLACE_KEEPS_$0,Gt=bt?"$":"$0";return[function(Ft,ne){var jt=H(this),Qt=Ft==null?void 0:Ft[Et];return Qt!==void 0?Qt.call(Ft,jt,ne):mt.call(String(jt),Ft,ne)},function(St,Ft){if(!bt&&Bt||typeof Ft=="string"&&Ft.indexOf(Gt)===-1){var ne=Ht(mt,St,this,Ft);if(ne.done)return ne.value}var jt=T(St),Qt=String(this),xe=typeof Ft=="function";xe||(Ft=String(Ft));var Xe=jt.global;if(Xe){var Oe=jt.unicode;jt.lastIndex=0}for(var we=[];;){var tn=$(jt,Qt);if(tn===null||(we.push(tn),!Xe))break;var vn=String(tn[0]);vn===""&&(jt.lastIndex=U(Qt,j(jt.lastIndex),Oe))}for(var Cn="",Ye=0,Ke=0;Ke<we.length;Ke++){tn=we[Ke];for(var Je=String(tn[0]),Ze=X(q(I(tn.index),Qt.length),0),Ne=[],xn=1;xn<tn.length;xn++)Ne.push(dt(tn[xn]));var or=tn.groups;if(xe){var Be=[Je].concat(Ne,Ze,Qt);or!==void 0&&Be.push(or);var wn=String(Ft.apply(void 0,Be))}else wn=ie(Je,Qt,Ze,Ne,or,Ft);Ze>=Ye&&(Cn+=Qt.slice(Ye,Ze)+wn,Ye=Ze+Je.length)}return Cn+Qt.slice(Ye)}];function ie(St,Ft,ne,jt,Qt,xe){var Xe=ne+St.length,Oe=jt.length,we=yt;return Qt!==void 0&&(Qt=N(Qt),we=at),mt.call(xe,we,function(tn,vn){var Cn;switch(vn.charAt(0)){case"$":return"$";case"&":return St;case"`":return Ft.slice(0,ne);case"'":return Ft.slice(Xe);case"<":Cn=Qt[vn.slice(1,-1)];break;default:var Ye=+vn;if(Ye===0)return tn;if(Ye>Oe){var Ke=rt(Ye/10);return Ke===0?tn:Ke<=Oe?jt[Ke-1]===void 0?vn.charAt(1):jt[Ke-1]+vn.charAt(1):tn}Cn=jt[Ye-1]}return Cn===void 0?"":Cn})}})},5692:function(x,y,f){var P=f("c430"),T=f("c6cd");(x.exports=function(N,j){return T[N]||(T[N]=j!==void 0?j:{})})("versions",[]).push({version:"3.6.5",mode:P?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(x,y,f){var P=f("d066"),T=f("241c"),N=f("7418"),j=f("825a");x.exports=P("Reflect","ownKeys")||function(H){var U=T.f(j(H)),$=N.f;return $?U.concat($(H)):U}},"5a34":function(x,y,f){var P=f("44e7");x.exports=function(T){if(P(T))throw TypeError("The method doesn't accept regular expressions");return T}},"5c6c":function(x,y){x.exports=function(f,P){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:P}}},"5db7":function(x,y,f){var P=f("23e7"),T=f("a2bf"),N=f("7b0b"),j=f("50c4"),I=f("1c0b"),H=f("65f0");P({target:"Array",proto:!0},{flatMap:function($){var X=N(this),q=j(X.length),rt;return I($),rt=H(X,0),rt.length=T(rt,X,X,q,0,1,$,arguments.length>1?arguments[1]:void 0),rt}})},6547:function(x,y,f){var P=f("a691"),T=f("1d80"),N=function(j){return function(I,H){var U=String(T(I)),$=P(H),X=U.length,q,rt;return $<0||$>=X?j?"":void 0:(q=U.charCodeAt($),q<55296||q>56319||$+1===X||(rt=U.charCodeAt($+1))<56320||rt>57343?j?U.charAt($):q:j?U.slice($,$+2):(q-55296<<10)+(rt-56320)+65536)}};x.exports={codeAt:N(!1),charAt:N(!0)}},"65f0":function(x,y,f){var P=f("861d"),T=f("e8b5"),N=f("b622"),j=N("species");x.exports=function(I,H){var U;return T(I)&&(U=I.constructor,typeof U=="function"&&(U===Array||T(U.prototype))?U=void 0:P(U)&&(U=U[j],U===null&&(U=void 0))),new(U===void 0?Array:U)(H===0?0:H)}},"69f3":function(x,y,f){var P=f("7f9a"),T=f("da84"),N=f("861d"),j=f("9112"),I=f("5135"),H=f("f772"),U=f("d012"),$=T.WeakMap,X,q,rt,at=function(bt){return rt(bt)?q(bt):X(bt,{})},yt=function(bt){return function(Bt){var Gt;if(!N(Bt)||(Gt=q(Bt)).type!==bt)throw TypeError("Incompatible receiver, "+bt+" required");return Gt}};if(P){var dt=new $,Et=dt.get,mt=dt.has,Ht=dt.set;X=function(bt,Bt){return Ht.call(dt,bt,Bt),Bt},q=function(bt){return Et.call(dt,bt)||{}},rt=function(bt){return mt.call(dt,bt)}}else{var Xt=H("state");U[Xt]=!0,X=function(bt,Bt){return j(bt,Xt,Bt),Bt},q=function(bt){return I(bt,Xt)?bt[Xt]:{}},rt=function(bt){return I(bt,Xt)}}x.exports={set:X,get:q,has:rt,enforce:at,getterFor:yt}},"6eeb":function(x,y,f){var P=f("da84"),T=f("9112"),N=f("5135"),j=f("ce4e"),I=f("8925"),H=f("69f3"),U=H.get,$=H.enforce,X=String(String).split("String");(x.exports=function(q,rt,at,yt){var dt=yt?!!yt.unsafe:!1,Et=yt?!!yt.enumerable:!1,mt=yt?!!yt.noTargetGet:!1;if(typeof at=="function"&&(typeof rt=="string"&&!N(at,"name")&&T(at,"name",rt),$(at).source=X.join(typeof rt=="string"?rt:"")),q===P){Et?q[rt]=at:j(rt,at);return}else dt?!mt&&q[rt]&&(Et=!0):delete q[rt];Et?q[rt]=at:T(q,rt,at)})(Function.prototype,"toString",function(){return typeof this=="function"&&U(this).source||I(this)})},"6f53":function(x,y,f){var P=f("83ab"),T=f("df75"),N=f("fc6a"),j=f("d1e7").f,I=function(H){return function(U){for(var $=N(U),X=T($),q=X.length,rt=0,at=[],yt;q>rt;)yt=X[rt++],(!P||j.call($,yt))&&at.push(H?[yt,$[yt]]:$[yt]);return at}};x.exports={entries:I(!0),values:I(!1)}},"73d9":function(x,y,f){var P=f("44d2");P("flatMap")},7418:function(x,y){y.f=Object.getOwnPropertySymbols},"746f":function(x,y,f){var P=f("428f"),T=f("5135"),N=f("e538"),j=f("9bf2").f;x.exports=function(I){var H=P.Symbol||(P.Symbol={});T(H,I)||j(H,I,{value:N.f(I)})}},7839:function(x,y){x.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(x,y,f){var P=f("1d80");x.exports=function(T){return Object(P(T))}},"7c73":function(x,y,f){var P=f("825a"),T=f("37e8"),N=f("7839"),j=f("d012"),I=f("1be4"),H=f("cc12"),U=f("f772"),$=">",X="<",q="prototype",rt="script",at=U("IE_PROTO"),yt=function(){},dt=function(bt){return X+rt+$+bt+X+"/"+rt+$},Et=function(bt){bt.write(dt("")),bt.close();var Bt=bt.parentWindow.Object;return bt=null,Bt},mt=function(){var bt=H("iframe"),Bt="java"+rt+":",Gt;return bt.style.display="none",I.appendChild(bt),bt.src=String(Bt),Gt=bt.contentWindow.document,Gt.open(),Gt.write(dt("document.F=Object")),Gt.close(),Gt.F},Ht,Xt=function(){try{Ht=document.domain&&new ActiveXObject("htmlfile")}catch{}Xt=Ht?Et(Ht):mt();for(var bt=N.length;bt--;)delete Xt[q][N[bt]];return Xt()};j[at]=!0,x.exports=Object.create||function(Bt,Gt){var ie;return Bt!==null?(yt[q]=P(Bt),ie=new yt,yt[q]=null,ie[at]=Bt):ie=Xt(),Gt===void 0?ie:T(ie,Gt)}},"7dd0":function(x,y,f){var P=f("23e7"),T=f("9ed3"),N=f("e163"),j=f("d2bb"),I=f("d44e"),H=f("9112"),U=f("6eeb"),$=f("b622"),X=f("c430"),q=f("3f8c"),rt=f("ae93"),at=rt.IteratorPrototype,yt=rt.BUGGY_SAFARI_ITERATORS,dt=$("iterator"),Et="keys",mt="values",Ht="entries",Xt=function(){return this};x.exports=function(bt,Bt,Gt,ie,St,Ft,ne){T(Gt,Bt,ie);var jt=function(Ke){if(Ke===St&&we)return we;if(!yt&&Ke in Xe)return Xe[Ke];switch(Ke){case Et:return function(){return new Gt(this,Ke)};case mt:return function(){return new Gt(this,Ke)};case Ht:return function(){return new Gt(this,Ke)}}return function(){return new Gt(this)}},Qt=Bt+" Iterator",xe=!1,Xe=bt.prototype,Oe=Xe[dt]||Xe["@@iterator"]||St&&Xe[St],we=!yt&&Oe||jt(St),tn=Bt=="Array"&&Xe.entries||Oe,vn,Cn,Ye;if(tn&&(vn=N(tn.call(new bt)),at!==Object.prototype&&vn.next&&(!X&&N(vn)!==at&&(j?j(vn,at):typeof vn[dt]!="function"&&H(vn,dt,Xt)),I(vn,Qt,!0,!0),X&&(q[Qt]=Xt))),St==mt&&Oe&&Oe.name!==mt&&(xe=!0,we=function(){return Oe.call(this)}),(!X||ne)&&Xe[dt]!==we&&H(Xe,dt,we),q[Bt]=we,St)if(Cn={values:jt(mt),keys:Ft?we:jt(Et),entries:jt(Ht)},ne)for(Ye in Cn)(yt||xe||!(Ye in Xe))&&U(Xe,Ye,Cn[Ye]);else P({target:Bt,proto:!0,forced:yt||xe},Cn);return Cn}},"7f9a":function(x,y,f){var P=f("da84"),T=f("8925"),N=P.WeakMap;x.exports=typeof N=="function"&&/native code/.test(T(N))},"825a":function(x,y,f){var P=f("861d");x.exports=function(T){if(!P(T))throw TypeError(String(T)+" is not an object");return T}},"83ab":function(x,y,f){var P=f("d039");x.exports=!P(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(x,y,f){var P=f("c04e"),T=f("9bf2"),N=f("5c6c");x.exports=function(j,I,H){var U=P(I);U in j?T.f(j,U,N(0,H)):j[U]=H}},"861d":function(x,y){x.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},8875:function(x,y,f){var P,T,N;(function(j,I){T=[],P=I,N=typeof P=="function"?P.apply(y,T):P,N!==void 0&&(x.exports=N)})(typeof self<"u"?self:this,function(){function j(){var I=Object.getOwnPropertyDescriptor(document,"currentScript");if(!I&&"currentScript"in document&&document.currentScript||I&&I.get!==j&&document.currentScript)return document.currentScript;try{throw new Error}catch(Ht){var H=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,U=/@([^@]*):(\d+):(\d+)\s*$/ig,$=H.exec(Ht.stack)||U.exec(Ht.stack),X=$&&$[1]||!1,q=$&&$[2]||!1,rt=document.location.href.replace(document.location.hash,""),at,yt,dt,Et=document.getElementsByTagName("script");X===rt&&(at=document.documentElement.outerHTML,yt=new RegExp("(?:[^\\n]+?\\n){0,"+(q-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),dt=at.replace(yt,"$1").trim());for(var mt=0;mt<Et.length;mt++)if(Et[mt].readyState==="interactive"||Et[mt].src===X||X===rt&&Et[mt].innerHTML&&Et[mt].innerHTML.trim()===dt)return Et[mt];return null}}return j})},8925:function(x,y,f){var P=f("c6cd"),T=Function.toString;typeof P.inspectSource!="function"&&(P.inspectSource=function(N){return T.call(N)}),x.exports=P.inspectSource},"8aa5":function(x,y,f){var P=f("6547").charAt;x.exports=function(T,N,j){return N+(j?P(T,N).length:1)}},"8bbf":function(x,y){x.exports=l},"90e3":function(x,y){var f=0,P=Math.random();x.exports=function(T){return"Symbol("+String(T===void 0?"":T)+")_"+(++f+P).toString(36)}},9112:function(x,y,f){var P=f("83ab"),T=f("9bf2"),N=f("5c6c");x.exports=P?function(j,I,H){return T.f(j,I,N(1,H))}:function(j,I,H){return j[I]=H,j}},9263:function(x,y,f){var P=f("ad6d"),T=f("9f7f"),N=RegExp.prototype.exec,j=String.prototype.replace,I=N,H=function(){var q=/a/,rt=/b*/g;return N.call(q,"a"),N.call(rt,"a"),q.lastIndex!==0||rt.lastIndex!==0}(),U=T.UNSUPPORTED_Y||T.BROKEN_CARET,$=/()??/.exec("")[1]!==void 0,X=H||$||U;X&&(I=function(rt){var at=this,yt,dt,Et,mt,Ht=U&&at.sticky,Xt=P.call(at),bt=at.source,Bt=0,Gt=rt;return Ht&&(Xt=Xt.replace("y",""),Xt.indexOf("g")===-1&&(Xt+="g"),Gt=String(rt).slice(at.lastIndex),at.lastIndex>0&&(!at.multiline||at.multiline&&rt[at.lastIndex-1]!==`
`)&&(bt="(?: "+bt+")",Gt=" "+Gt,Bt++),dt=new RegExp("^(?:"+bt+")",Xt)),$&&(dt=new RegExp("^"+bt+"$(?!\\s)",Xt)),H&&(yt=at.lastIndex),Et=N.call(Ht?dt:at,Gt),Ht?Et?(Et.input=Et.input.slice(Bt),Et[0]=Et[0].slice(Bt),Et.index=at.lastIndex,at.lastIndex+=Et[0].length):at.lastIndex=0:H&&Et&&(at.lastIndex=at.global?Et.index+Et[0].length:yt),$&&Et&&Et.length>1&&j.call(Et[0],dt,function(){for(mt=1;mt<arguments.length-2;mt++)arguments[mt]===void 0&&(Et[mt]=void 0)}),Et}),x.exports=I},"94ca":function(x,y,f){var P=f("d039"),T=/#|\.prototype\./,N=function($,X){var q=I[j($)];return q==U?!0:q==H?!1:typeof X=="function"?P(X):!!X},j=N.normalize=function($){return String($).replace(T,".").toLowerCase()},I=N.data={},H=N.NATIVE="N",U=N.POLYFILL="P";x.exports=N},"99af":function(x,y,f){var P=f("23e7"),T=f("d039"),N=f("e8b5"),j=f("861d"),I=f("7b0b"),H=f("50c4"),U=f("8418"),$=f("65f0"),X=f("1dde"),q=f("b622"),rt=f("2d00"),at=q("isConcatSpreadable"),yt=9007199254740991,dt="Maximum allowed index exceeded",Et=rt>=51||!T(function(){var bt=[];return bt[at]=!1,bt.concat()[0]!==bt}),mt=X("concat"),Ht=function(bt){if(!j(bt))return!1;var Bt=bt[at];return Bt!==void 0?!!Bt:N(bt)},Xt=!Et||!mt;P({target:"Array",proto:!0,forced:Xt},{concat:function(Bt){var Gt=I(this),ie=$(Gt,0),St=0,Ft,ne,jt,Qt,xe;for(Ft=-1,jt=arguments.length;Ft<jt;Ft++)if(xe=Ft===-1?Gt:arguments[Ft],Ht(xe)){if(Qt=H(xe.length),St+Qt>yt)throw TypeError(dt);for(ne=0;ne<Qt;ne++,St++)ne in xe&&U(ie,St,xe[ne])}else{if(St>=yt)throw TypeError(dt);U(ie,St++,xe)}return ie.length=St,ie}})},"9bdd":function(x,y,f){var P=f("825a");x.exports=function(T,N,j,I){try{return I?N(P(j)[0],j[1]):N(j)}catch(U){var H=T.return;throw H!==void 0&&P(H.call(T)),U}}},"9bf2":function(x,y,f){var P=f("83ab"),T=f("0cfb"),N=f("825a"),j=f("c04e"),I=Object.defineProperty;y.f=P?I:function(U,$,X){if(N(U),$=j($,!0),N(X),T)try{return I(U,$,X)}catch{}if("get"in X||"set"in X)throw TypeError("Accessors not supported");return"value"in X&&(U[$]=X.value),U}},"9ed3":function(x,y,f){var P=f("ae93").IteratorPrototype,T=f("7c73"),N=f("5c6c"),j=f("d44e"),I=f("3f8c"),H=function(){return this};x.exports=function(U,$,X){var q=$+" Iterator";return U.prototype=T(P,{next:N(1,X)}),j(U,q,!1,!0),I[q]=H,U}},"9f7f":function(x,y,f){var P=f("d039");function T(N,j){return RegExp(N,j)}y.UNSUPPORTED_Y=P(function(){var N=T("a","y");return N.lastIndex=2,N.exec("abcd")!=null}),y.BROKEN_CARET=P(function(){var N=T("^r","gy");return N.lastIndex=2,N.exec("str")!=null})},a2bf:function(x,y,f){var P=f("e8b5"),T=f("50c4"),N=f("0366"),j=function(I,H,U,$,X,q,rt,at){for(var yt=X,dt=0,Et=rt?N(rt,at,3):!1,mt;dt<$;){if(dt in U){if(mt=Et?Et(U[dt],dt,H):U[dt],q>0&&P(mt))yt=j(I,H,mt,T(mt.length),yt,q-1)-1;else{if(yt>=9007199254740991)throw TypeError("Exceed the acceptable array length");I[yt]=mt}yt++}dt++}return yt};x.exports=j},a352:function(x,y){x.exports=E},a434:function(x,y,f){var P=f("23e7"),T=f("23cb"),N=f("a691"),j=f("50c4"),I=f("7b0b"),H=f("65f0"),U=f("8418"),$=f("1dde"),X=f("ae40"),q=$("splice"),rt=X("splice",{ACCESSORS:!0,0:0,1:2}),at=Math.max,yt=Math.min,dt=9007199254740991,Et="Maximum allowed length exceeded";P({target:"Array",proto:!0,forced:!q||!rt},{splice:function(Ht,Xt){var bt=I(this),Bt=j(bt.length),Gt=T(Ht,Bt),ie=arguments.length,St,Ft,ne,jt,Qt,xe;if(ie===0?St=Ft=0:ie===1?(St=0,Ft=Bt-Gt):(St=ie-2,Ft=yt(at(N(Xt),0),Bt-Gt)),Bt+St-Ft>dt)throw TypeError(Et);for(ne=H(bt,Ft),jt=0;jt<Ft;jt++)Qt=Gt+jt,Qt in bt&&U(ne,jt,bt[Qt]);if(ne.length=Ft,St<Ft){for(jt=Gt;jt<Bt-Ft;jt++)Qt=jt+Ft,xe=jt+St,Qt in bt?bt[xe]=bt[Qt]:delete bt[xe];for(jt=Bt;jt>Bt-Ft+St;jt--)delete bt[jt-1]}else if(St>Ft)for(jt=Bt-Ft;jt>Gt;jt--)Qt=jt+Ft-1,xe=jt+St-1,Qt in bt?bt[xe]=bt[Qt]:delete bt[xe];for(jt=0;jt<St;jt++)bt[jt+Gt]=arguments[jt+2];return bt.length=Bt-Ft+St,ne}})},a4d3:function(x,y,f){var P=f("23e7"),T=f("da84"),N=f("d066"),j=f("c430"),I=f("83ab"),H=f("4930"),U=f("fdbf"),$=f("d039"),X=f("5135"),q=f("e8b5"),rt=f("861d"),at=f("825a"),yt=f("7b0b"),dt=f("fc6a"),Et=f("c04e"),mt=f("5c6c"),Ht=f("7c73"),Xt=f("df75"),bt=f("241c"),Bt=f("057f"),Gt=f("7418"),ie=f("06cf"),St=f("9bf2"),Ft=f("d1e7"),ne=f("9112"),jt=f("6eeb"),Qt=f("5692"),xe=f("f772"),Xe=f("d012"),Oe=f("90e3"),we=f("b622"),tn=f("e538"),vn=f("746f"),Cn=f("d44e"),Ye=f("69f3"),Ke=f("b727").forEach,Je=xe("hidden"),Ze="Symbol",Ne="prototype",xn=we("toPrimitive"),or=Ye.set,Be=Ye.getterFor(Ze),wn=Object[Ne],En=T.Symbol,Kn=N("JSON","stringify"),Mr=ie.f,Tr=St.f,ji=Bt.f,ze=Ft.f,vr=Qt("symbols"),to=Qt("op-symbols"),Fo=Qt("string-to-symbol-registry"),ei=Qt("symbol-to-string-registry"),ir=Qt("wks"),ni=T.QObject,eo=!ni||!ni[Ne]||!ni[Ne].findChild,Wn=I&&$(function(){return Ht(Tr({},"a",{get:function(){return Tr(this,"a",{value:7}).a}})).a!=7})?function(re,Yt,_t){var me=Mr(wn,Yt);me&&delete wn[Yt],Tr(re,Yt,_t),me&&re!==wn&&Tr(wn,Yt,me)}:Tr,yr=function(re,Yt){var _t=vr[re]=Ht(En[Ne]);return or(_t,{type:Ze,tag:re,description:Yt}),I||(_t.description=Yt),_t},ot=U?function(re){return typeof re=="symbol"}:function(re){return Object(re)instanceof En},it=function(Yt,_t,me){Yt===wn&&it(to,_t,me),at(Yt);var ge=Et(_t,!0);return at(me),X(vr,ge)?(me.enumerable?(X(Yt,Je)&&Yt[Je][ge]&&(Yt[Je][ge]=!1),me=Ht(me,{enumerable:mt(0,!1)})):(X(Yt,Je)||Tr(Yt,Je,mt(1,{})),Yt[Je][ge]=!0),Wn(Yt,ge,me)):Tr(Yt,ge,me)},ht=function(Yt,_t){at(Yt);var me=dt(_t),ge=Xt(me).concat(Ae(me));return Ke(ge,function(zn){(!I||Ut.call(me,zn))&&it(Yt,zn,me[zn])}),Yt},Mt=function(Yt,_t){return _t===void 0?Ht(Yt):ht(Ht(Yt),_t)},Ut=function(Yt){var _t=Et(Yt,!0),me=ze.call(this,_t);return this===wn&&X(vr,_t)&&!X(to,_t)?!1:me||!X(this,_t)||!X(vr,_t)||X(this,Je)&&this[Je][_t]?me:!0},Jt=function(Yt,_t){var me=dt(Yt),ge=Et(_t,!0);if(!(me===wn&&X(vr,ge)&&!X(to,ge))){var zn=Mr(me,ge);return zn&&X(vr,ge)&&!(X(me,Je)&&me[Je][ge])&&(zn.enumerable=!0),zn}},he=function(Yt){var _t=ji(dt(Yt)),me=[];return Ke(_t,function(ge){!X(vr,ge)&&!X(Xe,ge)&&me.push(ge)}),me},Ae=function(Yt){var _t=Yt===wn,me=ji(_t?to:dt(Yt)),ge=[];return Ke(me,function(zn){X(vr,zn)&&(!_t||X(wn,zn))&&ge.push(vr[zn])}),ge};if(H||(En=function(){if(this instanceof En)throw TypeError("Symbol is not a constructor");var Yt=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),_t=Oe(Yt),me=function(ge){this===wn&&me.call(to,ge),X(this,Je)&&X(this[Je],_t)&&(this[Je][_t]=!1),Wn(this,_t,mt(1,ge))};return I&&eo&&Wn(wn,_t,{configurable:!0,set:me}),yr(_t,Yt)},jt(En[Ne],"toString",function(){return Be(this).tag}),jt(En,"withoutSetter",function(re){return yr(Oe(re),re)}),Ft.f=Ut,St.f=it,ie.f=Jt,bt.f=Bt.f=he,Gt.f=Ae,tn.f=function(re){return yr(we(re),re)},I&&(Tr(En[Ne],"description",{configurable:!0,get:function(){return Be(this).description}}),j||jt(wn,"propertyIsEnumerable",Ut,{unsafe:!0}))),P({global:!0,wrap:!0,forced:!H,sham:!H},{Symbol:En}),Ke(Xt(ir),function(re){vn(re)}),P({target:Ze,stat:!0,forced:!H},{for:function(re){var Yt=String(re);if(X(Fo,Yt))return Fo[Yt];var _t=En(Yt);return Fo[Yt]=_t,ei[_t]=Yt,_t},keyFor:function(Yt){if(!ot(Yt))throw TypeError(Yt+" is not a symbol");if(X(ei,Yt))return ei[Yt]},useSetter:function(){eo=!0},useSimple:function(){eo=!1}}),P({target:"Object",stat:!0,forced:!H,sham:!I},{create:Mt,defineProperty:it,defineProperties:ht,getOwnPropertyDescriptor:Jt}),P({target:"Object",stat:!0,forced:!H},{getOwnPropertyNames:he,getOwnPropertySymbols:Ae}),P({target:"Object",stat:!0,forced:$(function(){Gt.f(1)})},{getOwnPropertySymbols:function(Yt){return Gt.f(yt(Yt))}}),Kn){var sn=!H||$(function(){var re=En();return Kn([re])!="[null]"||Kn({a:re})!="{}"||Kn(Object(re))!="{}"});P({target:"JSON",stat:!0,forced:sn},{stringify:function(Yt,_t,me){for(var ge=[Yt],zn=1,Bi;arguments.length>zn;)ge.push(arguments[zn++]);if(Bi=_t,!(!rt(_t)&&Yt===void 0||ot(Yt)))return q(_t)||(_t=function(ic,Ro){if(typeof Bi=="function"&&(Ro=Bi.call(this,ic,Ro)),!ot(Ro))return Ro}),ge[1]=_t,Kn.apply(null,ge)}})}En[Ne][xn]||ne(En[Ne],xn,En[Ne].valueOf),Cn(En,Ze),Xe[Je]=!0},a630:function(x,y,f){var P=f("23e7"),T=f("4df4"),N=f("1c7e"),j=!N(function(I){Array.from(I)});P({target:"Array",stat:!0,forced:j},{from:T})},a640:function(x,y,f){var P=f("d039");x.exports=function(T,N){var j=[][T];return!!j&&P(function(){j.call(null,N||function(){throw 1},1)})}},a691:function(x,y){var f=Math.ceil,P=Math.floor;x.exports=function(T){return isNaN(T=+T)?0:(T>0?P:f)(T)}},ab13:function(x,y,f){var P=f("b622"),T=P("match");x.exports=function(N){var j=/./;try{"/./"[N](j)}catch{try{return j[T]=!1,"/./"[N](j)}catch{}}return!1}},ac1f:function(x,y,f){var P=f("23e7"),T=f("9263");P({target:"RegExp",proto:!0,forced:/./.exec!==T},{exec:T})},ad6d:function(x,y,f){var P=f("825a");x.exports=function(){var T=P(this),N="";return T.global&&(N+="g"),T.ignoreCase&&(N+="i"),T.multiline&&(N+="m"),T.dotAll&&(N+="s"),T.unicode&&(N+="u"),T.sticky&&(N+="y"),N}},ae40:function(x,y,f){var P=f("83ab"),T=f("d039"),N=f("5135"),j=Object.defineProperty,I={},H=function(U){throw U};x.exports=function(U,$){if(N(I,U))return I[U];$||($={});var X=[][U],q=N($,"ACCESSORS")?$.ACCESSORS:!1,rt=N($,0)?$[0]:H,at=N($,1)?$[1]:void 0;return I[U]=!!X&&!T(function(){if(q&&!P)return!0;var yt={length:-1};q?j(yt,1,{enumerable:!0,get:H}):yt[1]=1,X.call(yt,rt,at)})}},ae93:function(x,y,f){var P=f("e163"),T=f("9112"),N=f("5135"),j=f("b622"),I=f("c430"),H=j("iterator"),U=!1,$=function(){return this},X,q,rt;[].keys&&(rt=[].keys(),"next"in rt?(q=P(P(rt)),q!==Object.prototype&&(X=q)):U=!0),X==null&&(X={}),!I&&!N(X,H)&&T(X,H,$),x.exports={IteratorPrototype:X,BUGGY_SAFARI_ITERATORS:U}},b041:function(x,y,f){var P=f("00ee"),T=f("f5df");x.exports=P?{}.toString:function(){return"[object "+T(this)+"]"}},b0c0:function(x,y,f){var P=f("83ab"),T=f("9bf2").f,N=Function.prototype,j=N.toString,I=/^\s*function ([^ (]*)/,H="name";P&&!(H in N)&&T(N,H,{configurable:!0,get:function(){try{return j.call(this).match(I)[1]}catch{return""}}})},b622:function(x,y,f){var P=f("da84"),T=f("5692"),N=f("5135"),j=f("90e3"),I=f("4930"),H=f("fdbf"),U=T("wks"),$=P.Symbol,X=H?$:$&&$.withoutSetter||j;x.exports=function(q){return N(U,q)||(I&&N($,q)?U[q]=$[q]:U[q]=X("Symbol."+q)),U[q]}},b64b:function(x,y,f){var P=f("23e7"),T=f("7b0b"),N=f("df75"),j=f("d039"),I=j(function(){N(1)});P({target:"Object",stat:!0,forced:I},{keys:function(U){return N(T(U))}})},b727:function(x,y,f){var P=f("0366"),T=f("44ad"),N=f("7b0b"),j=f("50c4"),I=f("65f0"),H=[].push,U=function($){var X=$==1,q=$==2,rt=$==3,at=$==4,yt=$==6,dt=$==5||yt;return function(Et,mt,Ht,Xt){for(var bt=N(Et),Bt=T(bt),Gt=P(mt,Ht,3),ie=j(Bt.length),St=0,Ft=Xt||I,ne=X?Ft(Et,ie):q?Ft(Et,0):void 0,jt,Qt;ie>St;St++)if((dt||St in Bt)&&(jt=Bt[St],Qt=Gt(jt,St,bt),$)){if(X)ne[St]=Qt;else if(Qt)switch($){case 3:return!0;case 5:return jt;case 6:return St;case 2:H.call(ne,jt)}else if(at)return!1}return yt?-1:rt||at?at:ne}};x.exports={forEach:U(0),map:U(1),filter:U(2),some:U(3),every:U(4),find:U(5),findIndex:U(6)}},c04e:function(x,y,f){var P=f("861d");x.exports=function(T,N){if(!P(T))return T;var j,I;if(N&&typeof(j=T.toString)=="function"&&!P(I=j.call(T))||typeof(j=T.valueOf)=="function"&&!P(I=j.call(T))||!N&&typeof(j=T.toString)=="function"&&!P(I=j.call(T)))return I;throw TypeError("Can't convert object to primitive value")}},c430:function(x,y){x.exports=!1},c6b6:function(x,y){var f={}.toString;x.exports=function(P){return f.call(P).slice(8,-1)}},c6cd:function(x,y,f){var P=f("da84"),T=f("ce4e"),N="__core-js_shared__",j=P[N]||T(N,{});x.exports=j},c740:function(x,y,f){var P=f("23e7"),T=f("b727").findIndex,N=f("44d2"),j=f("ae40"),I="findIndex",H=!0,U=j(I);I in[]&&Array(1)[I](function(){H=!1}),P({target:"Array",proto:!0,forced:H||!U},{findIndex:function(X){return T(this,X,arguments.length>1?arguments[1]:void 0)}}),N(I)},c8ba:function(x,y){var f;f=function(){return this}();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}x.exports=f},c975:function(x,y,f){var P=f("23e7"),T=f("4d64").indexOf,N=f("a640"),j=f("ae40"),I=[].indexOf,H=!!I&&1/[1].indexOf(1,-0)<0,U=N("indexOf"),$=j("indexOf",{ACCESSORS:!0,1:0});P({target:"Array",proto:!0,forced:H||!U||!$},{indexOf:function(q){return H?I.apply(this,arguments)||0:T(this,q,arguments.length>1?arguments[1]:void 0)}})},ca84:function(x,y,f){var P=f("5135"),T=f("fc6a"),N=f("4d64").indexOf,j=f("d012");x.exports=function(I,H){var U=T(I),$=0,X=[],q;for(q in U)!P(j,q)&&P(U,q)&&X.push(q);for(;H.length>$;)P(U,q=H[$++])&&(~N(X,q)||X.push(q));return X}},caad:function(x,y,f){var P=f("23e7"),T=f("4d64").includes,N=f("44d2"),j=f("ae40"),I=j("indexOf",{ACCESSORS:!0,1:0});P({target:"Array",proto:!0,forced:!I},{includes:function(U){return T(this,U,arguments.length>1?arguments[1]:void 0)}}),N("includes")},cc12:function(x,y,f){var P=f("da84"),T=f("861d"),N=P.document,j=T(N)&&T(N.createElement);x.exports=function(I){return j?N.createElement(I):{}}},ce4e:function(x,y,f){var P=f("da84"),T=f("9112");x.exports=function(N,j){try{T(P,N,j)}catch{P[N]=j}return j}},d012:function(x,y){x.exports={}},d039:function(x,y){x.exports=function(f){try{return!!f()}catch{return!0}}},d066:function(x,y,f){var P=f("428f"),T=f("da84"),N=function(j){return typeof j=="function"?j:void 0};x.exports=function(j,I){return arguments.length<2?N(P[j])||N(T[j]):P[j]&&P[j][I]||T[j]&&T[j][I]}},d1e7:function(x,y,f){var P={}.propertyIsEnumerable,T=Object.getOwnPropertyDescriptor,N=T&&!P.call({1:2},1);y.f=N?function(I){var H=T(this,I);return!!H&&H.enumerable}:P},d28b:function(x,y,f){var P=f("746f");P("iterator")},d2bb:function(x,y,f){var P=f("825a"),T=f("3bbe");x.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var N=!1,j={},I;try{I=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,I.call(j,[]),N=j instanceof Array}catch{}return function(U,$){return P(U),T($),N?I.call(U,$):U.__proto__=$,U}}():void 0)},d3b7:function(x,y,f){var P=f("00ee"),T=f("6eeb"),N=f("b041");P||T(Object.prototype,"toString",N,{unsafe:!0})},d44e:function(x,y,f){var P=f("9bf2").f,T=f("5135"),N=f("b622"),j=N("toStringTag");x.exports=function(I,H,U){I&&!T(I=U?I:I.prototype,j)&&P(I,j,{configurable:!0,value:H})}},d58f:function(x,y,f){var P=f("1c0b"),T=f("7b0b"),N=f("44ad"),j=f("50c4"),I=function(H){return function(U,$,X,q){P($);var rt=T(U),at=N(rt),yt=j(rt.length),dt=H?yt-1:0,Et=H?-1:1;if(X<2)for(;;){if(dt in at){q=at[dt],dt+=Et;break}if(dt+=Et,H?dt<0:yt<=dt)throw TypeError("Reduce of empty array with no initial value")}for(;H?dt>=0:yt>dt;dt+=Et)dt in at&&(q=$(q,at[dt],dt,rt));return q}};x.exports={left:I(!1),right:I(!0)}},d784:function(x,y,f){f("ac1f");var P=f("6eeb"),T=f("d039"),N=f("b622"),j=f("9263"),I=f("9112"),H=N("species"),U=!T(function(){var at=/./;return at.exec=function(){var yt=[];return yt.groups={a:"7"},yt},"".replace(at,"$<a>")!=="7"}),$=function(){return"a".replace(/./,"$0")==="$0"}(),X=N("replace"),q=function(){return/./[X]?/./[X]("a","$0")==="":!1}(),rt=!T(function(){var at=/(?:)/,yt=at.exec;at.exec=function(){return yt.apply(this,arguments)};var dt="ab".split(at);return dt.length!==2||dt[0]!=="a"||dt[1]!=="b"});x.exports=function(at,yt,dt,Et){var mt=N(at),Ht=!T(function(){var St={};return St[mt]=function(){return 7},""[at](St)!=7}),Xt=Ht&&!T(function(){var St=!1,Ft=/a/;return at==="split"&&(Ft={},Ft.constructor={},Ft.constructor[H]=function(){return Ft},Ft.flags="",Ft[mt]=/./[mt]),Ft.exec=function(){return St=!0,null},Ft[mt](""),!St});if(!Ht||!Xt||at==="replace"&&!(U&&$&&!q)||at==="split"&&!rt){var bt=/./[mt],Bt=dt(mt,""[at],function(St,Ft,ne,jt,Qt){return Ft.exec===j?Ht&&!Qt?{done:!0,value:bt.call(Ft,ne,jt)}:{done:!0,value:St.call(ne,Ft,jt)}:{done:!1}},{REPLACE_KEEPS_$0:$,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:q}),Gt=Bt[0],ie=Bt[1];P(String.prototype,at,Gt),P(RegExp.prototype,mt,yt==2?function(St,Ft){return ie.call(St,this,Ft)}:function(St){return ie.call(St,this)})}Et&&I(RegExp.prototype[mt],"sham",!0)}},d81d:function(x,y,f){var P=f("23e7"),T=f("b727").map,N=f("1dde"),j=f("ae40"),I=N("map"),H=j("map");P({target:"Array",proto:!0,forced:!I||!H},{map:function($){return T(this,$,arguments.length>1?arguments[1]:void 0)}})},da84:function(x,y,f){(function(P){var T=function(N){return N&&N.Math==Math&&N};x.exports=T(typeof globalThis=="object"&&globalThis)||T(typeof window=="object"&&window)||T(typeof self=="object"&&self)||T(typeof P=="object"&&P)||Function("return this")()}).call(this,f("c8ba"))},dbb4:function(x,y,f){var P=f("23e7"),T=f("83ab"),N=f("56ef"),j=f("fc6a"),I=f("06cf"),H=f("8418");P({target:"Object",stat:!0,sham:!T},{getOwnPropertyDescriptors:function($){for(var X=j($),q=I.f,rt=N(X),at={},yt=0,dt,Et;rt.length>yt;)Et=q(X,dt=rt[yt++]),Et!==void 0&&H(at,dt,Et);return at}})},dbf1:function(x,y,f){(function(P){f.d(y,"a",function(){return N});function T(){return typeof window<"u"?window.console:P.console}var N=T()}).call(this,f("c8ba"))},ddb0:function(x,y,f){var P=f("da84"),T=f("fdbc"),N=f("e260"),j=f("9112"),I=f("b622"),H=I("iterator"),U=I("toStringTag"),$=N.values;for(var X in T){var q=P[X],rt=q&&q.prototype;if(rt){if(rt[H]!==$)try{j(rt,H,$)}catch{rt[H]=$}if(rt[U]||j(rt,U,X),T[X]){for(var at in N)if(rt[at]!==N[at])try{j(rt,at,N[at])}catch{rt[at]=N[at]}}}}},df75:function(x,y,f){var P=f("ca84"),T=f("7839");x.exports=Object.keys||function(j){return P(j,T)}},e01a:function(x,y,f){var P=f("23e7"),T=f("83ab"),N=f("da84"),j=f("5135"),I=f("861d"),H=f("9bf2").f,U=f("e893"),$=N.Symbol;if(T&&typeof $=="function"&&(!("description"in $.prototype)||$().description!==void 0)){var X={},q=function(){var mt=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),Ht=this instanceof q?new $(mt):mt===void 0?$():$(mt);return mt===""&&(X[Ht]=!0),Ht};U(q,$);var rt=q.prototype=$.prototype;rt.constructor=q;var at=rt.toString,yt=String($("test"))=="Symbol(test)",dt=/^Symbol\((.*)\)[^)]+$/;H(rt,"description",{configurable:!0,get:function(){var mt=I(this)?this.valueOf():this,Ht=at.call(mt);if(j(X,mt))return"";var Xt=yt?Ht.slice(7,-1):Ht.replace(dt,"$1");return Xt===""?void 0:Xt}}),P({global:!0,forced:!0},{Symbol:q})}},e163:function(x,y,f){var P=f("5135"),T=f("7b0b"),N=f("f772"),j=f("e177"),I=N("IE_PROTO"),H=Object.prototype;x.exports=j?Object.getPrototypeOf:function(U){return U=T(U),P(U,I)?U[I]:typeof U.constructor=="function"&&U instanceof U.constructor?U.constructor.prototype:U instanceof Object?H:null}},e177:function(x,y,f){var P=f("d039");x.exports=!P(function(){function T(){}return T.prototype.constructor=null,Object.getPrototypeOf(new T)!==T.prototype})},e260:function(x,y,f){var P=f("fc6a"),T=f("44d2"),N=f("3f8c"),j=f("69f3"),I=f("7dd0"),H="Array Iterator",U=j.set,$=j.getterFor(H);x.exports=I(Array,"Array",function(X,q){U(this,{type:H,target:P(X),index:0,kind:q})},function(){var X=$(this),q=X.target,rt=X.kind,at=X.index++;return!q||at>=q.length?(X.target=void 0,{value:void 0,done:!0}):rt=="keys"?{value:at,done:!1}:rt=="values"?{value:q[at],done:!1}:{value:[at,q[at]],done:!1}},"values"),N.Arguments=N.Array,T("keys"),T("values"),T("entries")},e439:function(x,y,f){var P=f("23e7"),T=f("d039"),N=f("fc6a"),j=f("06cf").f,I=f("83ab"),H=T(function(){j(1)}),U=!I||H;P({target:"Object",stat:!0,forced:U,sham:!I},{getOwnPropertyDescriptor:function(X,q){return j(N(X),q)}})},e538:function(x,y,f){var P=f("b622");y.f=P},e893:function(x,y,f){var P=f("5135"),T=f("56ef"),N=f("06cf"),j=f("9bf2");x.exports=function(I,H){for(var U=T(H),$=j.f,X=N.f,q=0;q<U.length;q++){var rt=U[q];P(I,rt)||$(I,rt,X(H,rt))}}},e8b5:function(x,y,f){var P=f("c6b6");x.exports=Array.isArray||function(N){return P(N)=="Array"}},e95a:function(x,y,f){var P=f("b622"),T=f("3f8c"),N=P("iterator"),j=Array.prototype;x.exports=function(I){return I!==void 0&&(T.Array===I||j[N]===I)}},f5df:function(x,y,f){var P=f("00ee"),T=f("c6b6"),N=f("b622"),j=N("toStringTag"),I=T(function(){return arguments}())=="Arguments",H=function(U,$){try{return U[$]}catch{}};x.exports=P?T:function(U){var $,X,q;return U===void 0?"Undefined":U===null?"Null":typeof(X=H($=Object(U),j))=="string"?X:I?T($):(q=T($))=="Object"&&typeof $.callee=="function"?"Arguments":q}},f772:function(x,y,f){var P=f("5692"),T=f("90e3"),N=P("keys");x.exports=function(j){return N[j]||(N[j]=T(j))}},fb15:function(x,y,f){if(f.r(y),typeof window<"u"){var P=window.document.currentScript;{var T=f("8875");P=T(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:T})}var N=P&&P.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);N&&(f.p=N[1])}f("99af"),f("4de4"),f("4160"),f("c975"),f("d81d"),f("a434"),f("159b"),f("a4d3"),f("e439"),f("dbb4"),f("b64b");function j(ot,it,ht){return it in ot?Object.defineProperty(ot,it,{value:ht,enumerable:!0,configurable:!0,writable:!0}):ot[it]=ht,ot}function I(ot,it){var ht=Object.keys(ot);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(ot);it&&(Mt=Mt.filter(function(Ut){return Object.getOwnPropertyDescriptor(ot,Ut).enumerable})),ht.push.apply(ht,Mt)}return ht}function H(ot){for(var it=1;it<arguments.length;it++){var ht=arguments[it]!=null?arguments[it]:{};it%2?I(Object(ht),!0).forEach(function(Mt){j(ot,Mt,ht[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(ht)):I(Object(ht)).forEach(function(Mt){Object.defineProperty(ot,Mt,Object.getOwnPropertyDescriptor(ht,Mt))})}return ot}function U(ot){if(Array.isArray(ot))return ot}f("e01a"),f("d28b"),f("e260"),f("d3b7"),f("3ca3"),f("ddb0");function $(ot,it){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ot)))){var ht=[],Mt=!0,Ut=!1,Jt=void 0;try{for(var he=ot[Symbol.iterator](),Ae;!(Mt=(Ae=he.next()).done)&&(ht.push(Ae.value),!(it&&ht.length===it));Mt=!0);}catch(sn){Ut=!0,Jt=sn}finally{try{!Mt&&he.return!=null&&he.return()}finally{if(Ut)throw Jt}}return ht}}f("a630"),f("fb6a"),f("b0c0"),f("25f0");function X(ot,it){(it==null||it>ot.length)&&(it=ot.length);for(var ht=0,Mt=new Array(it);ht<it;ht++)Mt[ht]=ot[ht];return Mt}function q(ot,it){if(!!ot){if(typeof ot=="string")return X(ot,it);var ht=Object.prototype.toString.call(ot).slice(8,-1);if(ht==="Object"&&ot.constructor&&(ht=ot.constructor.name),ht==="Map"||ht==="Set")return Array.from(ot);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return X(ot,it)}}function rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function at(ot,it){return U(ot)||$(ot,it)||q(ot,it)||rt()}function yt(ot){if(Array.isArray(ot))return X(ot)}function dt(ot){if(typeof Symbol<"u"&&Symbol.iterator in Object(ot))return Array.from(ot)}function Et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(ot){return yt(ot)||dt(ot)||q(ot)||Et()}var Ht=f("a352"),Xt=f.n(Ht);function bt(ot){ot.parentElement!==null&&ot.parentElement.removeChild(ot)}function Bt(ot,it,ht){var Mt=ht===0?ot.children[0]:ot.children[ht-1].nextSibling;ot.insertBefore(it,Mt)}var Gt=f("dbf1");f("13d5"),f("4fad"),f("ac1f"),f("5319");function ie(ot){var it=Object.create(null);return function(Mt){var Ut=it[Mt];return Ut||(it[Mt]=ot(Mt))}}var St=/-(\w)/g,Ft=ie(function(ot){return ot.replace(St,function(it,ht){return ht.toUpperCase()})});f("5db7"),f("73d9");var ne=["Start","Add","Remove","Update","End"],jt=["Choose","Unchoose","Sort","Filter","Clone"],Qt=["Move"],xe=[Qt,ne,jt].flatMap(function(ot){return ot}).map(function(ot){return"on".concat(ot)}),Xe={manage:Qt,manageAndEmit:ne,emit:jt};function Oe(ot){return xe.indexOf(ot)!==-1}f("caad"),f("2ca0");var we=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function tn(ot){return we.includes(ot)}function vn(ot){return["transition-group","TransitionGroup"].includes(ot)}function Cn(ot){return["id","class","role","style"].includes(ot)||ot.startsWith("data-")||ot.startsWith("aria-")||ot.startsWith("on")}function Ye(ot){return ot.reduce(function(it,ht){var Mt=at(ht,2),Ut=Mt[0],Jt=Mt[1];return it[Ut]=Jt,it},{})}function Ke(ot){var it=ot.$attrs,ht=ot.componentData,Mt=ht===void 0?{}:ht,Ut=Ye(Object.entries(it).filter(function(Jt){var he=at(Jt,2),Ae=he[0];return he[1],Cn(Ae)}));return H(H({},Ut),Mt)}function Je(ot){var it=ot.$attrs,ht=ot.callBackBuilder,Mt=Ye(Ze(it));Object.entries(ht).forEach(function(Jt){var he=at(Jt,2),Ae=he[0],sn=he[1];Xe[Ae].forEach(function(re){Mt["on".concat(re)]=sn(re)})});var Ut="[data-draggable]".concat(Mt.draggable||"");return H(H({},Mt),{},{draggable:Ut})}function Ze(ot){return Object.entries(ot).filter(function(it){var ht=at(it,2),Mt=ht[0];return ht[1],!Cn(Mt)}).map(function(it){var ht=at(it,2),Mt=ht[0],Ut=ht[1];return[Ft(Mt),Ut]}).filter(function(it){var ht=at(it,2),Mt=ht[0];return ht[1],!Oe(Mt)})}f("c740");function Ne(ot,it){if(!(ot instanceof it))throw new TypeError("Cannot call a class as a function")}function xn(ot,it){for(var ht=0;ht<it.length;ht++){var Mt=it[ht];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(ot,Mt.key,Mt)}}function or(ot,it,ht){return it&&xn(ot.prototype,it),ht&&xn(ot,ht),ot}var Be=function(it){var ht=it.el;return ht},wn=function(it,ht){return it.__draggable_context=ht},En=function(it){return it.__draggable_context},Kn=function(){function ot(it){var ht=it.nodes,Mt=ht.header,Ut=ht.default,Jt=ht.footer,he=it.root,Ae=it.realList;Ne(this,ot),this.defaultNodes=Ut,this.children=[].concat(mt(Mt),mt(Ut),mt(Jt)),this.externalComponent=he.externalComponent,this.rootTransition=he.transition,this.tag=he.tag,this.realList=Ae}return or(ot,[{key:"render",value:function(ht,Mt){var Ut=this.tag,Jt=this.children,he=this._isRootComponent,Ae=he?{default:function(){return Jt}}:Jt;return ht(Ut,Mt,Ae)}},{key:"updated",value:function(){var ht=this.defaultNodes,Mt=this.realList;ht.forEach(function(Ut,Jt){wn(Be(Ut),{element:Mt[Jt],index:Jt})})}},{key:"getUnderlyingVm",value:function(ht){return En(ht)}},{key:"getVmIndexFromDomIndex",value:function(ht,Mt){var Ut=this.defaultNodes,Jt=Ut.length,he=Mt.children,Ae=he.item(ht);if(Ae===null)return Jt;var sn=En(Ae);if(sn)return sn.index;if(Jt===0)return 0;var re=Be(Ut[0]),Yt=mt(he).findIndex(function(_t){return _t===re});return ht<Yt?0:Jt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),ot}(),Mr=f("8bbf");function Tr(ot,it){var ht=ot[it];return ht?ht():[]}function ji(ot){var it=ot.$slots,ht=ot.realList,Mt=ot.getKey,Ut=ht||[],Jt=["header","footer"].map(function(_t){return Tr(it,_t)}),he=at(Jt,2),Ae=he[0],sn=he[1],re=it.item;if(!re)throw new Error("draggable element must have an item slot");var Yt=Ut.flatMap(function(_t,me){return re({element:_t,index:me}).map(function(ge){return ge.key=Mt(_t),ge.props=H(H({},ge.props||{}),{},{"data-draggable":!0}),ge})});if(Yt.length!==Ut.length)throw new Error("Item slot must have only one child");return{header:Ae,footer:sn,default:Yt}}function ze(ot){var it=vn(ot),ht=!tn(ot)&&!it;return{transition:it,externalComponent:ht,tag:ht?Object(Mr.resolveComponent)(ot):it?Mr.TransitionGroup:ot}}function vr(ot){var it=ot.$slots,ht=ot.tag,Mt=ot.realList,Ut=ot.getKey,Jt=ji({$slots:it,realList:Mt,getKey:Ut}),he=ze(ht);return new Kn({nodes:Jt,root:he,realList:Mt})}function to(ot,it){var ht=this;Object(Mr.nextTick)(function(){return ht.$emit(ot.toLowerCase(),it)})}function Fo(ot){var it=this;return function(ht,Mt){if(it.realList!==null)return it["onDrag".concat(ot)](ht,Mt)}}function ei(ot){var it=this,ht=Fo.call(this,ot);return function(Mt,Ut){ht.call(it,Mt,Ut),to.call(it,ot,Mt)}}var ir=null,ni={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(it){return it}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},eo=["update:modelValue","change"].concat(mt([].concat(mt(Xe.manageAndEmit),mt(Xe.emit)).map(function(ot){return ot.toLowerCase()}))),Wn=Object(Mr.defineComponent)({name:"draggable",inheritAttrs:!1,props:ni,emits:eo,data:function(){return{error:!1}},render:function(){try{this.error=!1;var it=this.$slots,ht=this.$attrs,Mt=this.tag,Ut=this.componentData,Jt=this.realList,he=this.getKey,Ae=vr({$slots:it,tag:Mt,realList:Jt,getKey:he});this.componentStructure=Ae;var sn=Ke({$attrs:ht,componentData:Ut});return Ae.render(Mr.h,sn)}catch(re){return this.error=!0,Object(Mr.h)("pre",{style:{color:"red"}},re.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&Gt.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var it=this;if(!this.error){var ht=this.$attrs,Mt=this.$el,Ut=this.componentStructure;Ut.updated();var Jt=Je({$attrs:ht,callBackBuilder:{manageAndEmit:function(sn){return ei.call(it,sn)},emit:function(sn){return to.bind(it,sn)},manage:function(sn){return Fo.call(it,sn)}}}),he=Mt.nodeType===1?Mt:Mt.parentElement;this._sortable=new Xt.a(he,Jt),this.targetDomElement=he,he.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var it=this.list;return it||this.modelValue},getKey:function(){var it=this.itemKey;return typeof it=="function"?it:function(ht){return ht[it]}}},watch:{$attrs:{handler:function(it){var ht=this._sortable;!ht||Ze(it).forEach(function(Mt){var Ut=at(Mt,2),Jt=Ut[0],he=Ut[1];ht.option(Jt,he)})},deep:!0}},methods:{getUnderlyingVm:function(it){return this.componentStructure.getUnderlyingVm(it)||null},getUnderlyingPotencialDraggableComponent:function(it){return it.__draggable_component__},emitChanges:function(it){var ht=this;Object(Mr.nextTick)(function(){return ht.$emit("change",it)})},alterList:function(it){if(this.list){it(this.list);return}var ht=mt(this.modelValue);it(ht),this.$emit("update:modelValue",ht)},spliceList:function(){var it=arguments,ht=function(Ut){return Ut.splice.apply(Ut,mt(it))};this.alterList(ht)},updatePosition:function(it,ht){var Mt=function(Jt){return Jt.splice(ht,0,Jt.splice(it,1)[0])};this.alterList(Mt)},getRelatedContextFromMoveEvent:function(it){var ht=it.to,Mt=it.related,Ut=this.getUnderlyingPotencialDraggableComponent(ht);if(!Ut)return{component:Ut};var Jt=Ut.realList,he={list:Jt,component:Ut};if(ht!==Mt&&Jt){var Ae=Ut.getUnderlyingVm(Mt)||{};return H(H({},Ae),he)}return he},getVmIndexFromDomIndex:function(it){return this.componentStructure.getVmIndexFromDomIndex(it,this.targetDomElement)},onDragStart:function(it){this.context=this.getUnderlyingVm(it.item),it.item._underlying_vm_=this.clone(this.context.element),ir=it.item},onDragAdd:function(it){var ht=it.item._underlying_vm_;if(ht!==void 0){bt(it.item);var Mt=this.getVmIndexFromDomIndex(it.newIndex);this.spliceList(Mt,0,ht);var Ut={element:ht,newIndex:Mt};this.emitChanges({added:Ut})}},onDragRemove:function(it){if(Bt(this.$el,it.item,it.oldIndex),it.pullMode==="clone"){bt(it.clone);return}var ht=this.context,Mt=ht.index,Ut=ht.element;this.spliceList(Mt,1);var Jt={element:Ut,oldIndex:Mt};this.emitChanges({removed:Jt})},onDragUpdate:function(it){bt(it.item),Bt(it.from,it.item,it.oldIndex);var ht=this.context.index,Mt=this.getVmIndexFromDomIndex(it.newIndex);this.updatePosition(ht,Mt);var Ut={element:this.context.element,oldIndex:ht,newIndex:Mt};this.emitChanges({moved:Ut})},computeFutureIndex:function(it,ht){if(!it.element)return 0;var Mt=mt(ht.to.children).filter(function(Ae){return Ae.style.display!=="none"}),Ut=Mt.indexOf(ht.related),Jt=it.component.getVmIndexFromDomIndex(Ut),he=Mt.indexOf(ir)!==-1;return he||!ht.willInsertAfter?Jt:Jt+1},onDragMove:function(it,ht){var Mt=this.move,Ut=this.realList;if(!Mt||!Ut)return!0;var Jt=this.getRelatedContextFromMoveEvent(it),he=this.computeFutureIndex(Jt,it),Ae=H(H({},this.context),{},{futureIndex:he}),sn=H(H({},it),{},{relatedContext:Jt,draggedContext:Ae});return Mt(sn,ht)},onDragEnd:function(){ir=null}}}),yr=Wn;y.default=yr},fb6a:function(x,y,f){var P=f("23e7"),T=f("861d"),N=f("e8b5"),j=f("23cb"),I=f("50c4"),H=f("fc6a"),U=f("8418"),$=f("b622"),X=f("1dde"),q=f("ae40"),rt=X("slice"),at=q("slice",{ACCESSORS:!0,0:0,1:2}),yt=$("species"),dt=[].slice,Et=Math.max;P({target:"Array",proto:!0,forced:!rt||!at},{slice:function(Ht,Xt){var bt=H(this),Bt=I(bt.length),Gt=j(Ht,Bt),ie=j(Xt===void 0?Bt:Xt,Bt),St,Ft,ne;if(N(bt)&&(St=bt.constructor,typeof St=="function"&&(St===Array||N(St.prototype))?St=void 0:T(St)&&(St=St[yt],St===null&&(St=void 0)),St===Array||St===void 0))return dt.call(bt,Gt,ie);for(Ft=new(St===void 0?Array:St)(Et(ie-Gt,0)),ne=0;Gt<ie;Gt++,ne++)Gt in bt&&U(Ft,ne,bt[Gt]);return Ft.length=ne,Ft}})},fc6a:function(x,y,f){var P=f("44ad"),T=f("1d80");x.exports=function(N){return P(T(N))}},fdbc:function(x,y){x.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(x,y,f){var P=f("4930");x.exports=P&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(am);const l3=lw(am.exports);let mm=["back","classify","clear","decode","edit","zan","fire","label","like","location","mes","next","notes","password","pause","personal","photo","picture","review","pre"];const Ny=Math.ceil(mm.length/2),Vs=[],ky=(v,m)=>m?{type:v}:{type:v,children:[]};mm.forEach((v,m)=>{var E;[0,Ny].includes(m)&&Vs.push(ky(m?"\u6761\u4EF6":"\u6267\u884C",0));let l=Math.floor(m/Ny);(E=Vs[l].children)==null||E.push(ky(v,1))});const u3=Vs[0].children.map(v=>v.type),nd=Vs[1].children.map(v=>v.type),c3=Up({name:"strategicMenu",components:{draggable:l3},setup(v,{emit:m,slots:l}){function E(y,f){m("addNode",y.item.dataset.type)}function x(y,f){}return{getIcon:rm,getAssetsFile:SE,menuList:Vs,onStart:x,onEnd:E,drag:!1,myArray:[],element:{id:100,name:"element test"}}}});const h3={class:"strategic-menu"},p3={class:"menu-title"},d3=["data-type"],f3={class:"menu-item"},g3={class:"menu-item-bg"},v3={class:"img-content"},y3=["src"];function m3(v,m,l,E,x,y){const f=fw("draggable");return mp(),yp("div",h3,[(mp(!0),yp(cw,null,hw(v.menuList,P=>(mp(),yp("div",{key:P.type,class:"menu"},[wa("p",p3,pw(P.type),1),Qo(f,{"force-fallback":"true",sort:!1,list:P.children,class:"item-list",onStart:v.onStart,onEnd:v.onEnd},{item:dw(({element:T})=>[wa("section",{"data-type":T.type},[wa("li",f3,[wa("div",g3,[wa("div",v3,[wa("img",{src:v.getIcon(`../assets/icon/${T.type}.png`)},null,8,y3)])])])],8,d3)]),_:2},1032,["list","onStart","onEnd"])]))),128))])}const Ly=uw(c3,[["render",m3],["__scopeId","data-v-add0e81b"]]);const b3=Up({name:"antv",components:{},setup(v,{emit:m,slots:l}){const E=ry("getNode"),x=ry("getGraph");let y=gw({type:""}),f=E();return x(),f.on("change:data",()=>{let{id:P}=f;console.log("change:data",P,f.data)}),y.type=f.data.type,console.log("nodeDom",f.data.type),()=>{const{type:P}=y;return Qo("div",{class:"node-component","data-type":P},[Qo("img",{src:rm(`../assets/icon/${P}.png`)},null)])}}});function C3(){return No.exports.Graph.registerVueComponent("nodeComponent",{template:"<nodeDom></nodeDom>",data(){return{}},methods:{},components:{nodeDom:b3}},!0),new No.exports.Graph({container:document.getElementById("picture"),width:2200,height:1e3,grid:!0,translating:{restrict(v){const m=v.cell;return{x:m.getBBox().x,y:m.getBBox().y,width:0,height:0}}},panning:{enabled:!0,eventTypes:["leftMouseDown","rightMouseDown"]},mousewheel:{enabled:!0,modifiers:["ctrl","meta"]},clipboard:{enabled:!0},selecting:{enabled:!0},keyboard:{enabled:!0,global:!0},connecting:{snap:!0,allowBlank:!1,allowMulti:"withPort",allowLoop:!1,allowEdge:!1,allowPort:!1,highlight:!0,router:{name:"manhattan"}}})}function x3(v,m){v.on("node:mouseenter",({e:l,node:E})=>{var y;let x=l.target;for(E.setData({jin:"hua"});x;){if(((y=x==null?void 0:x.dataset)==null?void 0:y.type)==="download"){x.style=`
            box-shadow: 0 0 5px #03e9f4,
            0 0 5px #03e9f4,
            0 0 10px #03e9f4,
            0 0 20px #03e9f4;`,m.value=E;break}x=x.parentNode}}),v.on("node:mouseleave",({e:l})=>{let E=l.target;for(;E;){if(E.className==="node-component"){E.style="",m.value=null;break}E=E.parentNode}})}const Gp=500,Hp=100,tc=40,w3=100,Ii=60;let Fy=0;function bm(v,m=0,l){var E;if(v.guid&&(l[v.guid]=v),(E=v==null?void 0:v.children)!=null&&E.length){let x=nd.includes(v.type)?tc*2:tc,y=v.children.map(P=>bm(P,m+Ii+x,l)),f=y.length;v.position.x=(y[0].position.x+y[f-1].position.x)/2,v.position.y=m}else v.position.x=Fy+=w3+Ii,v.position.y=m;return m===0&&(Fy=0),v}function Ku(v){return{guid:im(),type:v,position:{x:0,y:0},children:[]}}const To={guid:im(),type:"play",position:{x:0,y:0},children:[Ku("download")]},Np={};To.position;function E3(v,m,l,E={},x=""){let{children:y,position:f,...P}=E;v.addNode({id:x,shape:"vue-shape",x:m-To.position.x+Gp,y:l-To.position.y+Hp,width:Ii,height:Ii,component:"nodeComponent",movable:!1,draggable:!0,data:{...P,guid:x}})}function Cm(v,m,l){var E;E3(v,m.position.x,m.position.y,{type:m.type,...m},m.guid),(E=m==null?void 0:m.children)!=null&&E.length&&m.children.forEach(x=>{Cm(v,x,l),S3(v,m.guid,x.guid,l)})}function S3(v,m,l,E){let{position:x,type:y}=E[m],f=E[l].position,P=[{x:x.x+Ii/2-To.position.x+Gp,y:x.y+Ii+tc-To.position.y+Hp},{x:f.x+Ii/2-To.position.x+Gp,y:f.y-tc-To.position.y+Hp}];v.addEdge({source:m,target:l,connector:{name:"normal"},inherit:"edge",vertices:nd.includes(y)?P:[],attrs:{line:{stroke:"#3D83F1"}}})}const A3=Up({name:"antv",components:{strategicMenu:Ly},setup(v,{emit:m,slots:l}){let E=null,x=vw("");function y(){bm(To,0,Np),E.clearCells(),Cm(E,To,Np)}yw(()=>{E=C3(),x3(E,x)}),oy(()=>{y()});function f(P){if(!x.value){alert("\u8BF7\u628A\u62D6\u5165 + \u8282\u70B9\u4E2D");return}let{guid:T}=x.value.getData(),N=Np[T];N.type=P,u3.includes(P)?N.children=[Ku("download")]:nd.includes(P)&&(N.children=[Ku("download"),Ku("download")]),oy(()=>{y()})}return()=>Qo("div",{class:"strategic-canvas"},[Qo("section",{class:"left"},[Qo(Ly,{onAddNode:f},null)]),Qo("section",{class:"right"},[Qo("div",{ref:"picture",class:"picture",id:"picture"},null)])])}});export{A3 as default};
